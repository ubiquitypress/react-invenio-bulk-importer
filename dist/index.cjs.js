"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const y=require("react"),hn=require("react-overridable"),Js=require("axios"),ei=require("qs"),I=require("react-redux"),d=require("semantic-ui-react"),lt=require("redux"),ti=require("redux-thunk"),ri=require("lodash"),J=require("react-invenio-forms"),ni=require("formik"),ae=e=>e&&e.__esModule?e:{default:e},o=ae(y),S=ae(hn),Ae=ae(Js),se=ae(ei),ai=ae(ti),si=ae(ri);var Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ii=Object.prototype;function oi(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ii;return e===r}var ze=oi;function li(e,t){return function(r){return e(t(r))}}var gn=li,ui=gn,ci=ui(Object.keys,Object),di=ci,fi=ze,pi=di,hi=Object.prototype,gi=hi.hasOwnProperty;function mi(e){if(!fi(e))return pi(e);var t=[];for(var r in Object(e))gi.call(e,r)&&r!="constructor"&&t.push(r);return t}var mn=mi,yi=typeof Ce=="object"&&Ce&&Ce.Object===Object&&Ce,yn=yi,bi=yn,vi=typeof self=="object"&&self&&self.Object===Object&&self,Si=bi||vi||Function("return this")(),z=Si,Ei=z,_i=Ei.Symbol,ie=_i,nr=ie,bn=Object.prototype,$i=bn.hasOwnProperty,Ci=bn.toString,fe=nr?nr.toStringTag:void 0;function xi(e){var t=$i.call(e,fe),r=e[fe];try{e[fe]=void 0;var n=!0}catch{}var a=Ci.call(e);return n&&(t?e[fe]=r:delete e[fe]),a}var wi=xi,Ti=Object.prototype,Ii=Ti.toString;function Ai(e){return Ii.call(e)}var Fi=Ai,ar=ie,Oi=wi,Ri=Fi,Pi="[object Null]",ki="[object Undefined]",sr=ar?ar.toStringTag:void 0;function Di(e){return e==null?e===void 0?ki:Pi:sr&&sr in Object(e)?Oi(e):Ri(e)}var Y=Di;function Li(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var V=Li;const Bi=A(V);var Ni=Y,Ui=V,Mi="[object AsyncFunction]",zi="[object Function]",ji="[object GeneratorFunction]",Qi="[object Proxy]";function qi(e){if(!Ui(e))return!1;var t=Ni(e);return t==zi||t==ji||t==Mi||t==Qi}var vn=qi,Gi=z,Vi=Gi["__core-js_shared__"],Hi=Vi,nt=Hi,ir=function(){var e=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Yi(e){return!!ir&&ir in e}var Wi=Yi,Ki=Function.prototype,Xi=Ki.toString;function Zi(e){if(e!=null){try{return Xi.call(e)}catch{}try{return e+""}catch{}}return""}var Sn=Zi,Ji=vn,eo=Wi,to=V,ro=Sn,no=/[\\^$.*+?()[\]{}|]/g,ao=/^\[object .+?Constructor\]$/,so=Function.prototype,io=Object.prototype,oo=so.toString,lo=io.hasOwnProperty,uo=RegExp("^"+oo.call(lo).replace(no,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function co(e){if(!to(e)||eo(e))return!1;var t=Ji(e)?uo:ao;return t.test(ro(e))}var fo=co;function po(e,t){return e==null?void 0:e[t]}var ho=po,go=fo,mo=ho;function yo(e,t){var r=mo(e,t);return go(r)?r:void 0}var X=yo,bo=X,vo=z,So=bo(vo,"DataView"),Eo=So,_o=X,$o=z,Co=_o($o,"Map"),wt=Co,xo=X,wo=z,To=xo(wo,"Promise"),Io=To,Ao=X,Fo=z,Oo=Ao(Fo,"Set"),Ro=Oo,Po=X,ko=z,Do=Po(ko,"WeakMap"),Lo=Do,ut=Eo,ct=wt,dt=Io,ft=Ro,pt=Lo,En=Y,oe=Sn,or="[object Map]",Bo="[object Object]",lr="[object Promise]",ur="[object Set]",cr="[object WeakMap]",dr="[object DataView]",No=oe(ut),Uo=oe(ct),Mo=oe(dt),zo=oe(ft),jo=oe(pt),W=En;(ut&&W(new ut(new ArrayBuffer(1)))!=dr||ct&&W(new ct)!=or||dt&&W(dt.resolve())!=lr||ft&&W(new ft)!=ur||pt&&W(new pt)!=cr)&&(W=function(e){var t=En(e),r=t==Bo?e.constructor:void 0,n=r?oe(r):"";if(n)switch(n){case No:return dr;case Uo:return or;case Mo:return lr;case zo:return ur;case jo:return cr}return t});var be=W;function Qo(e){return e!=null&&typeof e=="object"}var j=Qo,qo=Y,Go=j,Vo="[object Arguments]";function Ho(e){return Go(e)&&qo(e)==Vo}var Yo=Ho,fr=Yo,Wo=j,_n=Object.prototype,Ko=_n.hasOwnProperty,Xo=_n.propertyIsEnumerable,Zo=fr(function(){return arguments}())?fr:function(e){return Wo(e)&&Ko.call(e,"callee")&&!Xo.call(e,"callee")},je=Zo,Jo=Array.isArray,P=Jo;const $n=A(P);var el=9007199254740991;function tl(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=el}var Tt=tl,rl=vn,nl=Tt;function al(e){return e!=null&&nl(e.length)&&!rl(e)}var Qe=al,Re={exports:{}};function sl(){return!1}var il=sl;Re.exports;(function(e,t){var r=z,n=il,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||n;e.exports=c})(Re,Re.exports);var qe=Re.exports,ol=Y,ll=Tt,ul=j,cl="[object Arguments]",dl="[object Array]",fl="[object Boolean]",pl="[object Date]",hl="[object Error]",gl="[object Function]",ml="[object Map]",yl="[object Number]",bl="[object Object]",vl="[object RegExp]",Sl="[object Set]",El="[object String]",_l="[object WeakMap]",$l="[object ArrayBuffer]",Cl="[object DataView]",xl="[object Float32Array]",wl="[object Float64Array]",Tl="[object Int8Array]",Il="[object Int16Array]",Al="[object Int32Array]",Fl="[object Uint8Array]",Ol="[object Uint8ClampedArray]",Rl="[object Uint16Array]",Pl="[object Uint32Array]",x={};x[xl]=x[wl]=x[Tl]=x[Il]=x[Al]=x[Fl]=x[Ol]=x[Rl]=x[Pl]=!0;x[cl]=x[dl]=x[$l]=x[fl]=x[Cl]=x[pl]=x[hl]=x[gl]=x[ml]=x[yl]=x[bl]=x[vl]=x[Sl]=x[El]=x[_l]=!1;function kl(e){return ul(e)&&ll(e.length)&&!!x[ol(e)]}var Dl=kl;function Ll(e){return function(t){return e(t)}}var It=Ll,Pe={exports:{}};Pe.exports;(function(e,t){var r=yn,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(Pe,Pe.exports);var At=Pe.exports,Bl=Dl,Nl=It,pr=At,hr=pr&&pr.isTypedArray,Ul=hr?Nl(hr):Bl,Ft=Ul,Ml=mn,zl=be,jl=je,Ql=P,ql=Qe,Gl=qe,Vl=ze,Hl=Ft,Yl="[object Map]",Wl="[object Set]",Kl=Object.prototype,Xl=Kl.hasOwnProperty;function Zl(e){if(e==null)return!0;if(ql(e)&&(Ql(e)||typeof e=="string"||typeof e.splice=="function"||Gl(e)||Hl(e)||jl(e)))return!e.length;var t=zl(e);if(t==Yl||t==Wl)return!e.size;if(Vl(e))return!Ml(e).length;for(var r in e)if(Xl.call(e,r))return!1;return!0}var Jl=Zl;const Q=A(Jl);var eu=Y,tu=j,ru="[object Symbol]";function nu(e){return typeof e=="symbol"||tu(e)&&eu(e)==ru}var Ot=nu,au=P,su=Ot,iu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ou=/^\w*$/;function lu(e,t){if(au(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||su(e)?!0:ou.test(e)||!iu.test(e)||t!=null&&e in Object(t)}var Rt=lu,uu=X,cu=uu(Object,"create"),Ge=cu,gr=Ge;function du(){this.__data__=gr?gr(null):{},this.size=0}var fu=du;function pu(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hu=pu,gu=Ge,mu="__lodash_hash_undefined__",yu=Object.prototype,bu=yu.hasOwnProperty;function vu(e){var t=this.__data__;if(gu){var r=t[e];return r===mu?void 0:r}return bu.call(t,e)?t[e]:void 0}var Su=vu,Eu=Ge,_u=Object.prototype,$u=_u.hasOwnProperty;function Cu(e){var t=this.__data__;return Eu?t[e]!==void 0:$u.call(t,e)}var xu=Cu,wu=Ge,Tu="__lodash_hash_undefined__";function Iu(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=wu&&t===void 0?Tu:t,this}var Au=Iu,Fu=fu,Ou=hu,Ru=Su,Pu=xu,ku=Au;function le(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}le.prototype.clear=Fu;le.prototype.delete=Ou;le.prototype.get=Ru;le.prototype.has=Pu;le.prototype.set=ku;var Du=le;function Lu(){this.__data__=[],this.size=0}var Bu=Lu;function Nu(e,t){return e===t||e!==e&&t!==t}var Ve=Nu,Uu=Ve;function Mu(e,t){for(var r=e.length;r--;)if(Uu(e[r][0],t))return r;return-1}var He=Mu,zu=He,ju=Array.prototype,Qu=ju.splice;function qu(e){var t=this.__data__,r=zu(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Qu.call(t,r,1),--this.size,!0}var Gu=qu,Vu=He;function Hu(e){var t=this.__data__,r=Vu(t,e);return r<0?void 0:t[r][1]}var Yu=Hu,Wu=He;function Ku(e){return Wu(this.__data__,e)>-1}var Xu=Ku,Zu=He;function Ju(e,t){var r=this.__data__,n=Zu(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ec=Ju,tc=Bu,rc=Gu,nc=Yu,ac=Xu,sc=ec;function ue(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ue.prototype.clear=tc;ue.prototype.delete=rc;ue.prototype.get=nc;ue.prototype.has=ac;ue.prototype.set=sc;var Ye=ue,mr=Du,ic=Ye,oc=wt;function lc(){this.size=0,this.__data__={hash:new mr,map:new(oc||ic),string:new mr}}var uc=lc;function cc(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dc=cc,fc=dc;function pc(e,t){var r=e.__data__;return fc(t)?r[typeof t=="string"?"string":"hash"]:r.map}var We=pc,hc=We;function gc(e){var t=hc(this,e).delete(e);return this.size-=t?1:0,t}var mc=gc,yc=We;function bc(e){return yc(this,e).get(e)}var vc=bc,Sc=We;function Ec(e){return Sc(this,e).has(e)}var _c=Ec,$c=We;function Cc(e,t){var r=$c(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var xc=Cc,wc=uc,Tc=mc,Ic=vc,Ac=_c,Fc=xc;function ce(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ce.prototype.clear=wc;ce.prototype.delete=Tc;ce.prototype.get=Ic;ce.prototype.has=Ac;ce.prototype.set=Fc;var Pt=ce,Cn=Pt,Oc="Expected a function";function kt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Oc);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(kt.Cache||Cn),r}kt.Cache=Cn;var Rc=kt,Pc=Rc,kc=500;function Dc(e){var t=Pc(e,function(n){return r.size===kc&&r.clear(),n}),r=t.cache;return t}var Lc=Dc,Bc=Lc,Nc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uc=/\\(\\)?/g,Mc=Bc(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Nc,function(r,n,a,s){t.push(a?s.replace(Uc,"$1"):n||r)}),t}),zc=Mc;function jc(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Qc=jc,yr=ie,qc=Qc,Gc=P,Vc=Ot,Hc=1/0,br=yr?yr.prototype:void 0,vr=br?br.toString:void 0;function xn(e){if(typeof e=="string")return e;if(Gc(e))return qc(e,xn)+"";if(Vc(e))return vr?vr.call(e):"";var t=e+"";return t=="0"&&1/e==-Hc?"-0":t}var Yc=xn,Wc=Yc;function Kc(e){return e==null?"":Wc(e)}var ve=Kc,Xc=P,Zc=Rt,Jc=zc,ed=ve;function td(e,t){return Xc(e)?e:Zc(e,t)?[e]:Jc(ed(e))}var Ke=td,rd=Ot,nd=1/0;function ad(e){if(typeof e=="string"||rd(e))return e;var t=e+"";return t=="0"&&1/e==-nd?"-0":t}var Se=ad,sd=Ke,id=Se;function od(e,t){t=sd(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[id(t[r++])];return r&&r==n?e:void 0}var Dt=od,ld=Dt;function ud(e,t,r){var n=e==null?void 0:ld(e,t);return n===void 0?r:n}var wn=ud;const he=A(wn);function cd(e,t){return e!=null&&t in Object(e)}var dd=cd,fd=9007199254740991,pd=/^(?:0|[1-9]\d*)$/;function hd(e,t){var r=typeof e;return t=t??fd,!!t&&(r=="number"||r!="symbol"&&pd.test(e))&&e>-1&&e%1==0&&e<t}var Xe=hd,gd=Ke,md=je,yd=P,bd=Xe,vd=Tt,Sd=Se;function Ed(e,t,r){t=gd(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=Sd(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&vd(a)&&bd(i,a)&&(yd(e)||md(e)))}var Tn=Ed,_d=dd,$d=Tn;function Cd(e,t){return e!=null&&$d(e,t,_d)}var Lt=Cd;const xd=A(Lt);var wd=X,Td=function(){try{var e=wd(Object,"defineProperty");return e({},"",{}),e}catch{}}(),In=Td,Sr=In;function Id(e,t,r){t=="__proto__"&&Sr?Sr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Ze=Id,Ad=Ze,Fd=Ve,Od=Object.prototype,Rd=Od.hasOwnProperty;function Pd(e,t,r){var n=e[t];(!(Rd.call(e,t)&&Fd(n,r))||r===void 0&&!(t in e))&&Ad(e,t,r)}var Bt=Pd,kd=Bt,Dd=Ze;function Ld(e,t,r,n){var a=!r;r||(r={});for(var s=-1,i=t.length;++s<i;){var l=t[s],u=n?n(r[l],e[l],l,r,e):void 0;u===void 0&&(u=e[l]),a?Dd(r,l,u):kd(r,l,u)}return r}var Ee=Ld;function Bd(e){return e}var Nt=Bd;function Nd(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Ud=Nd,Md=Ud,Er=Math.max;function zd(e,t,r){return t=Er(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=Er(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),Md(e,this,l)}}var An=zd;function jd(e){return function(){return e}}var Qd=jd,qd=Qd,_r=In,Gd=Nt,Vd=_r?function(e,t){return _r(e,"toString",{configurable:!0,enumerable:!1,value:qd(t),writable:!0})}:Gd,Hd=Vd,Yd=800,Wd=16,Kd=Date.now;function Xd(e){var t=0,r=0;return function(){var n=Kd(),a=Wd-(n-r);if(r=n,a>0){if(++t>=Yd)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Zd=Xd,Jd=Hd,ef=Zd,tf=ef(Jd),Fn=tf,rf=Nt,nf=An,af=Fn;function sf(e,t){return af(nf(e,t,rf),e+"")}var of=sf,lf=Ve,uf=Qe,cf=Xe,df=V;function ff(e,t,r){if(!df(r))return!1;var n=typeof t;return(n=="number"?uf(r)&&cf(t,r.length):n=="string"&&t in r)?lf(r[t],e):!1}var pf=ff,hf=of,gf=pf;function mf(e){return hf(function(t,r){var n=-1,a=r.length,s=a>1?r[a-1]:void 0,i=a>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(a--,s):void 0,i&&gf(r[0],r[1],i)&&(s=a<3?void 0:s,a=1),t=Object(t);++n<a;){var l=r[n];l&&e(t,l,n,s)}return t})}var yf=mf;function bf(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var vf=bf,Sf=vf,Ef=je,_f=P,$f=qe,Cf=Xe,xf=Ft,wf=Object.prototype,Tf=wf.hasOwnProperty;function If(e,t){var r=_f(e),n=!r&&Ef(e),a=!r&&!n&&$f(e),s=!r&&!n&&!a&&xf(e),i=r||n||a||s,l=i?Sf(e.length,String):[],u=l.length;for(var c in e)(t||Tf.call(e,c))&&!(i&&(c=="length"||a&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Cf(c,u)))&&l.push(c);return l}var On=If;function Af(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Ff=Af,Of=V,Rf=ze,Pf=Ff,kf=Object.prototype,Df=kf.hasOwnProperty;function Lf(e){if(!Of(e))return Pf(e);var t=Rf(e),r=[];for(var n in e)n=="constructor"&&(t||!Df.call(e,n))||r.push(n);return r}var Bf=Lf,Nf=On,Uf=Bf,Mf=Qe;function zf(e){return Mf(e)?Nf(e,!0):Uf(e)}var Je=zf,jf=Ee,Qf=yf,qf=Je,Gf=Qf(function(e,t){jf(t,qf(t),e)}),Vf=Gf,Hf=Vf;const ke=A(Hf);function Yf(e){return e&&e.length?e[0]:void 0}var Wf=Yf;const Kf=A(Wf);var Xf=Bt,Zf=Ke,Jf=Xe,$r=V,ep=Se;function tp(e,t,r,n){if(!$r(e))return e;t=Zf(t,e);for(var a=-1,s=t.length,i=s-1,l=e;l!=null&&++a<s;){var u=ep(t[a]),c=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(a!=i){var f=l[u];c=n?n(f,u,l):void 0,c===void 0&&(c=$r(f)?f:Jf(t[a+1])?[]:{})}Xf(l,u,c),l=l[u]}return e}var rp=tp,np=Dt,ap=rp,sp=Ke;function ip(e,t,r){for(var n=-1,a=t.length,s={};++n<a;){var i=t[n],l=np(e,i);r(l,i)&&ap(s,sp(i,e),l)}return s}var op=ip,lp=op,up=Lt;function cp(e,t){return lp(e,t,function(r,n){return up(e,n)})}var dp=cp;function fp(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Ut=fp,Cr=ie,pp=je,hp=P,xr=Cr?Cr.isConcatSpreadable:void 0;function gp(e){return hp(e)||pp(e)||!!(xr&&e&&e[xr])}var mp=gp,yp=Ut,bp=mp;function Rn(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=bp),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?Rn(l,t-1,r,n,a):yp(a,l):n||(a[a.length]=l)}return a}var vp=Rn,Sp=vp;function Ep(e){var t=e==null?0:e.length;return t?Sp(e,1):[]}var _p=Ep,$p=_p,Cp=An,xp=Fn;function wp(e){return xp(Cp(e,void 0,$p),e+"")}var Tp=wp,Ip=dp,Ap=Tp,Fp=Ap(function(e,t){return e==null?{}:Ip(e,t)}),Op=Fp;const Rp=A(Op);var Pp=Ye;function kp(){this.__data__=new Pp,this.size=0}var Dp=kp;function Lp(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Bp=Lp;function Np(e){return this.__data__.get(e)}var Up=Np;function Mp(e){return this.__data__.has(e)}var zp=Mp,jp=Ye,Qp=wt,qp=Pt,Gp=200;function Vp(e,t){var r=this.__data__;if(r instanceof jp){var n=r.__data__;if(!Qp||n.length<Gp-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new qp(n)}return r.set(e,t),this.size=r.size,this}var Hp=Vp,Yp=Ye,Wp=Dp,Kp=Bp,Xp=Up,Zp=zp,Jp=Hp;function de(e){var t=this.__data__=new Yp(e);this.size=t.size}de.prototype.clear=Wp;de.prototype.delete=Kp;de.prototype.get=Xp;de.prototype.has=Zp;de.prototype.set=Jp;var Mt=de;function eh(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var th=eh,rh=On,nh=mn,ah=Qe;function sh(e){return ah(e)?rh(e):nh(e)}var _e=sh,ih=Ee,oh=_e;function lh(e,t){return e&&ih(t,oh(t),e)}var uh=lh,ch=Ee,dh=Je;function fh(e,t){return e&&ch(t,dh(t),e)}var ph=fh,De={exports:{}};De.exports;(function(e,t){var r=z,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s?r.Buffer:void 0,l=i?i.allocUnsafe:void 0;function u(c,f){if(f)return c.slice();var p=c.length,h=l?l(p):new c.constructor(p);return c.copy(h),h}e.exports=u})(De,De.exports);var hh=De.exports;function gh(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var mh=gh;function yh(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var bh=yh;function vh(){return[]}var Pn=vh,Sh=bh,Eh=Pn,_h=Object.prototype,$h=_h.propertyIsEnumerable,wr=Object.getOwnPropertySymbols,Ch=wr?function(e){return e==null?[]:(e=Object(e),Sh(wr(e),function(t){return $h.call(e,t)}))}:Eh,zt=Ch,xh=Ee,wh=zt;function Th(e,t){return xh(e,wh(e),t)}var Ih=Th,Ah=gn,Fh=Ah(Object.getPrototypeOf,Object),kn=Fh,Oh=Ut,Rh=kn,Ph=zt,kh=Pn,Dh=Object.getOwnPropertySymbols,Lh=Dh?function(e){for(var t=[];e;)Oh(t,Ph(e)),e=Rh(e);return t}:kh,Dn=Lh,Bh=Ee,Nh=Dn;function Uh(e,t){return Bh(e,Nh(e),t)}var Mh=Uh,zh=Ut,jh=P;function Qh(e,t,r){var n=t(e);return jh(e)?n:zh(n,r(e))}var Ln=Qh,qh=Ln,Gh=zt,Vh=_e;function Hh(e){return qh(e,Vh,Gh)}var Bn=Hh,Yh=Ln,Wh=Dn,Kh=Je;function Xh(e){return Yh(e,Kh,Wh)}var Zh=Xh,Jh=Object.prototype,eg=Jh.hasOwnProperty;function tg(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&eg.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var rg=tg,ng=z,ag=ng.Uint8Array,Nn=ag,Tr=Nn;function sg(e){var t=new e.constructor(e.byteLength);return new Tr(t).set(new Tr(e)),t}var jt=sg,ig=jt;function og(e,t){var r=t?ig(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var lg=og,ug=/\w*$/;function cg(e){var t=new e.constructor(e.source,ug.exec(e));return t.lastIndex=e.lastIndex,t}var dg=cg,Ir=ie,Ar=Ir?Ir.prototype:void 0,Fr=Ar?Ar.valueOf:void 0;function fg(e){return Fr?Object(Fr.call(e)):{}}var pg=fg,hg=jt;function gg(e,t){var r=t?hg(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var mg=gg,yg=jt,bg=lg,vg=dg,Sg=pg,Eg=mg,_g="[object Boolean]",$g="[object Date]",Cg="[object Map]",xg="[object Number]",wg="[object RegExp]",Tg="[object Set]",Ig="[object String]",Ag="[object Symbol]",Fg="[object ArrayBuffer]",Og="[object DataView]",Rg="[object Float32Array]",Pg="[object Float64Array]",kg="[object Int8Array]",Dg="[object Int16Array]",Lg="[object Int32Array]",Bg="[object Uint8Array]",Ng="[object Uint8ClampedArray]",Ug="[object Uint16Array]",Mg="[object Uint32Array]";function zg(e,t,r){var n=e.constructor;switch(t){case Fg:return yg(e);case _g:case $g:return new n(+e);case Og:return bg(e,r);case Rg:case Pg:case kg:case Dg:case Lg:case Bg:case Ng:case Ug:case Mg:return Eg(e,r);case Cg:return new n;case xg:case Ig:return new n(e);case wg:return vg(e);case Tg:return new n;case Ag:return Sg(e)}}var jg=zg,Qg=V,Or=Object.create,qg=function(){function e(){}return function(t){if(!Qg(t))return{};if(Or)return Or(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Gg=qg,Vg=Gg,Hg=kn,Yg=ze;function Wg(e){return typeof e.constructor=="function"&&!Yg(e)?Vg(Hg(e)):{}}var Kg=Wg,Xg=be,Zg=j,Jg="[object Map]";function em(e){return Zg(e)&&Xg(e)==Jg}var tm=em,rm=tm,nm=It,Rr=At,Pr=Rr&&Rr.isMap,am=Pr?nm(Pr):rm,sm=am,im=be,om=j,lm="[object Set]";function um(e){return om(e)&&im(e)==lm}var cm=um,dm=cm,fm=It,kr=At,Dr=kr&&kr.isSet,pm=Dr?fm(Dr):dm,hm=pm,gm=Mt,mm=th,ym=Bt,bm=uh,vm=ph,Sm=hh,Em=mh,_m=Ih,$m=Mh,Cm=Bn,xm=Zh,wm=be,Tm=rg,Im=jg,Am=Kg,Fm=P,Om=qe,Rm=sm,Pm=V,km=hm,Dm=_e,Lm=Je,Bm=1,Nm=2,Um=4,Un="[object Arguments]",Mm="[object Array]",zm="[object Boolean]",jm="[object Date]",Qm="[object Error]",Mn="[object Function]",qm="[object GeneratorFunction]",Gm="[object Map]",Vm="[object Number]",zn="[object Object]",Hm="[object RegExp]",Ym="[object Set]",Wm="[object String]",Km="[object Symbol]",Xm="[object WeakMap]",Zm="[object ArrayBuffer]",Jm="[object DataView]",ey="[object Float32Array]",ty="[object Float64Array]",ry="[object Int8Array]",ny="[object Int16Array]",ay="[object Int32Array]",sy="[object Uint8Array]",iy="[object Uint8ClampedArray]",oy="[object Uint16Array]",ly="[object Uint32Array]",$={};$[Un]=$[Mm]=$[Zm]=$[Jm]=$[zm]=$[jm]=$[ey]=$[ty]=$[ry]=$[ny]=$[ay]=$[Gm]=$[Vm]=$[zn]=$[Hm]=$[Ym]=$[Wm]=$[Km]=$[sy]=$[iy]=$[oy]=$[ly]=!0;$[Qm]=$[Mn]=$[Xm]=!1;function Fe(e,t,r,n,a,s){var i,l=t&Bm,u=t&Nm,c=t&Um;if(r&&(i=a?r(e,n,a,s):r(e)),i!==void 0)return i;if(!Pm(e))return e;var f=Fm(e);if(f){if(i=Tm(e),!l)return Em(e,i)}else{var p=wm(e),h=p==Mn||p==qm;if(Om(e))return Sm(e,l);if(p==zn||p==Un||h&&!a){if(i=u||h?{}:Am(e),!l)return u?$m(e,vm(i,e)):_m(e,bm(i,e))}else{if(!$[p])return a?e:{};i=Im(e,p,l)}}s||(s=new gm);var m=s.get(e);if(m)return m;s.set(e,i),km(e)?e.forEach(function(E){i.add(Fe(E,t,r,E,e,s))}):Rm(e)&&e.forEach(function(E,g){i.set(g,Fe(E,t,r,g,e,s))});var v=c?u?xm:Cm:u?Lm:Dm,b=f?void 0:v(e);return mm(b||e,function(E,g){b&&(g=E,E=e[g]),ym(i,g,Fe(E,t,r,g,e,s))}),i}var uy=Fe,cy=uy,dy=1,fy=4;function py(e){return cy(e,dy|fy)}var hy=py;const ne=A(hy);var gy=Y,my=j,yy="[object Boolean]";function by(e){return e===!0||e===!1||my(e)&&gy(e)==yy}var vy=by;const Sy=A(vy);var Ey=Y,_y=P,$y=j,Cy="[object String]";function xy(e){return typeof e=="string"||!_y(e)&&$y(e)&&Ey(e)==Cy}var wy=xy;const Ty=A(wy);var Iy=Y,Ay=j,Fy="[object Number]";function Oy(e){return typeof e=="number"||Ay(e)&&Iy(e)==Fy}var Ry=Oy;const Py=A(Ry);function Qt(){}Qt.prototype=new Error;class Lr{constructor(){this._addFilter=(t,r)=>{if(!Array.isArray(t))throw new Error(`Filter value "${t}" in query state must be an array.`);if(!(t.length===2||t.length===3))throw new Error(`Filter value "${t}" in query state must be an array of 2 or 3 elements`);const n=t.length===3;var a=t[0],s=t[1];if(n){if(!Array.isArray(t[2]))throw new Error(`Filter value "${t[2]}" in query state must be an array.`);s=s+"::"+t[2][1]}a in r?r[a].push(s):r[a]=[s]},this._addFilters=t=>{if(!Array.isArray(t))throw new Error(`Filters query state "${t}" must be an array.`);const r={};return t.forEach(n=>{this._addFilter(n,r)}),r},this.serialize=this.serialize.bind(this)}serialize(t){const{queryString:r,sortBy:n,sortOrder:a,page:s,size:i,filters:l,hiddenParams:u}=t;let c={};r!==null&&(c.q=r),n!==null&&(c.sort=n,a!==null&&(c.sort=a==="desc"?`-${n}`:n)),s>0&&(c.page=s),i>0&&(c.size=i),Q(u)||ke(c,this._addFilters(u));const f=this._addFilters(l);return ke(c,f),se.default.stringify(c,{arrayFormat:"repeat"})}}class ky{constructor(){this.serialize=this.serialize.bind(this)}serialize(t){const{aggregations:r,hits:n,...a}=t;return{aggregations:r||{},hits:n.hits,total:n.total,extras:a}}}function xe(e,t){return e.indexOf(t)===0&&(e.length===t.length||e.indexOf(t+"&")===0)}function at(e){return se.default.stringify({q:e})}function Dy(e){return se.default.parse(e).q}function jn(e){if(e.length===3){const r=[e[0],e[1]],n=jn(e[2]);return n.length&&r.push(n),r}return[]}function Br(e,t){const r=at(e),n=t.map(i=>at(i));let a=!1;const s=n.filter(i=>{const l=xe(i,r),u=xe(r,i);return l&&!a&&(a=!0),!l&&!u});if(!a)s.push(r);else if(e.length===3){const l=jn(e),u=at(l),c=s.some(f=>{const p=xe(f,u),h=xe(u,f);return p||h});(Q(s)||!c)&&s.push(u)}return s.map(i=>Dy(i))}const Qn=(e,t)=>{if(Q(e))return;if(!$n(Kf(e)))return Br(e,t);let r=t;for(const n of e)r=Br(n,r);return r},qn=(e,t,r)=>{let n=Rp(t,r);return Q(n.filters)||(n.filters=Qn(n.filters,e.filters)),n},Le={queryString:"",suggestions:[],sortBy:null,sortOrder:null,page:-1,size:-1,filters:[],hiddenParams:[],layout:null},Gn=Object.keys(Le),Ly={loading:!1,data:{hits:[],total:0,aggregations:{}},error:{}},By={hasUserChangedSorting:!1,initialSortBy:null,initialSortOrder:null};class Ny{constructor(){this._checkFilter=t=>{if(!Array.isArray(t))throw new Error(`Filter value "${t}" in query state must be an array.`);if(!(t.length===2||t.length===3))throw new Error(`Filter value "${t}" in query state must be an array of 2 or 3 elements`)},this._addFilter=(t,r)=>{this._checkFilter(t);const n=t[0],a=t[1],s=t.length===3;s&&this._checkFilter(t[2]),n in r?s?r[n].push(a+"::"+t[2][1]):r[n].push(a):s?r[n]=[a+"::"+t[2][1]]:r[n]=[a]},this._addFilters=t=>{if(!Array.isArray(t))throw new Error(`Filters query state "${t}" must be an array.`);const r={};return t.forEach(n=>{this._addFilter(n,r)}),r},this.serialize=this.serialize.bind(this)}serialize(t){const{queryString:r,sortBy:n,sortOrder:a,page:s,size:i,filters:l,hiddenParams:u}=t;let c={};r!==null&&(c.q=r),n!==null&&(c.sort=n,a!==null&&(c.sort=a==="desc"?`-${n}`:n)),s>0&&(c.page=s),i>0&&(c.size=i),Q(u)||ke(c,this._addFilters(u));const f=this._addFilters(l);return ke(c,f),se.default.stringify(c,{arrayFormat:"repeat"})}}class Vn{constructor(t){this.axiosConfig=he(t,"axios",{}),this.validateAxiosConfig(),this.initSerializers(t),this.initInterceptors(t),this.initAxios(),this.search=this.search.bind(this),this.axiosCancelToken=Ae.default.CancelToken}validateAxiosConfig(){if(!xd(this.axiosConfig,"url"))throw new Error("InvenioSearchApi config: `url` field is required.")}initInterceptors(t){this.requestInterceptor=he(t,"interceptors.request",void 0),this.responseInterceptor=he(t,"interceptors.response",void 0)}getSerializer(t){const r={InvenioRecordsResourcesRequestSerializer:Ny,InvenioRequestSerializer:Lr};return typeof t=="string"?r[t]:t||Lr}initSerializers(t){var r;const n=this.getSerializer((r=t.invenio)===null||r===void 0?void 0:r.requestSerializer),a=he(t,"invenio.responseSerializer",ky);this.requestSerializer=new n,this.responseSerializer=new a}initAxios(){const t={paramsSerializer:this.requestSerializer.serialize,...this.axiosConfig};this.http=Ae.default.create(t),this.addInterceptors()}addInterceptors(){this.requestInterceptor&&this.http.interceptors.request.use(this.requestInterceptor.resolve,this.requestInterceptor.reject),this.responseInterceptor&&this.http.interceptors.request.use(this.responseInterceptor.resolve,this.responseInterceptor.reject)}async search(t){this.axiosCancel&&this.axiosCancel.cancel(),this.axiosCancel=this.axiosCancelToken.source();try{let r=await this.http.request({url:this.axiosConfig.url,params:t,cancelToken:this.axiosCancel.token});r=this.responseSerializer.serialize(r.data);const n=qn(t,r.extras,Gn);return Q(n)||(r.newQueryState=n),delete r.extras,r}catch(r){throw Ae.default.isCancel(r)?new Qt:r}}}class Uy{constructor(){this.isValid=(t,r,n)=>{switch(r){case"queryString":case"sortBy":return!0;case"sortOrder":return["asc","desc"].includes(n);case"page":case"size":return Py(n)&&n>0;case"layout":return["grid","list"].includes(n);case"filters":case"hiddenParams":{const a=$n(n)?n:[n],s=":",i=t.urlFilterSeparator,l=`[^\\${s}\\${i}]*`,u=`${l}\\${s}${l}`,c=`${u}(\\${i}${u})*`,f=new RegExp(`^${c}$`);return a.every(p=>String(p).match(f))}default:return!1}}}}const My=e=>{window.history.pushState&&window.history.pushState({path:e},"",e)},Nr=e=>{window.history.replaceState&&window.history.replaceState({path:e},"",e)};class zy{constructor(){this._convertValue=(t,r)=>{switch(t){case this.paramsMapping.page:case this.paramsMapping.size:return parseInt(r);default:return r}},this.parse=this.parse.bind(this),this.paramsMapping={}}set urlParamsMapping(t){this.paramsMapping=t}parse(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=se.default.parse(t,{ignoreQueryPrefix:!0}),n={};return Object.entries(r).forEach(a=>{const s=a[0],i=a[1];n[s]=this._convertValue(s,i)}),n}}class jy{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._filterListToString=r=>{const n=r.length===3?this.urlFilterSeparator.concat(this._filterListToString(r[2])):"";return`${r[0]}:${r[1]}${n}`},this._mapQueryStateToUrlParams=r=>{const n={};Object.keys(r).filter(s=>s in this.urlParamsMapping).filter(s=>(s==="page"||s==="size")&&r[s]<=0||s==="hiddenParams"?!1:r[s]!==null).forEach(s=>{const i=this.urlParamsMapping[s];s==="filters"?n[i]=r[s].map(l=>this._filterListToString(l)):n[i]=r[s]});const a=(s,i)=>{const l="q";return s===l?-1:i===l?1:s.localeCompare(i)};return se.default.stringify(n,{addQueryPrefix:!0,skipNulls:!0,indices:!1,sort:a})},this._filterStringToList=r=>{const n=r.indexOf(this.urlFilterSeparator),a=n>-1,s=r.indexOf(":");if(s===-1)throw new Error(`Filter "${r}" not parsable. Format expected: "<agg name>:<value>"`);const i=r.slice(0,s),l=a?n:r.length,u=r.slice(s+1,l);let c=[i,u];if(a){const f=r.slice(n+1,r.length);c.push(this._filterStringToList(f))}return c},this._mapUrlParamsToQueryState=r=>{const n={};return Object.keys(r).forEach(a=>{const s=this.fromUrlParamsMapping[a];this.urlParamValidator.isValid(this,s,r[a])?(n[s]=r[a],s==="filters"&&(Array.isArray(r[a])||(r[a]=[r[a]]),n[s]=r[a].map(i=>this._filterStringToList(i)))):console.warn(`URL parameter '${a}' with value '${r[a]}' is incorrect and was ignored.`)}),n},this._mergeParamsIntoState=(r,n)=>{const a=ne(n);return Object.keys(r).forEach(s=>{a[s]=r[s]}),a},this.urlParamsMapping=Bi(t.urlParamsMapping)?t.urlParamsMapping:{queryString:"q",sortBy:"sort",sortOrder:"order",page:"p",size:"s",layout:"l",filters:"f",hiddenParams:"hp"},this.keepHistory=t.keepHistory!==void 0?t.keepHistory:!0,!Sy(this.keepHistory))throw new Error(`"keepHistory configuration must be a boolean, ${this.keepHistory} provided.`);if(this.urlFilterSeparator=t.urlFilterSeparator!==void 0?t.urlFilterSeparator:"+",!Ty(this.urlFilterSeparator))throw new Error(`"urlFilterSeparator configuration must be a string, ${this.urlFilterSeparator} provided.`);this.urlParamValidator=t.urlParamValidator||new Uy,this.urlParser=t.urlParser||new zy,this.urlParser.urlParamsMapping=this.urlParamsMapping,this.fromUrlParamsMapping={},Object.keys(this.urlParamsMapping).forEach(r=>{this.fromUrlParamsMapping[this.urlParamsMapping[r]]=r}),this.get=this.get.bind(this),this.set=this.set.bind(this),this.replace=this.replace.bind(this)}get(t){const r=this.urlParser.parse(window.location.search),n=this._mapUrlParamsToQueryState(r),a=this._mergeParamsIntoState(n,t),s=this._mapQueryStateToUrlParams(a);return Nr(s),a}set(t){if(this.keepHistory){const r=this._mapQueryStateToUrlParams(t);My(r)}else this.replace(t)}replace(t){const r=this._mapQueryStateToUrlParams(t);Nr(r)}}const Qy="SET_QUERY_COMPONENT_INITIAL_STATE",Hn="SET_QUERY_STRING",qt="SET_QUERY_SORTING",Gt="SET_QUERY_SORT_BY",Vt="SET_QUERY_SORT_ORDER",$e="SET_QUERY_STATE",Yn="SET_QUERY_PAGINATION_PAGE",Wn="SET_QUERY_PAGINATION_SIZE",Kn="SET_QUERY_FILTERS",Xn="SET_QUERY_SUGGESTIONS",Zn="SET_SUGGESTION_STRING",Jn="CLEAR_QUERY_SUGGESTIONS",ea="RESULTS_LOADING",ta="RESULTS_FETCH_SUCCESS",ra="RESULTS_FETCH_ERROR",ht="RESULTS_UPDATE_LAYOUT",na="RESET_QUERY",qy=e=>t=>{e&&t(M({shouldUpdateUrlQueryString:!1,shouldReplaceUrlQueryString:!0}))},aa=e=>t=>{t({type:$e,payload:e}),t(M())},sa=e=>t=>{t({type:Hn,payload:e}),t(M())},Gy=(e,t)=>r=>{r({type:qt,payload:{sortBy:e,sortOrder:t}}),r(M())},Vy=e=>t=>{t({type:Gt,payload:e}),t(M())},Hy=e=>t=>{t({type:Vt,payload:e}),t(M())},Yy=e=>t=>{t({type:Yn,payload:e}),t(M())},Wy=e=>t=>{t({type:Wn,payload:e}),t(M())},Ht=e=>t=>{t({type:Kn,payload:e}),t(M())},Ky=e=>async(t,r,n)=>{const a=n.urlHandlerApi;if(a){await t({type:ht,payload:e});const s=r().query;a.set(s)}else t({type:ht,payload:e})},Xy=()=>(e,t,r)=>{e({type:na,payload:{queryString:"",page:1,filters:[],...r.initialQueryState}}),e(M())},Zy=(e,t,r,n)=>{const a=t.urlHandlerApi;a&&(r?a.replace(e):n&&a.set(e))},Jy=(e,t,r,n)=>{const a=r().query;t({type:$e,payload:{...a,...e.newQueryState}});const s=ne(r().query),i=n.urlHandlerApi;return i&&i.replace(s),delete e.newStateQuery,e},eb=(e,t,r,n)=>{function a(l,u,c,f){l.queryString===""?(l.sortBy=c.defaultSortingOnEmptyQueryString.sortBy,l.sortOrder=c.defaultSortingOnEmptyQueryString.sortOrder):(l.sortBy=u.initialSortBy,l.sortOrder=u.initialSortOrder),f({type:$e,payload:l})}function s(l,u,c,f){u.hasUserChangedSorting||a(l,u,c,f)}!Q(r.defaultSortingOnEmptyQueryString)&&s(e,t,r,n)},M=function(){let{shouldUpdateUrlQueryString:e=!0,shouldReplaceUrlQueryString:t=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return async(r,n,a)=>{const s=n().app;let i=ne(n().query);eb(i,s,a,r),i=ne(n().query),Zy(i,a,t,e),r({type:ea});try{let u=await a.searchApi.search(i);"newQueryState"in u&&(u=Jy(ne(u),r,n,a)),r({type:ta,payload:{aggregations:u.aggregations,hits:u.hits,total:u.total}})}catch(l){if(l instanceof Qt){console.debug(l);return}else console.error(l),r({type:ra,payload:{error:l}})}}},tb=e=>t=>{t({type:Zn,payload:e}),t(rb())},rb=()=>async(e,t,r)=>{const n=ne(t().query),a=r.suggestionApi;try{const s=await a.search(n);e({type:Xn,payload:{suggestions:s.suggestions}})}catch(s){console.error("Could not load suggestions due to: "+s)}},nb=()=>e=>{e({type:Jn,payload:{suggestions:[]}})},ab=()=>(e,t,r)=>{if(r.urlHandlerApi){const n=r.urlHandlerApi.get(r.initialQueryState);e({type:$e,payload:n}),e(M({shouldReplaceUrlQueryString:!0}))}},C=o.default.createContext({}),sb=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case qt:return{...e,hasUserChangedSorting:!0};case Gt:return{...e,hasUserChangedSorting:!0};case Vt:return{...e,hasUserChangedSorting:!0};default:return e}},ib=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hn:return{...e,queryString:t.payload,page:1};case qt:return{...e,sortBy:t.payload.sortBy,sortOrder:t.payload.sortOrder,_sortUserChanged:!0,page:1};case Gt:return{...e,sortBy:t.payload,_sortUserChanged:!0,page:1};case Vt:return{...e,sortOrder:t.payload,_sortUserChanged:!0,page:1};case Yn:return{...e,page:t.payload};case Wn:return{...e,size:t.payload,page:1};case Kn:return{...e,page:1,filters:Qn(t.payload,e.filters)};case Xn:return{...e,suggestions:t.payload.suggestions};case Jn:return{...e,suggestions:t.payload.suggestions};case Zn:return{...e,suggestionString:t.payload};case Qy:return{...e,...t.payload};case $e:return{...e,...Le,...qn(Le,t.payload,Gn)};case ht:return{...e,layout:t.payload};case na:return{...e,...t.payload};default:return e}},ob=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ea:return{...e,loading:!0,data:{...e.data}};case ta:return{loading:!1,data:{...e.data,aggregations:t.payload.aggregations,hits:t.payload.hits,total:t.payload.total},error:{}};case ra:return{loading:!1,data:{...e.data,aggregations:{},hits:[],total:0},error:t.payload.error};default:return e}};var lb=lt.combineReducers({app:sb,query:ib,results:ob});function Ur(e,t){let{sortBy:r,sortOrder:n}=e,{sortBy:a,sortOrder:s}=t;return r!==a||n!==s}function ub(e,t,r){const n=Ur(r,t),a=!Q(e.defaultSortingOnEmptyQueryString);let s=!1;return a&&(s=Ur(r,e.defaultSortingOnEmptyQueryString)),n&&s}function cb(e){const t={...Le,...e.initialQueryState},r=e.urlHandlerApi?e.urlHandlerApi.get(t):t,n=ub(e,t,r),a={...By,hasUserChangedSorting:n,initialSortBy:t.sortBy,initialSortOrder:t.sortOrder},s={...Ly,loading:e.searchOnInit};return{app:a,query:r,results:s}}function db(e){const t=cb(e);return lt.createStore(lb,t,lt.applyMiddleware(ai.default.withExtraArgument(e)))}function Mr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const n=t?`.${t}`:"";return`${r?`${r}.`:""}${e}${n}`}class Yt extends y.Component{constructor(t){super(t),this.updateQueryState=r=>{const{updateQueryState:n}=this.props;n(r)},this.onQueryChanged=r=>{let{detail:n}=r;const{appName:a}=this.context;if(!a)this.updateQueryState(n.searchQuery);else{const i=n.appName;i===a?this.updateQueryState(n.searchQuery):console.debug(`React-SearchKit '${a}': ignoring event sent for app '${i}'`)}},this.searchOnInit=t.searchOnInit,this.eventListenerEnabled=t.eventListenerEnabled,this.onAppInitialized=t.onAppInitialized,this.searchOnUrlQueryStringChanged=t.searchOnUrlQueryStringChanged}componentDidMount(){this.eventListenerEnabled&&window.addEventListener("queryChanged",this.onQueryChanged),window.onpopstate=()=>{this.searchOnUrlQueryStringChanged()},this.onAppInitialized(this.searchOnInit)}componentWillUnmount(){window.onpopstate=()=>{},window.removeEventListener("queryChanged",this.onQueryChanged)}render(){const{children:t}=this.props;return t}}Yt.defaultProps={searchOnInit:!0,eventListenerEnabled:!1};Yt.contextType=C;var fb=S.default.component("Bootstrap",Yt);const pb=e=>({onAppInitialized:t=>e(qy(t)),updateQueryState:t=>e(aa(t)),searchOnUrlQueryStringChanged:()=>e(ab())}),hb=I.connect(null,pb)(fb);class Wt extends y.Component{constructor(t){super(t);const r={searchApi:t.searchApi,suggestionApi:t.suggestionApi,urlHandlerApi:t.urlHandlerApi.enabled?t.urlHandlerApi.customHandler||new jy(t.urlHandlerApi.overrideConfig):null,searchOnInit:t.searchOnInit,initialQueryState:t.initialQueryState,defaultSortingOnEmptyQueryString:t.defaultSortingOnEmptyQueryString};this.store=db(r),this.appName=t.appName,this.eventListenerEnabled=t.eventListenerEnabled,this.componentIndex=0}render(){const{appName:t,children:r,eventListenerEnabled:n,overridableId:a,searchOnInit:s}=this.props,i={appName:t,buildUID:(u,c)=>Mr(u,c,t),nextComponentIndex:()=>`${this.appName}_${this.componentIndex++}`},l=Mr("ReactSearchKit.children",a,t);return o.default.createElement(C.Provider,{value:i},o.default.createElement(I.Provider,{store:this.store},o.default.createElement(hb,{searchOnInit:s,eventListenerEnabled:n},o.default.createElement(S.default,{id:l},r))))}}Wt.defaultProps={suggestionApi:null,urlHandlerApi:{enabled:!0,overrideConfig:{},customHandler:null},searchOnInit:!0,appName:"",eventListenerEnabled:!1,overridableId:"",initialQueryState:{},defaultSortingOnEmptyQueryString:{}};Wt.contextType=C;var gb=S.default.component("ReactSearchKit",Wt);class ia extends y.Component{constructor(t){super(t),this._getLabel=r=>{const n=r[0];let a=r[1],s=[n,a];if(r.length===3){const{label:l,activeFilter:u}=this._getLabel(r[2]);a=`${a}.${l}`,s.push(u)}return{label:a,activeFilter:s}},this.updateQueryFilters=t.updateQueryFilters}render(){const{filters:t,overridableId:r}=this.props;return!!t.length&&o.default.createElement(oa,{filters:t,removeActiveFilter:this.updateQueryFilters,getLabel:this._getLabel,overridableId:r})}}ia.defaultProps={overridableId:""};const oa=e=>{let{overridableId:t,filters:r,removeActiveFilter:n,getLabel:a}=e;const{buildUID:s}=y.useContext(C);return o.default.createElement(S.default,{id:s("ActiveFilters.element",t),filters:r,removeActiveFilter:n,getLabel:a},o.default.createElement(o.default.Fragment,null,r.map((i,l)=>{const{label:u,activeFilter:c}=a(i);return o.default.createElement(d.Label,{image:!0,key:l,onClick:()=>n(c)},u,o.default.createElement(d.Icon,{name:"delete"}))})))};oa.defaultProps={overridableId:""};var mb=S.default.component("ActiveFilters",ia);const yb=e=>({updateQueryFilters:t=>e(Ht(t))});I.connect(e=>({filters:e.query.filters}),yb)(mb);function bb(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(!e||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var vb=`.AutoCompleteText{position:relative;z-index:100}.AutoCompleteText .input button,.AutoCompleteText .input input{border:none;border-radius:0}.AutoCompleteText ul{background-color:#fff;border:1px solid #e0e1e2;border-radius:0 0 .3rem .3rem;color:#000;list-style-type:none;margin:0;padding:0;position:absolute;text-align:left;width:100%}.AutoCompleteText ul:before{content:""}.AutoCompleteText li{cursor:pointer;padding:.3em 1em}.AutoCompleteText li:hover{background-color:#e0e1e2;border-radius:.3rem;text-decoration:underline}
/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vaG9tZS9ydW5uZXIvd29yay9yZWFjdC1zZWFyY2hraXQvcmVhY3Qtc2VhcmNoa2l0L3NyYy9saWIvY29tcG9uZW50cy9BdXRvY29tcGxldGVTZWFyY2hCYXIvQXV0b2NvbXBsZXRlU2VhcmNoQmFyLnNjc3MiLCJBdXRvY29tcGxldGVTZWFyY2hCYXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFDRSxpQkFBQSxDQUNBLFdDQ0YsQ0RPQSwrREFDRSxXQUFBLENBQ0EsZUNDRixDREVBLHFCQU1FLHFCQUFBLENBR0Esd0JBQUEsQ0FDQSw2QkFBQSxDQUxBLFVBQUEsQ0FGQSxvQkFBQSxDQUlBLFFBQUEsQ0FDQSxTQUFBLENBTkEsaUJBQUEsQ0FFQSxlQUFBLENBSEEsVUNVRixDREVBLDRCQUNFLFVDQ0YsQ0RFQSxxQkFFRSxjQUFBLENBREEsZ0JDRUYsQ0RFQSwyQkFFRSx3QkFBQSxDQUNBLG1CQUFBLENBRkEseUJDR0YiLCJmaWxlIjoiQXV0b2NvbXBsZXRlU2VhcmNoQmFyLnNjc3MifQ== */`;bb(vb);class la extends y.Component{constructor(t){super(t),this._handleAutocompleteChange=r=>{r.length>=this.minCharsToAutocomplete&&this.updateSuggestions(r)},this.onInputChange=async r=>{await this.setState({currentValue:r}),this.handleAutocompleteChange(this.state.currentValue)},this.executeSearch=()=>{this.updateQueryString(this.state.currentValue)},this.updateQueryString=this.props.updateQueryString,this.updateSuggestions=this.props.debounce?si.default.debounce(this.props.updateSuggestions,this.props.debounceTime,{leading:!0}):this.props.updateSuggestions,this.clearSuggestions=this.props.clearSuggestions,this.minCharsToAutocomplete=this.props.minCharsToAutocomplete,this.state={currentValue:this.props.queryString||""},this.handleAutocompleteChange=t.handleAutocompleteChange||this._handleAutocompleteChange}render(){const{placeholder:t,suggestions:r,overridableId:n}=this.props;return o.default.createElement(Eb,{placeholder:t,queryString:this.state.currentValue,querySuggestions:r,onInputChange:this.onInputChange,executeSearch:this.executeSearch,overridableId:n})}}la.defaultProps={handleAutocompleteChange:null,placeholder:"Type something",minCharsToAutocomplete:3,overridableId:""};const Sb=e=>o.default.createElement(la,Object.assign({key:e.queryString},e)),Eb=e=>{let{overridableId:t,placeholder:r,queryString:n,querySuggestions:a,onInputChange:s,executeSearch:i,...l}=e;const{buildUID:u}=y.useContext(C),c=(p,h)=>{i()},f=(p,h)=>{p.key==="Enter"&&i()};return o.default.createElement(S.default,Object.assign({id:u("AutocompleteSearchBar.element",t)},l),o.default.createElement("div",{className:"AutoCompleteText"},o.default.createElement(d.Input,{action:{content:"Search",onClick:c},fluid:!0,placeholder:r,onChange:(p,h)=>{let{value:m}=h;s(m)},value:n,onKeyPress:f}),o.default.createElement(_b,{querySuggestions:a,overridableId:t})))},_b=e=>{let{overridableId:t,...r}=e;const{querySuggestions:n}=r,{buildUID:a}=y.useContext(C),s=async i=>{await(void 0).setState({currentValue:i}),(void 0).clearSuggestions(),(void 0).executeSearch()};return n.length===0?null:o.default.createElement(S.default,Object.assign({id:a("AutocompleteSearchBar.suggestions",t)},r),o.default.createElement("ul",null,n.map(i=>o.default.createElement(d.Button,{as:"li",onClick:()=>s(i),key:i},i))))};var $b=S.default.component("AutocompleteSearchBar",Sb);const Cb=e=>({updateQueryString:t=>e(sa(t)),updateSuggestions:t=>e(tb(t)),clearSuggestions:()=>e(nb())}),xb=e=>({queryString:e.query.queryString,suggestions:e.query.suggestions});I.connect(xb,Cb)($b);class et extends y.Component{constructor(t){super(t),this._isSelected=(r,n,a)=>a.filter(s=>s[0]===r&&s[1]===n).length>=1,this.getChildAggCmps=(r,n)=>{const a=this.childAgg&&this.childAgg.aggName in r;let s=[];if(a){const i=r[this.childAgg.aggName].buckets;n.forEach(u=>{const c=u[0]===this.aggName,f=u[1]===r.key,p=u.length===3;c&&f&&p&&s.push(u[2])});const l=u=>{this.onFilterClicked([this.aggName,r.key,u])};return o.default.createElement(et,{buckets:i,selectedFilters:s,field:this.childAgg.field,aggName:this.childAgg.aggName,childAgg:this.childAgg.childAgg,onFilterClicked:l})}return null},this.field=t.field,this.aggName=t.aggName,this.childAgg=t.childAgg,this.onFilterClicked=t.onFilterClicked}render(){const{buckets:t,selectedFilters:r,overridableId:n}=this.props,a=t.map(s=>{const i=s.key_as_string?s.key_as_string:s.key,l=this._isSelected(this.aggName,i,r),u=f=>{this.onFilterClicked([this.aggName,f])},c=f=>this.getChildAggCmps(f,r);return o.default.createElement(ca,{key:s.key,bucket:s,keyField:i,isSelected:l,onFilterClicked:u,getChildAggCmps:c,overridableId:n})});return o.default.createElement(ua,{valuesCmp:a,overridableId:n})}}et.defaultProps={childAgg:null,overridableId:""};const ua=e=>{let{valuesCmp:t,overridableId:r}=e;const{buildUID:n}=y.useContext(C);return o.default.createElement(S.default,{id:n("BucketAggregationContainer.element",r),valuesCmp:t},o.default.createElement(d.List,null,t))};ua.defaultProps={overridableId:""};const ca=e=>{let{bucket:t,isSelected:r,onFilterClicked:n,getChildAggCmps:a,overridableId:s,keyField:i}=e;const{buildUID:l,nextComponentIndex:u}=y.useContext(C),c=t.label?t.label:`${i} (${t.doc_count.toLocaleString("en-US")})`,f=a(t);return o.default.createElement(S.default,{id:l("BucketAggregationValues.element",s),bucket:t,label:c,onFilterClicked:n,isSelected:r,childAggCmps:f},o.default.createElement(d.List.Item,{key:t.key},o.default.createElement(d.Checkbox,{label:c,id:u(),value:t.key,onClick:()=>n(t.key),checked:r}),f))};ca.defaultProps={overridableId:""};var wb=S.default.component("BucketAggregationValues",et);class da extends y.Component{constructor(t){super(t),this.onFilterClicked=r=>{this.updateQueryFilters(r)},this._renderValues=(r,n)=>{const{overridableId:a}=this.props;return o.default.createElement(wb,{buckets:r,selectedFilters:n,field:this.agg.field,aggName:this.agg.aggName,childAgg:this.agg.childAgg,onFilterClicked:this.onFilterClicked,overridableId:a})},this._getSelectedFilters=r=>r.filter(n=>n[0]===this.agg.aggName),this._getResultBuckets=r=>{const n=he(r,this.agg.aggName,{});return"buckets"in n?(Array.isArray(n.buckets)||(n.buckets=Object.entries(n.buckets).map(a=>{let[s,i]=a;return{...i,key:s}})),n.buckets):[]},this.title=t.title,this.agg=t.agg,this.updateQueryFilters=t.updateQueryFilters}render(){const{userSelectionFilters:t,resultsAggregations:r,overridableId:n,...a}=this.props,s=this._getSelectedFilters(t),i=this._getResultBuckets(r),l=i.length?this._renderValues(i,s):null;return o.default.createElement(fa,Object.assign({title:this.title,containerCmp:l,overridableId:n},a))}}da.defaultProps={overridableId:""};const fa=e=>{let{overridableId:t,agg:r,title:n,containerCmp:a,updateQueryFilters:s}=e;const{buildUID:i}=y.useContext(C);return a&&o.default.createElement(S.default,{id:i("BucketAggregation.element",t),agg:r,title:n,containerCmp:a,updateQueryFilters:s},o.default.createElement(d.Card,null,o.default.createElement(d.Card.Content,null,o.default.createElement(d.Card.Header,null,n)),o.default.createElement(d.Card.Content,null,a)))};fa.defaultProps={containerCmp:null,overridableId:""};var Tb=S.default.component("BucketAggregation",da);const Ib=e=>({updateQueryFilters:t=>e(Ht(t))});I.connect(e=>({userSelectionFilters:e.query.filters,resultsAggregations:e.results.data.aggregations}),Ib)(Tb);class pa extends y.Component{render(){const{children:t,condition:r}=this.props;return r?t:null}}pa.defaultProps={condition:!0};var L=S.default.component("ShouldRender",pa);class ha extends y.Component{render(){const{loading:t,totalResults:r,label:n,overridableId:a}=this.props;return o.default.createElement(L,{condition:!t&&r>0},n(o.default.createElement(ga,{totalResults:r,overridableId:a})))}}ha.defaultProps={label:e=>e,overridableId:""};const ga=e=>{let{totalResults:t,overridableId:r}=e;const{buildUID:n}=y.useContext(C),a=n("Count.element",r);return o.default.createElement(S.default,{id:a,totalResults:t},o.default.createElement(d.Label,{color:"blue"},t.toLocaleString("en-US")))};ga.defaultProps={overridableId:""};var Ab=S.default.component("Count",ha);const Fb=I.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total}))(Ab);class ma extends y.Component{constructor(t){super(t),this.resetQuery=t.resetQuery}render(){const{loading:t,totalResults:r,error:n,queryString:a,extraContent:s,overridableId:i,userSelectionFilters:l,...u}=this.props;return o.default.createElement(L,{condition:!t&&Q(n)&&r===0},o.default.createElement(ya,Object.assign({},u,{queryString:a,resetQuery:this.resetQuery,extraContent:s,userSelectionFilters:l,overridableId:i})))}}ma.defaultProps={queryString:"",extraContent:null,overridableId:""};const ya=e=>{let{overridableId:t,queryString:r,resetQuery:n,extraContent:a,userSelectionFilters:s}=e;const{buildUID:i}=y.useContext(C);return o.default.createElement(S.default,{id:i("EmptyResults.element",t),queryString:r,resetQuery:n,extraContent:a,userSelectionFilters:s},o.default.createElement(d.Segment,{placeholder:!0,textAlign:"center"},o.default.createElement(d.Header,{icon:!0},o.default.createElement(d.Icon,{name:"search"}),"No results found!"),r&&o.default.createElement("em",null,'Current search "',r,'"'),o.default.createElement("br",null),o.default.createElement(d.Button,{primary:!0,onClick:()=>n()},"Clear query"),a))};ya.defaultProps={queryString:"",extraContent:null,overridableId:""};var Ob=S.default.component("EmptyResults",ma);const Rb=e=>({resetQuery:()=>e(Xy())}),Pb=I.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,error:e.results.error,queryString:e.query.queryString,userSelectionFilters:e.query.filters}),Rb)(Ob);function ba(e){let{loading:t,error:r,overridableId:n}=e;return o.default.createElement(L,{condition:!t&&!Q(r)},o.default.createElement(va,{error:r,overridableId:n}))}ba.defaultProps={overridableId:""};const va=e=>{let{error:t,overridableId:r}=e;const{buildUID:n}=y.useContext(C);return o.default.createElement(S.default,{id:n("Error.element",r),error:t},o.default.createElement("div",null,"Oops! Something went wrong while fetching results."))};va.defaultProps={overridableId:""};var kb=S.default.component("Error",ba);I.connect(e=>({loading:e.results.loading,error:e.results.error}))(kb);function Sa(e){const t=a=>o.default.createElement(e,a),r=a=>({currentQueryState:a.query,currentResultsState:a.results}),n=a=>({updateQueryState:s=>a(aa(s))});return I.connect(r,n)(t)}class Ea extends y.Component{constructor(t){super(t),this.onLayoutChange=r=>{this.updateLayout(r)},this.updateLayout=t.updateLayout}render(){const{currentLayout:t,loading:r,totalResults:n,overridableId:a}=this.props;return o.default.createElement(L,{condition:t!==null&&!r&&n>0},o.default.createElement(_a,{currentLayout:t,onLayoutChange:this.onLayoutChange,overridableId:a}))}}Ea.defaultProps={currentLayout:null,overridableId:""};const _a=e=>{let{overridableId:t,currentLayout:r,onLayoutChange:n}=e;const{buildUID:a}=y.useContext(C);return o.default.createElement(S.default,{id:a("LayoutSwitcher.element",t),currentLayout:r,onLayoutChange:n},o.default.createElement(d.Menu,{compact:!0,icon:!0},o.default.createElement(d.Menu.Item,{name:"list",active:r==="list",onClick:(s,i)=>{let{name:l}=i;return n(l)}},o.default.createElement(d.Icon,{name:"list layout"})),o.default.createElement(d.Menu.Item,{name:"grid",active:r==="grid",onClick:(s,i)=>{let{name:l}=i;return n(l)}},o.default.createElement(d.Icon,{name:"grid layout"}))))};_a.defaultProps={currentLayout:null,overridableId:""};var Db=S.default.component("LayoutSwitcher",Ea);const Lb=e=>({updateLayout:t=>e(Ky(t))});I.connect(e=>({loading:e.results.loading,currentLayout:e.query.layout,totalResults:e.results.data.total}),Lb)(Db);const zr={boundaryRangeCount:1,siblingRangeCount:1,showEllipsis:!0,showFirst:!0,showLast:!0,showPrev:!0,showNext:!0,size:"large"};class $a extends y.Component{constructor(t){super(t),this.onPageChange=r=>{const{currentPage:n}=this.props;r!==n&&this.updateQueryPage(r)},this.updateQueryPage=t.updateQueryPage,this.options=t.options?{...zr,...t.options}:zr}render(){const{loading:t,totalResults:r,currentPage:n,currentSize:a,overridableId:s,showWhenOnlyOnePage:i}=this.props;return o.default.createElement(L,{condition:!t&&n>-1&&a>-1&&i?r>0:r>a},o.default.createElement(Ca,{currentPage:n,currentSize:a,totalResults:r,onPageChange:this.onPageChange,options:this.options,overridableId:s,maxTotalResults:this.options.maxTotalResults}))}}$a.defaultProps={options:{},overridableId:"",showWhenOnlyOnePage:!0};const Ca=e=>{let{overridableId:t,currentPage:r,currentSize:n,totalResults:a,onPageChange:s,options:i,maxTotalResults:l,...u}=e;const c=i.boundaryRangeCount,f=i.siblingRangeCount,p=i.showEllipsis,h=i.showFirst,m=i.showLast,v=i.showPrev,b=i.showNext,E=i.size,g=Math.floor(l/n),_=Math.ceil(a/n),T=Math.min(_,g),{buildUID:F}=y.useContext(C);return r>_&&s(_),o.default.createElement(S.default,{id:F("Pagination.element",t),currentPage:r,currentSize:n,totalResults:a,options:i,onPageChange:s},o.default.createElement(d.Pagination,Object.assign({activePage:r,totalPages:T,onPageChange:(B,w)=>{let{activePage:k}=w;return s(k)},boundaryRange:c,siblingRange:f,ellipsisItem:p?void 0:null,firstItem:h?void 0:null,lastItem:m?void 0:null,prevItem:v?void 0:null,nextItem:b?void 0:null,size:E},u)))};Ca.defaultProps={options:{},overridableId:"",maxTotalResults:1e4};var Bb=S.default.component("Pagination",$a);const Nb=e=>({updateQueryPage:t=>e(Yy(t))}),Ub=I.connect(e=>({currentPage:e.query.page,currentSize:e.query.size,loading:e.results.loading,totalResults:e.results.data.total}),Nb)(Bb);function xa(e){let{loading:t,totalResults:r,results:n,resultsPerRow:a,overridableId:s,onResultsRendered:i}=e;return y.useEffect(()=>{i&&i()},[i]),o.default.createElement(L,{condition:!t&&r>0},o.default.createElement(wa,{results:n,resultsPerRow:a,overridableId:s}))}xa.defaultProps={resultsPerRow:3,overridableId:"",onResultsRendered:()=>{}};const Mb=e=>{let{result:t,overridableId:r}=e;const{buildUID:n}=y.useContext(C);return o.default.createElement(S.default,{id:n("ResultsGrid.item",r),result:t},o.default.createElement(d.Card,{fluid:!0,href:`#${t.id}`},o.default.createElement(d.Image,{src:t.imgSrc||"http://placehold.it/200"}),o.default.createElement(d.Card.Content,null,o.default.createElement(d.Card.Header,null,t.title),o.default.createElement(d.Card.Description,null,t.description))))},wa=e=>{let{overridableId:t,results:r,resultsPerRow:n}=e;const{buildUID:a}=y.useContext(C),s=r.map((i,l)=>o.default.createElement(Mb,{key:l,result:i,overridableId:t}));return o.default.createElement(S.default,{id:a("ResultsGrid.container",t),results:s,resultsPerRow:n},o.default.createElement(d.Card.Group,{itemsPerRow:n},s))};wa.defaultProps={resultsPerRow:3,overridableId:""};var zb=S.default.component("ResultsGrid",xa);const jb=I.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,results:e.results.data.hits}))(zb);function Ta(e){let{loading:t,totalResults:r,results:n,overridableId:a,onResultsRendered:s}=e;return y.useEffect(()=>{s&&s()},[s]),o.default.createElement(L,{condition:!t&&r>0},o.default.createElement(Ia,{results:n,overridableId:a}))}Ta.defaultProps={overridableId:"",onResultsRendered:()=>{}};const Qb=e=>{let{result:t,overridableId:r}=e;const{buildUID:n}=y.useContext(C);return o.default.createElement(S.default,{id:n("ResultsList.item",r),result:t},o.default.createElement(d.Item,{href:`#${t.id}`},o.default.createElement(d.Item.Image,{size:"small",src:t.imgSrc||"http://placehold.it/200"}),o.default.createElement(d.Item.Content,null,o.default.createElement(d.Item.Header,null,t.title),o.default.createElement(d.Item.Description,null,t.description))))},Ia=e=>{let{results:t,overridableId:r}=e;const{buildUID:n}=y.useContext(C),a=t.map((s,i)=>o.default.createElement(Qb,{result:s,key:i,overridableId:r}));return o.default.createElement(S.default,{id:n("ResultsList.container",r),results:a},o.default.createElement(d.Item.Group,{divided:!0,relaxed:!0,link:!0},a))};Ia.defaultProps={overridableId:""};var qb=S.default.component("ResultsList",Ta);const Aa=I.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,results:e.results.data.hits}))(qb);function Fa(e){let{children:t,loading:r,overridableId:n}=e;return r?o.default.createElement(Oa,{overridableId:n}):t}Fa.defaultProps={overridableId:""};const Oa=e=>{let{overridableId:t}=e;const{buildUID:r}=y.useContext(C);return o.default.createElement(S.default,{id:r("ResultsLoader.element",t)},o.default.createElement(d.Loader,{active:!0,size:"huge",inline:"centered"}))};Oa.defaultProps={overridableId:""};var Gb=S.default.component("ResultsLoader",Fa);const Vb=I.connect(e=>({loading:e.results.loading}))(Gb);function Ra(e){let{loading:t,totalResults:r,currentLayout:n,overridableId:a,onResultsRendered:s}=e;return o.default.createElement(L,{condition:n!=null&&!t&&r>0},o.default.createElement(Pa,{layout:n,overridableId:a,onResultsRendered:s}))}Ra.defaultProps={currentLayout:null,overridableId:"",onResultsRendered:()=>{}};const Pa=e=>{let{layout:t,overridableId:r,onResultsRendered:n}=e;const{buildUID:a}=y.useContext(C);return o.default.createElement(S.default,{id:a("ResultsMultiLayout.element",r),layout:t,onResultsRendered:n},t==="list"?o.default.createElement(Aa,{overridableId:r,onResultsRendered:n}):o.default.createElement(jb,{overridableId:r,onResultsRendered:n}))};Pa.defaultProps={layout:"",overridableId:"",onResultsRendered:()=>{}};var Hb=S.default.component("ResultsMultiLayout",Ra);I.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,currentLayout:e.query.layout}))(Hb);class ka extends y.Component{constructor(t){super(t),this.onChange=r=>{const{currentSize:n}=this.props;r!==n&&this.updateQuerySize(r)},this.options=t.values,this.updateQuerySize=t.updateQuerySize}render(){const{loading:t,currentSize:r,totalResults:n,label:a,overridableId:s,ariaLabel:i,selectOnNavigation:l,showWhenOnlyOnePage:u}=this.props;return o.default.createElement(L,{condition:!t&&r!==-1&&u?n>0:n>r},a(o.default.createElement(Da,{currentSize:r,options:this.options,onValueChange:this.onChange,overridableId:s,ariaLabel:i,selectOnNavigation:l})))}}ka.defaultProps={label:e=>e,overridableId:"",ariaLabel:"Results per page",selectOnNavigation:!1,showWhenOnlyOnePage:!0};const Da=e=>{let{overridableId:t,currentSize:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:i}=e;const{buildUID:l}=y.useContext(C),u=n.map((c,f)=>({key:f,text:c.text,value:c.value}));return o.default.createElement(S.default,{id:l("ResultsPerPage.element",t),currentSize:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:i},o.default.createElement(d.Dropdown,{inline:!0,compact:!0,options:u,value:r,onChange:(c,f)=>{let{value:p}=f;return a(p)},"aria-label":s,selectOnNavigation:i}))};Da.defaultProps={ariaLabel:"Results per page",selectOnNavigation:!1,overridableId:""};var Yb=S.default.component("ResultsPerPage",ka);const Wb=e=>({updateQuerySize:t=>e(Wy(t))}),Kb=I.connect(e=>({loading:e.results.loading,currentSize:e.query.size,totalResults:e.results.data.total}),Wb)(Yb);class La extends y.Component{constructor(t){super(t),this.onInputChange=r=>{this.setState({currentValue:r})},this.executeSearch=()=>{const{currentValue:r}=this.state;this.updateQueryString(r)},this.onBtnSearchClick=()=>{this.executeSearch()},this.onKeyPress=r=>{r.key==="Enter"&&this.executeSearch()},this.updateQueryString=t.updateQueryString,this.state={currentValue:t.queryString||""}}render(){const{actionProps:t,autofocus:r,executeSearch:n,onBtnSearchClick:a,onInputChange:s,onKeyPress:i,overridableId:l,placeholder:u,uiProps:c}=this.props,{currentValue:f}=this.state;return o.default.createElement(Kt,{actionProps:t,autofocus:r,executeSearch:n||this.executeSearch,onBtnSearchClick:a||this.onBtnSearchClick,onInputChange:s||this.onInputChange,onKeyPress:i||this.onKeyPress,overridableId:l,placeholder:u,queryString:f,uiProps:c})}}La.defaultProps={actionProps:null,autofocus:!1,executeSearch:null,onBtnSearchClick:null,onInputChange:null,onKeyPress:null,overridableId:"",placeholder:"",queryString:"",uiProps:null};const Ba=e=>{const{queryString:t}=e;return o.default.createElement(La,Object.assign({key:t},e))};Ba.defaultProps={queryString:""};class Kt extends y.Component{componentDidMount(){const{autofocus:t}=this.props;t&&this.focusInput&&this.focusInput.focus()}render(){const{actionProps:t,onBtnSearchClick:r,onInputChange:n,onKeyPress:a,overridableId:s,placeholder:i,queryString:l,uiProps:u}=this.props,{buildUID:c}=this.context;return o.default.createElement(S.default,{id:c("SearchBar.element",s),queryString:l,onBtnSearchClick:r,onInputChange:n,onKeyPress:a,placeholder:i,actionProps:t,uiProps:u},o.default.createElement(d.Input,Object.assign({action:{content:"Search",onClick:r,...t},fluid:!0},u,{placeholder:i||"Type something",onChange:(f,p)=>{let{value:h}=p;n(h)},value:l,onKeyPress:a,ref:f=>{this.focusInput=f}})))}}Kt.defaultProps={actionProps:null,autofocus:!1,onBtnSearchClick:null,onInputChange:null,onKeyPress:null,overridableId:"",placeholder:"",queryString:"",uiProps:null};Kt.contextType=C;var Xb=S.default.component("SearchBar",Ba);const Zb=e=>({updateQueryString:t=>e(sa(t))}),Jb=I.connect(e=>({queryString:e.query.queryString}),Zb)(Xb);class Na extends y.Component{constructor(t){super(t),this._computeValue=(r,n)=>n?`${r}-${n}`:r,this.onChange=r=>{const{currentSortBy:n,currentSortOrder:a}=this.props;if(r===this._computeValue(n,a))return;const s=this.options.find(i=>i.value===r);this.updateQuerySorting(s.sortBy,s.sortOrder)},this.options=t.values,this.updateQuerySorting=t.updateQuerySorting,this.options.forEach(r=>r.value=this._computeValue(r.sortBy,r.sortOrder))}render(){const{currentSortBy:t,currentSortOrder:r,loading:n,totalResults:a,label:s,overridableId:i,sortOrderDisabled:l,ariaLabel:u,selectOnNavigation:c}=this.props;return o.default.createElement(L,{condition:t!==null&&(l||t!==null)&&!n&&a>0},s(o.default.createElement(Ua,{currentSortBy:t,currentSortOrder:r,options:this.options,onValueChange:this.onChange,computeValue:this._computeValue,overridableId:i,ariaLabel:u,selectOnNavigation:c})))}}Na.defaultProps={currentSortBy:null,currentSortOrder:null,label:e=>e,overridableId:"",sortOrderDisabled:!1,ariaLabel:"Sort",selectOnNavigation:!1};const Ua=e=>{let{overridableId:t,currentSortBy:r,currentSortOrder:n,options:a,onValueChange:s,computeValue:i,ariaLabel:l,selectOnNavigation:u}=e;const{buildUID:c}=y.useContext(C),f=i(r,n),p=a.map((h,m)=>({key:m,text:h.text,value:h.value}));return o.default.createElement(S.default,{id:c("Sort.element",t),options:a,currentSortBy:r,currentSortOrder:n,onValueChange:s,ariaLabel:l,selectOnNavigation:u},o.default.createElement(d.Dropdown,{selection:!0,options:p,value:f,onChange:(h,m)=>{let{value:v}=m;return s(v)},"aria-label":l,selectOnNavigation:u}))};Ua.defaultProps={currentSortBy:null,currentSortOrder:null,overridableId:"",ariaLabel:"Sort",selectOnNavigation:!1};var ev=S.default.component("Sort",Na);const tv=e=>({updateQuerySorting:(t,r)=>e(Gy(t,r))});I.connect(e=>({currentSortBy:e.query.sortBy,currentSortOrder:e.query.sortOrder,loading:e.results.loading,totalResults:e.results.data.total}),tv)(ev);class Ma extends y.Component{constructor(t){super(t),this.onChange=r=>{const{currentSortBy:n}=this.props;r!==n&&this.updateQuerySortBy(r)},this.options=t.values,this.updateQuerySortBy=t.updateQuerySortBy}render(){const{currentSortBy:t,loading:r,totalResults:n,label:a,overridableId:s,ariaLabel:i,selectOnNavigation:l}=this.props;return o.default.createElement(L,{condition:t!==null&&!r&&n>0},a(o.default.createElement(za,{currentSortBy:t,options:this.options,onValueChange:this.onChange,overridableId:s,ariaLabel:i,selectOnNavigation:l})))}}Ma.defaultProps={currentSortBy:null,label:e=>e,overridableId:"",ariaLabel:"Sort Results By",selectOnNavigation:!1};const za=e=>{let{overridableId:t,currentSortBy:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:i}=e;const{buildUID:l}=y.useContext(C),u=n.map((c,f)=>({key:f,text:c.text,value:c.value}));return o.default.createElement(S.default,{id:l("SortBy.element",t),options:n,currentSortBy:r,onValueChange:a,ariaLabel:s,selectOnNavigation:i},o.default.createElement(d.Dropdown,{selection:!0,compact:!0,options:u,value:r,onChange:(c,f)=>{let{value:p}=f;return a(p)},"aria-label":s,selectOnNavigation:i}))};za.defaultProps={currentSortBy:null,overridableId:"",ariaLabel:"Sort Results By",selectOnNavigation:!1};var rv=S.default.component("SortBy",Ma);const nv=e=>({updateQuerySortBy:t=>e(Vy(t))});I.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,currentSortBy:e.query.sortBy}),nv)(rv);class ja extends y.Component{constructor(t){super(t),this.onChange=r=>{const{currentSortOrder:n}=this.props;r!==n&&this.updateQuerySortOrder(r)},this.options=t.values,this.updateQuerySortOrder=t.updateQuerySortOrder}render(){const{currentSortOrder:t,loading:r,totalResults:n,label:a,overridableId:s,ariaLabel:i,selectOnNavigation:l}=this.props;return o.default.createElement(L,{condition:t!==null&&!r&&n>0},a(o.default.createElement(Qa,{currentSortOrder:t,options:this.options,onValueChange:this.onChange,overridableId:s,ariaLabel:i,selectOnNavigation:l})))}}ja.defaultProps={currentSortOrder:null,label:e=>e,overridableId:"",ariaLabel:"Sort Order",selectOnNavigation:!1};const Qa=e=>{let{overridableId:t,currentSortOrder:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:i}=e;const{buildUID:l}=y.useContext(C),u=n.map((c,f)=>({key:f,text:c.text,value:c.value}));return o.default.createElement(S.default,{id:l("SortOrder.element",t),options:n,currentSortOrder:r,onValueChange:a,ariaLabel:s,selectOnNavigation:i},o.default.createElement(d.Dropdown,{selection:!0,compact:!0,options:u,value:r,onChange:(c,f)=>{let{value:p}=f;return a(p)},"aria-label":s,selectOnNavigation:i}))};Qa.defaultProps={currentSortOrder:null,overridableId:"",ariaLabel:"Sort Order",selectOnNavigation:!1};var av=S.default.component("SortOrder",ja);const sv=e=>({updateQuerySortOrder:t=>e(Hy(t))});I.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,currentSortOrder:e.query.sortOrder}),sv)(av);const qa=e=>{let{overridableId:t,userSelectionFilters:r,title:n,label:a,filterValue:s,updateQueryFilters:i}=e;const l=p=>p.filter(m=>m[0]===s[0]).length>0,u=()=>{i(s)},{buildUID:c}=y.useContext(C),f=l(r);return o.default.createElement(S.default,{id:c("SearchFilters.Toggle.element",t),title:n,label:a,filterValue:s,userSelectionFilters:r,updateQueryFilters:i},o.default.createElement(d.Card,null,o.default.createElement(d.Card.Content,null,o.default.createElement(d.Card.Header,null,n)),o.default.createElement(d.Card.Content,null,o.default.createElement(d.Checkbox,{toggle:!0,label:a,onClick:u,checked:f}))))};qa.defaultProps={overridableId:""};var iv=S.default.component("SearchFilters.Toggle",qa);const ov=e=>({updateQueryFilters:t=>e(Ht(t))});I.connect(e=>({userSelectionFilters:e.query.filters}),ov)(iv);const Ga=o.default.createContext(null),lv=({config:e,children:t,updateQueryState:r,currentQueryState:n})=>{const a=y.useCallback(()=>{r({...n,queryString:n.queryString})},[r,n]);return o.default.createElement(Ga.Provider,{value:{config:e,refreshSearch:a}},t)},uv=Sa(lv),tt=()=>{const e=o.default.useContext(Ga);if(!e)throw new Error("useSearchConfig must be used within a SearchProvider");return e},me=e=>(e==null?void 0:e.charAt(0).toUpperCase())+(e==null?void 0:e.slice(1))||"",Va=e=>new Date(e).toISOString().split("T")[0];var Ha={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(e,t){(function(r){var n;if(e.exports=r(),n=!0,!n){var a=window.Cookies,s=window.Cookies=r();s.noConflict=function(){return window.Cookies=a,s}}})(function(){function r(){for(var s=0,i={};s<arguments.length;s++){var l=arguments[s];for(var u in l)i[u]=l[u]}return i}function n(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(s){function i(){}function l(c,f,p){if(!(typeof document>"u")){p=r({path:"/"},i.defaults,p),typeof p.expires=="number"&&(p.expires=new Date(new Date*1+p.expires*864e5)),p.expires=p.expires?p.expires.toUTCString():"";try{var h=JSON.stringify(f);/^[\{\[]/.test(h)&&(f=h)}catch{}f=s.write?s.write(f,c):encodeURIComponent(String(f)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),c=encodeURIComponent(String(c)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var m="";for(var v in p)p[v]&&(m+="; "+v,p[v]!==!0&&(m+="="+p[v].split(";")[0]));return document.cookie=c+"="+f+m}}function u(c,f){if(!(typeof document>"u")){for(var p={},h=document.cookie?document.cookie.split("; "):[],m=0;m<h.length;m++){var v=h[m].split("="),b=v.slice(1).join("=");!f&&b.charAt(0)==='"'&&(b=b.slice(1,-1));try{var E=n(v[0]);if(b=(s.read||s)(b,E)||n(b),f)try{b=JSON.parse(b)}catch{}if(p[E]=b,c===E)break}catch{}}return c?p[c]:p}}return i.set=l,i.get=function(c){return u(c,!1)},i.getJSON=function(c){return u(c,!0)},i.remove=function(c,f){l(c,"",r(f,{expires:-1}))},i.defaults={},i.withConverter=a,i}return a(function(){})})})(Ha);var cv=Ha.exports;const dv=A(cv),Ya=()=>dv.get("csrftoken")||null,Wa=e=>{switch(e){case"success":return"green";case"validation failed":case"serializer validation failed":case"import failed":case"imported with failures":case"validated with failures":case"damaged":return"red";case"validated":case"created":return"blue";case"importing":case"validating":return"yellow";default:return"grey"}},fv=e=>new Vn(e),pv=(e,t={},r=!0)=>({axios:{url:e,headers:{Accept:"application/vnd.inveniordm.v1+json",...t},withCredentials:r}}),q=Ae.default.create({baseURL:"",timeout:3e4,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}});q.interceptors.request.use(e=>{const t=Ya();return t&&(e.headers["X-CSRFTOKEN"]=t),e},e=>Promise.reject(e));const hv=async(e,t)=>{try{const r=await q.put(`/api/importer-tasks/${e}/metadata`,t,{headers:{"content-type":"application/octet-stream","X-Filename":`${t.name}`}});if(r.status===200)return r.data;throw new Error(`Failed to create task: ${r.statusText}`)}catch(r){throw new Error(`Error creating task: ${r instanceof Error?r.message:"Unknown error"}`)}},gv=async e=>{const t={title:e.title,description:e.description,mode:e.mode,status:e.status,record_type:e.recordType,serializer:e.serializer,start_time:e.startTime,end_time:e.endTime};try{const r=await q.post("/api/importer-tasks",t);if(r.status===201)return r.data;throw new Error(`Failed to create task: ${r.statusText}`)}catch(r){throw new Error(`Error creating task: ${r instanceof Error?r.message:"Unknown error"}`)}},mv=async e=>{try{const t=await q.delete(`/api/importer-tasks/${e}`);return t.status===204?!0:(console.error(`Failed to delete task: ${t.statusText}`),!1)}catch(t){return console.error(`Error deleting task: ${t instanceof Error?t.message:"Unknown error"}`),!1}},yv=async e=>{try{const t=await q.post(`/api/importer-tasks/${e}/load`);if(t.status===200)return t.data;throw new Error(`Unexpected response status: ${t.status}`)}catch(t){throw console.error("Error executing bulk import:",t),new Error("Failed to execute bulk import")}},bv=async e=>{try{const t=await q.get(`/api/importer-tasks/${e}`);if(t.status===200)return t.data;throw new Error(`Failed to get importer task: ${t.statusText}`)}catch(t){throw new Error(`Error getting importer task: ${t instanceof Error?t.message:"Unknown error"}`)}},vv=async()=>{try{const e=await q.get("/api/importer-tasks/config");return e.status===200?e.data:(console.error("Failed to fetch record types:",e.statusText),[])}catch(e){return console.error("Error fetching record types:",e),[]}},Sv=async e=>{try{const t=await q.get(`/api/importer-tasks/config/${e}`);if(t.status===200)return t.data;throw new Error(`Unexpected response status: ${t.status}`)}catch(t){throw console.error("Error fetching serializers:",t),new Error("Failed to fetch serializers")}},Ka=async e=>{try{const t=await q.put(`/api/importer-tasks/${e}/status`,{});if(t.status===200)return t.data;throw new Error(`Failed to get status of importer task: ${t.statusText}`)}catch(t){throw new Error(`Error getting status of importer task: ${t instanceof Error?t.message:"Unknown error"}`)}},Xa=async e=>{try{const t=await q.post(`/api/importer-tasks/${e}/validate`,{});if(t.status===200)return t.data;throw new Error(`Failed to validate task: ${t.statusText}`)}catch(t){throw new Error(`Error validating task: ${t instanceof Error?t.message:"Unknown error"}`)}},Za=(e,t={})=>{const[r,n]=y.useState({isDeleting:!1,isValidating:!1,isBulkImporting:!1,isGettingStatus:!1,error:null}),{onDeleteSuccess:a,onDeleteError:s,onValidateSuccess:i,onValidateError:l,onBulkImportSuccess:u,onBulkImportError:c,onStatusChangeSuccess:f,onStatusChangeError:p}=t,h=y.useCallback(()=>{n(g=>({...g,error:null}))},[]),m=y.useCallback(async()=>{n(g=>({...g,isDeleting:!0,error:null}));try{if(!await mv(e))throw new Error(`Failed to delete task ${e}`);a==null||a()}catch(g){const _=g instanceof Error?g:new Error("Unknown error");throw n(T=>({...T,error:_})),s==null||s(_),_}finally{n(g=>({...g,isDeleting:!1}))}},[e,a,s]),v=y.useCallback(async()=>{n(g=>({...g,isValidating:!0,error:null}));try{const g=await Xa(e);if(!g)throw new Error(`Validation failed for task ${e}`);return i==null||i(g),g}catch(g){const _=g instanceof Error?g:new Error("Unknown error");throw n(T=>({...T,error:_})),l==null||l(_),_}finally{n(g=>({...g,isValidating:!1}))}},[e,i,l]),b=y.useCallback(async()=>{n(g=>({...g,isBulkImporting:!0,error:null}));try{const g=await yv(e);if(!g)throw new Error(`Failed to execute bulk import for task ${e}`);return u==null||u(g),g}catch(g){const _=g instanceof Error?g:new Error("Unknown error");throw n(T=>({...T,error:_})),c==null||c(_),_}finally{n(g=>({...g,isBulkImporting:!1}))}},[e,u,c]),E=y.useCallback(async()=>{n(g=>({...g,isGettingStatus:!0,error:null}));try{const g=await Ka(e);if(!g)throw new Error(`Failed to retrieve status for task ${e}`);return f==null||f(g),g}catch(g){const _=g instanceof Error?g:new Error("Unknown error");throw n(T=>({...T,error:_})),p==null||p(_),_}finally{n(g=>({...g,isGettingStatus:!1}))}},[e,f,p]);return{isDeleting:r.isDeleting,isValidating:r.isValidating,isBulkImporting:r.isBulkImporting,isGettingStatus:r.isGettingStatus,error:r.error,deleteTask:m,validateTask:v,runBulkImport:b,getStatus:E,clearError:h}},Ev=({result:e,index:t})=>{var E;const{refreshSearch:r,config:n}=tt(),{deleteTask:a,validateTask:s,runBulkImport:i,getStatus:l,isDeleting:u,isValidating:c,isBulkImporting:f,isGettingStatus:p,error:h,clearError:m}=Za(e.id,{onDeleteSuccess:()=>{r()},onValidateSuccess:()=>{r()},onBulkImportSuccess:()=>{r()},onStatusChangeSuccess:()=>{r()}});if(!e)return null;const v=(g,_)=>_?`${g}...`:g,b=u||c||f||p;return o.default.createElement(d.TableRow,{key:t},o.default.createElement(d.TableCell,null,o.default.createElement("a",{href:`${n.resultPath}/${e.id}`},e.title||"No title")),o.default.createElement(d.TableCell,null,Va(e.created)),o.default.createElement(d.TableCell,null,me(e.status)),o.default.createElement(d.TableCell,null,((E=e.records_status)==null?void 0:E.total_records)??0),o.default.createElement(d.TableCell,null,0),o.default.createElement(d.TableCell,null,e.serializer),o.default.createElement(d.TableCell,null,me(e.mode)),o.default.createElement(d.TableCell,{style:{width:"220px"}},h&&o.default.createElement("div",{style:{color:"red",fontSize:"12px",marginBottom:"5px"}},h.message,o.default.createElement(d.Button,{onClick:m,style:{marginLeft:"5px",fontSize:"10px"}},"Clear")),o.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},o.default.createElement(d.Dropdown,{text:b?"Processing...":"Select Action",floating:!0,labeled:!0,className:"icon",disabled:b,options:[{key:"download",text:"Download",value:"download",disabled:!0},{key:"validate",text:v("Retry Validation",c),value:"validate",disabled:b,onClick:()=>s()},{key:"load",text:v("Load Bulk Import",f),value:"load",disabled:b,onClick:()=>i()},{key:"status",text:v("Get Status",p),value:"status",disabled:b,onClick:()=>l()},{key:"delete",text:v("Delete",u),value:"delete",disabled:b,onClick:()=>a()}]}),o.default.createElement(d.Button,{basic:!0,size:"tiny",disabled:b,as:"a",href:`${n.resultPath}/${e.id}`},o.default.createElement(d.Icon,{name:"eye"}),"View"))))},_v=({children:e})=>o.default.createElement(d.Table,{padded:!0,size:"small",comp:!0},o.default.createElement(d.TableHeader,null,o.default.createElement(d.TableRow,null,o.default.createElement(d.TableHeaderCell,null,"ID"),o.default.createElement(d.TableHeaderCell,null,"Date Created"),o.default.createElement(d.TableHeaderCell,null,"Status"),o.default.createElement(d.TableHeaderCell,null,"Records"),o.default.createElement(d.TableHeaderCell,null,"Files"),o.default.createElement(d.TableHeaderCell,null,"Serializer"),o.default.createElement(d.TableHeaderCell,null,"Mode"),o.default.createElement(d.TableHeaderCell,null,"Actions"))),o.default.createElement(d.TableBody,null,e)),G={aggs:[],appId:"search",defaultSortingOnEmptyQueryString:[{sortBy:"newest"}],initialQueryState:{filters:[],hiddenParams:null,layout:"list",page:1,size:10,sortBy:"newest"},layoutOptions:{gridView:!1,listView:!0},paginationOptions:{defaultValue:10,maxTotalResults:1e4,resultsPerPage:[{text:"10",value:10},{text:"20",value:20},{text:"50",value:50}]},searchApi:{axios:{headers:{Accept:"application/vnd.inveniordm.v1+json"},url:"/api/importer-tasks",withCredentials:!0},invenio:{requestSerializer:"InvenioRecordsResourcesRequestSerializer"}},sortOptions:[{sortBy:"newest",text:"Newest"},{sortBy:"oldest",text:"Oldest"}],sortOrderDisabled:!0,resultPath:"/administration/importer-tasks"},$v=()=>{const[e,t]=y.useState({}),[r,n]=y.useState(!0),{values:a,submitForm:s,isSubmitting:i,isValid:l,setFieldValue:u}=ni.useFormikContext(),c=y.useCallback(async()=>{try{const f=await vv(),p={};for(const h of f){const m=await Sv(h);m&&(p[h]=m)}t(p)}catch(f){console.error("Error fetching record types:",f)}finally{n(!1)}},[]);return y.useEffect(()=>{c()},[c]),{configs:e,isLoading:r,values:a,submitForm:s,setFieldValue:u,isSubmitting:i,isValid:l}},Cv=()=>{const{configs:e,isLoading:t,submitForm:r,setFieldValue:n,values:a,isSubmitting:s,isValid:i}=$v(),l=u=>{var f;const c=((f=u.target.files)==null?void 0:f[0])||null;n("metadata",c)};return t?o.default.createElement("p",null,"Loading record types..."):!e||Object.keys(e).length===0?o.default.createElement("p",null,"No record types available."):o.default.createElement(y.Fragment,null,o.default.createElement(J.TextField,{fieldPath:"task.title",label:"Title",placeholder:"Enter a title for the import task",required:!0}),o.default.createElement(d.Form.Group,{widths:"equal"},o.default.createElement(J.SelectField,{fieldPath:"task.recordType",label:"Record Type",options:Object.keys(e).map(u=>({key:u,value:u,text:u})),placeholder:"Select Record Type",required:!0}),o.default.createElement(J.SelectField,{fieldPath:"task.serializer",label:"Serializer",options:a.task.recordType&&e[a.task.recordType]?e[a.task.recordType].serializers.map(u=>({key:u,value:u,text:u})):[],placeholder:"Select Serializer",disabled:!a.task.recordType,required:!0}),o.default.createElement(J.SelectField,{fieldPath:"task.mode",label:"Mode",options:[{key:"import",value:"import",text:"Import"},{key:"delete",value:"delete",text:"Delete"}],placeholder:"Select Mode",disabled:!a.task.recordType||!a.task.serializer,required:!0})),o.default.createElement(d.Form.Field,null,o.default.createElement("label",{htmlFor:"file-input"},"Metadata File"),o.default.createElement("input",{id:"file-input",type:"file",accept:".csv",onChange:l,style:{marginTop:"8px"}}),a.metadata&&o.default.createElement("p",{style:{marginTop:"8px",fontSize:"12px",color:"#666"}},"Selected: ",a.metadata.name)),o.default.createElement(J.TextAreaField,{fieldPath:"task.description",label:"Notes",placeholder:"Enter a description for the import task",rows:3}),o.default.createElement(d.Button,{type:"button",primary:!0,onClick:r,disabled:!i||s,loading:s},"Submit"))};var gt;try{gt=Map}catch{}var mt;try{mt=Set}catch{}function Ja(e,t,r){if(!e||typeof e!="object"||typeof e=="function")return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(yt);if(gt&&e instanceof gt)return new Map(Array.from(e.entries()));if(mt&&e instanceof mt)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var n=Object.create(e);r.push(n);for(var a in e){var s=t.findIndex(function(i){return i===e[a]});n[a]=s>-1?r[s]:Ja(e[a],t,r)}return n}return e}function yt(e){return Ja(e,[],[])}const xv=Object.prototype.toString,wv=Error.prototype.toString,Tv=RegExp.prototype.toString,Iv=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Av=/^Symbol\((.*)\)(.*)$/;function Fv(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function jr(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const r=typeof e;if(r==="number")return Fv(e);if(r==="string")return t?`"${e}"`:e;if(r==="function")return"[Function "+(e.name||"anonymous")+"]";if(r==="symbol")return Iv.call(e).replace(Av,"Symbol($1)");const n=xv.call(e).slice(8,-1);return n==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):n==="Error"||e instanceof Error?"["+wv.call(e)+"]":n==="RegExp"?Tv.call(e):null}function ye(e,t){let r=jr(e,t);return r!==null?r:JSON.stringify(e,function(n,a){let s=jr(this[n],t);return s!==null?s:a},2)}let K={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{let a=n!=null&&n!==r,s=`${e} must be a \`${t}\` type, but the final value was: \`${ye(r,!0)}\``+(a?` (cast from the value \`${ye(n,!0)}\`).`:".");return r===null&&(s+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),s},defined:"${path} must be defined"},N={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ov={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},bt={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Rv={isValue:"${path} field must be ${value}"},vt={noUnknown:"${path} field has unspecified keys: ${unknown}"},Pv={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:K,string:N,number:Ov,date:bt,object:vt,array:Pv,boolean:Rv});var kv=Object.prototype,Dv=kv.hasOwnProperty;function Lv(e,t){return e!=null&&Dv.call(e,t)}var Bv=Lv,Nv=Bv,Uv=Tn;function Mv(e,t){return e!=null&&Uv(e,t,Nv)}var zv=Mv;const Be=A(zv),es=e=>e&&e.__isYupSchema__;class jv{constructor(t,r){if(this.fn=void 0,this.refs=t,this.refs=t,typeof r=="function"){this.fn=r;return}if(!Be(r,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(u=>u===n);this.fn=function(...l){let u=l.pop(),c=l.pop(),f=i(...l)?a:s;if(f)return typeof f=="function"?f(c):c.concat(f.resolve(u))}}resolve(t,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn.apply(t,n.concat(t,r));if(a===void 0||a===t)return t;if(!es(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}function ts(e){return e==null?[]:[].concat(e)}function St(){return St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},St.apply(this,arguments)}let Qv=/\$\{\s*(\w+)\s*\}/g;class R extends Error{static formatError(t,r){const n=r.label||r.path||"this";return n!==r.path&&(r=St({},r,{path:n})),typeof t=="string"?t.replace(Qv,(a,s)=>ye(r[s])):typeof t=="function"?t(r):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,r,n,a){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],ts(t).forEach(s=>{R.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,R)}}const qv=e=>{let t=!1;return(...r)=>{t||(t=!0,e(...r))}};function Et(e,t){let{endEarly:r,tests:n,args:a,value:s,errors:i,sort:l,path:u}=e,c=qv(t),f=n.length;const p=[];if(i=i||[],!f)return i.length?c(new R(i,s,u)):c(null,s);for(let h=0;h<n.length;h++){const m=n[h];m(a,function(b){if(b){if(!R.isError(b))return c(b,s);if(r)return b.value=s,c(b,s);p.push(b)}if(--f<=0){if(p.length&&(l&&p.sort(l),i.length&&p.push(...i),i=p),i.length){c(new R(i,s,u),s);return}c(null,s)}})}}function Gv(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var u=i[e?l:++a];if(r(s[u],u,s)===!1)break}return t}}var Vv=Gv,Hv=Vv,Yv=Hv(),Wv=Yv,Kv=Wv,Xv=_e;function Zv(e,t){return e&&Kv(e,t,Xv)}var rs=Zv,Jv="__lodash_hash_undefined__";function eS(e){return this.__data__.set(e,Jv),this}var tS=eS;function rS(e){return this.__data__.has(e)}var nS=rS,aS=Pt,sS=tS,iS=nS;function Ne(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new aS;++t<r;)this.add(e[t])}Ne.prototype.add=Ne.prototype.push=sS;Ne.prototype.has=iS;var oS=Ne;function lS(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var uS=lS;function cS(e,t){return e.has(t)}var dS=cS,fS=oS,pS=uS,hS=dS,gS=1,mS=2;function yS(e,t,r,n,a,s){var i=r&gS,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;var c=s.get(e),f=s.get(t);if(c&&f)return c==t&&f==e;var p=-1,h=!0,m=r&mS?new fS:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var v=e[p],b=t[p];if(n)var E=i?n(b,v,p,t,e,s):n(v,b,p,e,t,s);if(E!==void 0){if(E)continue;h=!1;break}if(m){if(!pS(t,function(g,_){if(!hS(m,_)&&(v===g||a(v,g,r,n,s)))return m.push(_)})){h=!1;break}}else if(!(v===b||a(v,b,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var ns=yS;function bS(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var vS=bS;function SS(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ES=SS,Qr=ie,qr=Nn,_S=Ve,$S=ns,CS=vS,xS=ES,wS=1,TS=2,IS="[object Boolean]",AS="[object Date]",FS="[object Error]",OS="[object Map]",RS="[object Number]",PS="[object RegExp]",kS="[object Set]",DS="[object String]",LS="[object Symbol]",BS="[object ArrayBuffer]",NS="[object DataView]",Gr=Qr?Qr.prototype:void 0,st=Gr?Gr.valueOf:void 0;function US(e,t,r,n,a,s,i){switch(r){case NS:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case BS:return!(e.byteLength!=t.byteLength||!s(new qr(e),new qr(t)));case IS:case AS:case RS:return _S(+e,+t);case FS:return e.name==t.name&&e.message==t.message;case PS:case DS:return e==t+"";case OS:var l=CS;case kS:var u=n&wS;if(l||(l=xS),e.size!=t.size&&!u)return!1;var c=i.get(e);if(c)return c==t;n|=TS,i.set(e,t);var f=$S(l(e),l(t),n,a,s,i);return i.delete(e),f;case LS:if(st)return st.call(e)==st.call(t)}return!1}var MS=US,Vr=Bn,zS=1,jS=Object.prototype,QS=jS.hasOwnProperty;function qS(e,t,r,n,a,s){var i=r&zS,l=Vr(e),u=l.length,c=Vr(t),f=c.length;if(u!=f&&!i)return!1;for(var p=u;p--;){var h=l[p];if(!(i?h in t:QS.call(t,h)))return!1}var m=s.get(e),v=s.get(t);if(m&&v)return m==t&&v==e;var b=!0;s.set(e,t),s.set(t,e);for(var E=i;++p<u;){h=l[p];var g=e[h],_=t[h];if(n)var T=i?n(_,g,h,t,e,s):n(g,_,h,e,t,s);if(!(T===void 0?g===_||a(g,_,r,n,s):T)){b=!1;break}E||(E=h=="constructor")}if(b&&!E){var F=e.constructor,B=t.constructor;F!=B&&"constructor"in e&&"constructor"in t&&!(typeof F=="function"&&F instanceof F&&typeof B=="function"&&B instanceof B)&&(b=!1)}return s.delete(e),s.delete(t),b}var GS=qS,it=Mt,VS=ns,HS=MS,YS=GS,Hr=be,Yr=P,Wr=qe,WS=Ft,KS=1,Kr="[object Arguments]",Xr="[object Array]",we="[object Object]",XS=Object.prototype,Zr=XS.hasOwnProperty;function ZS(e,t,r,n,a,s){var i=Yr(e),l=Yr(t),u=i?Xr:Hr(e),c=l?Xr:Hr(t);u=u==Kr?we:u,c=c==Kr?we:c;var f=u==we,p=c==we,h=u==c;if(h&&Wr(e)){if(!Wr(t))return!1;i=!0,f=!1}if(h&&!f)return s||(s=new it),i||WS(e)?VS(e,t,r,n,a,s):HS(e,t,u,r,n,a,s);if(!(r&KS)){var m=f&&Zr.call(e,"__wrapped__"),v=p&&Zr.call(t,"__wrapped__");if(m||v){var b=m?e.value():e,E=v?t.value():t;return s||(s=new it),a(b,E,r,n,s)}}return h?(s||(s=new it),YS(e,t,r,n,a,s)):!1}var JS=ZS,eE=JS,Jr=j;function as(e,t,r,n,a){return e===t?!0:e==null||t==null||!Jr(e)&&!Jr(t)?e!==e&&t!==t:eE(e,t,r,n,as,a)}var ss=as,tE=Mt,rE=ss,nE=1,aE=2;function sE(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var u=l[0],c=e[u],f=l[1];if(i&&l[2]){if(c===void 0&&!(u in e))return!1}else{var p=new tE;if(n)var h=n(c,f,u,e,t,p);if(!(h===void 0?rE(f,c,nE|aE,n,p):h))return!1}}return!0}var iE=sE,oE=V;function lE(e){return e===e&&!oE(e)}var is=lE,uE=is,cE=_e;function dE(e){for(var t=cE(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,uE(a)]}return t}var fE=dE;function pE(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var os=pE,hE=iE,gE=fE,mE=os;function yE(e){var t=gE(e);return t.length==1&&t[0][2]?mE(t[0][0],t[0][1]):function(r){return r===e||hE(r,e,t)}}var bE=yE,vE=ss,SE=wn,EE=Lt,_E=Rt,$E=is,CE=os,xE=Se,wE=1,TE=2;function IE(e,t){return _E(e)&&$E(t)?CE(xE(e),t):function(r){var n=SE(r,e);return n===void 0&&n===t?EE(r,e):vE(t,n,wE|TE)}}var AE=IE;function FE(e){return function(t){return t==null?void 0:t[e]}}var OE=FE,RE=Dt;function PE(e){return function(t){return RE(t,e)}}var kE=PE,DE=OE,LE=kE,BE=Rt,NE=Se;function UE(e){return BE(e)?DE(NE(e)):LE(e)}var ME=UE,zE=bE,jE=AE,QE=Nt,qE=P,GE=ME;function VE(e){return typeof e=="function"?e:e==null?QE:typeof e=="object"?qE(e)?jE(e[0],e[1]):zE(e):GE(e)}var ls=VE,HE=Ze,YE=rs,WE=ls;function KE(e,t){var r={};return t=WE(t),YE(e,function(n,a,s){HE(r,a,t(n,a,s))}),r}var XE=KE;const us=A(XE);function Z(e){this._maxSize=e,this.clear()}Z.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Z.prototype.get=function(e){return this._values[e]};Z.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var ZE=/[^.^\]^[]+|(?=\[\]|\.\.)/g,cs=/^\d+$/,JE=/^\d/,e_=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,t_=/^\s*(['"]?)(.*?)(\1)\s*$/,Xt=512,en=new Z(Xt),tn=new Z(Xt),rn=new Z(Xt),rt={Cache:Z,split:_t,normalizePath:ot,setter:function(e){var t=ot(e);return tn.get(e)||tn.set(e,function(n,a){for(var s=0,i=t.length,l=n;s<i-1;){var u=t[s];if(u==="__proto__"||u==="constructor"||u==="prototype")return n;l=l[t[s++]]}l[t[s]]=a})},getter:function(e,t){var r=ot(e);return rn.get(e)||rn.set(e,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!t)a=a[r[s++]];else return;return a})},join:function(e){return e.reduce(function(t,r){return t+(Zt(r)||cs.test(r)?"["+r+"]":(t?".":"")+r)},"")},forEach:function(e,t,r){r_(Array.isArray(e)?e:_t(e),t,r)}};function ot(e){return en.get(e)||en.set(e,_t(e).map(function(t){return t.replace(t_,"$2")}))}function _t(e){return e.match(ZE)||[""]}function r_(e,t,r){var n=e.length,a,s,i,l;for(s=0;s<n;s++)a=e[s],a&&(s_(a)&&(a='"'+a+'"'),l=Zt(a),i=!l&&/^\d+$/.test(a),t.call(r,a,l,i,s,e))}function Zt(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function n_(e){return e.match(JE)&&!e.match(cs)}function a_(e){return e_.test(e)}function s_(e){return!Zt(e)&&(n_(e)||a_(e))}const Te={context:"$",value:"."};class H{constructor(t,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Te.context,this.isValue=this.key[0]===Te.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Te.context:this.isValue?Te.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&rt.getter(this.path,!0),this.map=r.map}getValue(t,r,n){let a=this.isContext?n:this.isValue?t:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(t,r){return this.getValue(t,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}H.prototype.__isYupRef=!0;function Ue(){return Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ue.apply(this,arguments)}function i_(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ie(e){function t(r,n){let{value:a,path:s="",label:i,options:l,originalValue:u,sync:c}=r,f=i_(r,["value","path","label","options","originalValue","sync"]);const{name:p,test:h,params:m,message:v}=e;let{parent:b,context:E}=l;function g(w){return H.isRef(w)?w.getValue(a,b,E):w}function _(w={}){const k=us(Ue({value:a,originalValue:u,label:i,path:w.path||s},m,w.params),g),rr=new R(R.formatError(w.message||v,k),a,k.path,w.type||p);return rr.params=k,rr}let T=Ue({path:s,parent:b,type:p,createError:_,resolve:g,options:l,originalValue:u},f);if(!c){try{Promise.resolve(h.call(T,a,T)).then(w=>{R.isError(w)?n(w):w?n(null,w):n(_())}).catch(n)}catch(w){n(w)}return}let F;try{var B;if(F=h.call(T,a,T),typeof((B=F)==null?void 0:B.then)=="function")throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(w){n(w);return}R.isError(F)?n(F):F?n(null,F):n(_())}return t.OPTIONS=e,t}let o_=e=>e.substr(0,e.length-1).substr(1);function l_(e,t,r,n=r){let a,s,i;return t?(rt.forEach(t,(l,u,c)=>{let f=u?o_(l):l;if(e=e.resolve({context:n,parent:a,value:r}),e.innerType){let p=c?parseInt(f,10):0;if(r&&p>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${t}. because there is no value at that index. `);a=r,r=r&&r[p],e=e.innerType}if(!c){if(!e.fields||!e.fields[f])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${i} which is a type: "${e._type}")`);a=r,r=r&&r[f],e=e.fields[f]}s=f,i=u?"["+l+"]":"."+l}),{schema:e,parent:a,parentPath:s}):{parent:a,parentPath:t,schema:e}}class Me{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const t=[];for(const r of this.list)t.push(r);for(const[,r]of this.refs)t.push(r.describe());return t}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(t){return this.toArray().reduce((r,n)=>r.concat(H.isRef(n)?t(n):n),[])}add(t){H.isRef(t)?this.refs.set(t.key,t):this.list.add(t)}delete(t){H.isRef(t)?this.refs.delete(t.key):this.list.delete(t)}clone(){const t=new Me;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}merge(t,r){const n=this.clone();return t.list.forEach(a=>n.add(a)),t.refs.forEach(a=>n.add(a)),r.list.forEach(a=>n.delete(a)),r.refs.forEach(a=>n.delete(a)),n}}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}class O{constructor(t){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new Me,this._blacklist=new Me,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(K.notType)}),this.type=(t==null?void 0:t.type)||"mixed",this.spec=D({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},t==null?void 0:t.spec)}get _type(){return this.type}_typeCheck(t){return!0}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeError=this._typeError,r._whitelistError=this._whitelistError,r._blacklistError=this._blacklistError,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.exclusiveTests=D({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=yt(D({},this.spec,t)),r}label(t){let r=this.clone();return r.spec.label=t,r}meta(...t){if(t.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},t[0]),r}withMutation(t){let r=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=r,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let r=this,n=t.clone();const a=D({},r.spec,n.spec);return n.spec=a,n._typeError||(n._typeError=r._typeError),n._whitelistError||(n._whitelistError=r._whitelistError),n._blacklistError||(n._blacklistError=r._blacklistError),n._whitelist=r._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=r._blacklist.merge(t._blacklist,t._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{t.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(t){return this.spec.nullable&&t===null?!0:this._typeCheck(t)}resolve(t){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,t),r),r=r.resolve(t)}return r}cast(t,r={}){let n=this.resolve(D({value:t},r)),a=n._cast(t,r);if(t!==void 0&&r.assert!==!1&&n.isType(a)!==!0){let s=ye(t),i=ye(a);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n._type}". 

attempted value: ${s} 
`+(i!==s?`result of cast: ${i}`:""))}return a}_cast(t,r){let n=t===void 0?t:this.transforms.reduce((a,s)=>s.call(this,a,t,this),t);return n===void 0&&(n=this.getDefault()),n}_validate(t,r={},n){let{sync:a,path:s,from:i=[],originalValue:l=t,strict:u=this.spec.strict,abortEarly:c=this.spec.abortEarly}=r,f=t;u||(f=this._cast(f,D({assert:!1},r)));let p={value:f,path:s,options:r,originalValue:l,schema:this,label:this.spec.label,sync:a,from:i},h=[];this._typeError&&h.push(this._typeError);let m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),Et({args:p,value:f,path:s,sync:a,tests:h,endEarly:c},v=>{if(v)return void n(v,f);Et({tests:this.tests.concat(m),args:p,path:s,sync:a,value:f,endEarly:c},n)})}validate(t,r,n){let a=this.resolve(D({},r,{value:t}));return typeof n=="function"?a._validate(t,r,n):new Promise((s,i)=>a._validate(t,r,(l,u)=>{l?i(l):s(u)}))}validateSync(t,r){let n=this.resolve(D({},r,{value:t})),a;return n._validate(t,D({},r,{sync:!0}),(s,i)=>{if(s)throw s;a=i}),a}isValid(t,r){return this.validate(t,r).then(()=>!0,n=>{if(R.isError(n))return!1;throw n})}isValidSync(t,r){try{return this.validateSync(t,r),!0}catch(n){if(R.isError(n))return!1;throw n}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):yt(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){let r=this.clone();return r.spec.strict=t,r}_isPresent(t){return t!=null}defined(t=K.defined){return this.test({message:t,name:"defined",exclusive:!0,test(r){return r!==void 0}})}required(t=K.required){return this.clone({presence:"required"}).withMutation(r=>r.test({message:t,name:"required",exclusive:!0,test(n){return this.schema._isPresent(n)}}))}notRequired(){let t=this.clone({presence:"optional"});return t.tests=t.tests.filter(r=>r.OPTIONS.name!=="required"),t}nullable(t=!0){return this.clone({nullable:t!==!1})}transform(t){let r=this.clone();return r.transforms.push(t),r}test(...t){let r;if(t.length===1?typeof t[0]=="function"?r={test:t[0]}:r=t[0]:t.length===2?r={name:t[0],test:t[1]}:r={name:t[0],message:t[1],test:t[2]},r.message===void 0&&(r.message=K.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=Ie(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(t,r){!Array.isArray(t)&&typeof t!="string"&&(r=t,t=".");let n=this.clone(),a=ts(t).map(s=>new H(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(new jv(a,r)),n}typeError(t){let r=this.clone();return r._typeError=Ie({message:t,name:"typeError",test(n){return n!==void 0&&!this.schema.isType(n)?this.createError({params:{type:this.schema._type}}):!0}}),r}oneOf(t,r=K.oneOf){let n=this.clone();return t.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n._whitelistError=Ie({message:r,name:"oneOf",test(a){if(a===void 0)return!0;let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:s.toArray().join(", "),resolved:i}})}}),n}notOneOf(t,r=K.notOneOf){let n=this.clone();return t.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n._blacklistError=Ie({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:s.toArray().join(", "),resolved:i}}):!0}}),n}strip(t=!0){let r=this.clone();return r.spec.strip=t,r}describe(){const t=this.clone(),{label:r,meta:n}=t.spec;return{meta:n,label:r,type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(s=>({name:s.OPTIONS.name,params:s.OPTIONS.params})).filter((s,i,l)=>l.findIndex(u=>u.name===s.name)===i)}}}O.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])O.prototype[`${e}At`]=function(t,r,n={}){const{parent:a,parentPath:s,schema:i}=l_(this,t,r,n.context);return i[e](a&&a[s],D({},n,{parent:a,path:t}))};for(const e of["equals","is"])O.prototype[e]=O.prototype.oneOf;for(const e of["not","nope"])O.prototype[e]=O.prototype.notOneOf;O.prototype.optional=O.prototype.notRequired;const u_=O;u_.prototype;const U=e=>e==null;let c_=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,d_=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,f_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,p_=e=>U(e)||e===e.trim(),h_={}.toString();function ge(){return new ds}class ds extends O{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(t){if(this.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===h_?t:r})})}_typeCheck(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}_isPresent(t){return super._isPresent(t)&&!!t.length}length(t,r=N.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:t},test(n){return U(n)||n.length===this.resolve(t)}})}min(t,r=N.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:t},test(n){return U(n)||n.length>=this.resolve(t)}})}max(t,r=N.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:t},test(n){return U(n)||n.length<=this.resolve(t)}})}matches(t,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||N.matches,params:{regex:t},test:i=>U(i)||i===""&&n||i.search(t)!==-1})}email(t=N.email){return this.matches(c_,{name:"email",message:t,excludeEmptyString:!0})}url(t=N.url){return this.matches(d_,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=N.uuid){return this.matches(f_,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=N.trim){return this.transform(r=>r!=null?r.trim():r).test({message:t,name:"trim",test:p_})}lowercase(t=N.lowercase){return this.transform(r=>U(r)?r:r.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,test:r=>U(r)||r===r.toLowerCase()})}uppercase(t=N.uppercase){return this.transform(r=>U(r)?r:r.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,test:r=>U(r)||r===r.toUpperCase()})}}ge.prototype=ds.prototype;var g_=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function m_(e){var t=[1,4,5,6,7,10,11],r=0,n,a;if(a=g_.exec(e)){for(var s=0,i;i=t[s];++s)a[i]=+a[i]||0;a[2]=(+a[2]||1)-1,a[3]=+a[3]||1,a[7]=a[7]?String(a[7]).substr(0,3):0,(a[8]===void 0||a[8]==="")&&(a[9]===void 0||a[9]==="")?n=+new Date(a[1],a[2],a[3],a[4],a[5],a[6],a[7]):(a[8]!=="Z"&&a[9]!==void 0&&(r=a[10]*60+a[11],a[9]==="+"&&(r=0-r)),n=Date.UTC(a[1],a[2],a[3],a[4],a[5]+r,a[6],a[7]))}else n=Date.parse?Date.parse(e):NaN;return n}let fs=new Date(""),y_=e=>Object.prototype.toString.call(e)==="[object Date]";class ps extends O{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(t){return this.isType(t)?t:(t=m_(t),isNaN(t)?fs:new Date(t))})})}_typeCheck(t){return y_(t)&&!isNaN(t.getTime())}prepareParam(t,r){let n;if(H.isRef(t))n=t;else{let a=this.cast(t);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(t,r=bt.min){let n=this.prepareParam(t,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:t},test(a){return U(a)||a>=this.resolve(n)}})}max(t,r=bt.max){let n=this.prepareParam(t,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:t},test(a){return U(a)||a<=this.resolve(n)}})}}ps.INVALID_DATE=fs;ps.prototype;function b_(e,t,r,n){var a=-1,s=e==null?0:e.length;for(n&&s&&(r=e[++a]);++a<s;)r=t(r,e[a],a,e);return r}var v_=b_;function S_(e){return function(t){return e==null?void 0:e[t]}}var E_=S_,__=E_,$_={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},C_=__($_),x_=C_,w_=x_,T_=ve,I_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,A_="\\u0300-\\u036f",F_="\\ufe20-\\ufe2f",O_="\\u20d0-\\u20ff",R_=A_+F_+O_,P_="["+R_+"]",k_=RegExp(P_,"g");function D_(e){return e=T_(e),e&&e.replace(I_,w_).replace(k_,"")}var L_=D_,B_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function N_(e){return e.match(B_)||[]}var U_=N_,M_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function z_(e){return M_.test(e)}var j_=z_,hs="\\ud800-\\udfff",Q_="\\u0300-\\u036f",q_="\\ufe20-\\ufe2f",G_="\\u20d0-\\u20ff",V_=Q_+q_+G_,gs="\\u2700-\\u27bf",ms="a-z\\xdf-\\xf6\\xf8-\\xff",H_="\\xac\\xb1\\xd7\\xf7",Y_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",W_="\\u2000-\\u206f",K_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ys="A-Z\\xc0-\\xd6\\xd8-\\xde",X_="\\ufe0e\\ufe0f",bs=H_+Y_+W_+K_,vs="[']",nn="["+bs+"]",Z_="["+V_+"]",Ss="\\d+",J_="["+gs+"]",Es="["+ms+"]",_s="[^"+hs+bs+Ss+gs+ms+ys+"]",e0="\\ud83c[\\udffb-\\udfff]",t0="(?:"+Z_+"|"+e0+")",r0="[^"+hs+"]",$s="(?:\\ud83c[\\udde6-\\uddff]){2}",Cs="[\\ud800-\\udbff][\\udc00-\\udfff]",ee="["+ys+"]",n0="\\u200d",an="(?:"+Es+"|"+_s+")",a0="(?:"+ee+"|"+_s+")",sn="(?:"+vs+"(?:d|ll|m|re|s|t|ve))?",on="(?:"+vs+"(?:D|LL|M|RE|S|T|VE))?",xs=t0+"?",ws="["+X_+"]?",s0="(?:"+n0+"(?:"+[r0,$s,Cs].join("|")+")"+ws+xs+")*",i0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",l0=ws+xs+s0,u0="(?:"+[J_,$s,Cs].join("|")+")"+l0,c0=RegExp([ee+"?"+Es+"+"+sn+"(?="+[nn,ee,"$"].join("|")+")",a0+"+"+on+"(?="+[nn,ee+an,"$"].join("|")+")",ee+"?"+an+"+"+sn,ee+"+"+on,o0,i0,Ss,u0].join("|"),"g");function d0(e){return e.match(c0)||[]}var f0=d0,p0=U_,h0=j_,g0=ve,m0=f0;function y0(e,t,r){return e=g0(e),t=r?void 0:t,t===void 0?h0(e)?m0(e):p0(e):e.match(t)||[]}var b0=y0,v0=v_,S0=L_,E0=b0,_0="[']",$0=RegExp(_0,"g");function C0(e){return function(t){return v0(E0(S0(t).replace($0,"")),e,"")}}var Ts=C0,x0=Ts,w0=x0(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),T0=w0;const ln=A(T0);function I0(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var A0=I0,F0=A0;function O0(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:F0(e,t,r)}var R0=O0,P0="\\ud800-\\udfff",k0="\\u0300-\\u036f",D0="\\ufe20-\\ufe2f",L0="\\u20d0-\\u20ff",B0=k0+D0+L0,N0="\\ufe0e\\ufe0f",U0="\\u200d",M0=RegExp("["+U0+P0+B0+N0+"]");function z0(e){return M0.test(e)}var Is=z0;function j0(e){return e.split("")}var Q0=j0,As="\\ud800-\\udfff",q0="\\u0300-\\u036f",G0="\\ufe20-\\ufe2f",V0="\\u20d0-\\u20ff",H0=q0+G0+V0,Y0="\\ufe0e\\ufe0f",W0="["+As+"]",$t="["+H0+"]",Ct="\\ud83c[\\udffb-\\udfff]",K0="(?:"+$t+"|"+Ct+")",Fs="[^"+As+"]",Os="(?:\\ud83c[\\udde6-\\uddff]){2}",Rs="[\\ud800-\\udbff][\\udc00-\\udfff]",X0="\\u200d",Ps=K0+"?",ks="["+Y0+"]?",Z0="(?:"+X0+"(?:"+[Fs,Os,Rs].join("|")+")"+ks+Ps+")*",J0=ks+Ps+Z0,e$="(?:"+[Fs+$t+"?",$t,Os,Rs,W0].join("|")+")",t$=RegExp(Ct+"(?="+Ct+")|"+e$+J0,"g");function r$(e){return e.match(t$)||[]}var n$=r$,a$=Q0,s$=Is,i$=n$;function o$(e){return s$(e)?i$(e):a$(e)}var l$=o$,u$=R0,c$=Is,d$=l$,f$=ve;function p$(e){return function(t){t=f$(t);var r=c$(t)?d$(t):void 0,n=r?r[0]:t.charAt(0),a=r?u$(r,1).join(""):t.slice(1);return n[e]()+a}}var h$=p$,g$=h$,m$=g$("toUpperCase"),y$=m$,b$=ve,v$=y$;function S$(e){return v$(b$(e).toLowerCase())}var E$=S$,_$=E$,$$=Ts,C$=$$(function(e,t,r){return t=t.toLowerCase(),e+(r?_$(t):t)}),x$=C$;const w$=A(x$);var T$=Ze,I$=rs,A$=ls;function F$(e,t){var r={};return t=A$(t),I$(e,function(n,a,s){T$(r,t(n,a,s),n)}),r}var O$=F$;const R$=A(O$);var Jt={exports:{}};Jt.exports=function(e){return Ds(P$(e),e)};Jt.exports.array=Ds;function Ds(e,t){var r=e.length,n=new Array(r),a={},s=r,i=k$(t),l=D$(e);for(t.forEach(function(c){if(!l.has(c[0])||!l.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||u(e[s],s,new Set);return n;function u(c,f,p){if(p.has(c)){var h;try{h=", node was:"+JSON.stringify(c)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!l.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!a[f]){a[f]=!0;var m=i.get(c)||new Set;if(m=Array.from(m),f=m.length){p.add(c);do{var v=m[--f];u(v,l.get(v),p)}while(f);p.delete(c)}n[--r]=c}}}function P$(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var a=e[r];t.add(a[0]),t.add(a[1])}return Array.from(t)}function k$(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var a=e[r];t.has(a[0])||t.set(a[0],new Set),t.has(a[1])||t.set(a[1],new Set),t.get(a[0]).add(a[1])}return t}function D$(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}var L$=Jt.exports;const B$=A(L$);function N$(e,t=[]){let r=[],n=new Set,a=new Set(t.map(([i,l])=>`${i}-${l}`));function s(i,l){let u=rt.split(i)[0];n.add(u),a.has(`${l}-${u}`)||r.push([l,u])}for(const i in e)if(Be(e,i)){let l=e[i];n.add(i),H.isRef(l)&&l.isSibling?s(l.path,i):es(l)&&"deps"in l&&l.deps.forEach(u=>s(u,i))}return B$.array(Array.from(n),r).reverse()}function un(e,t){let r=1/0;return e.some((n,a)=>{var s;if(((s=t.path)==null?void 0:s.indexOf(n))!==-1)return r=a,!0}),r}function Ls(e){return(t,r)=>un(e,t)-un(e,r)}function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(this,arguments)}let cn=e=>Object.prototype.toString.call(e)==="[object Object]";function U$(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(n=>r.indexOf(n)===-1)}const M$=Ls([]);class Bs extends O{constructor(t){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=M$,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(n){if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}return this.isType(n)?n:null}),t&&this.shape(t)})}_typeCheck(t){return cn(t)||typeof t=="function"}_cast(t,r={}){var n;let a=super._cast(t,r);if(a===void 0)return this.getDefault();if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=this._nodes.concat(Object.keys(a).filter(p=>this._nodes.indexOf(p)===-1)),u={},c=re({},r,{parent:u,__validating:r.__validating||!1}),f=!1;for(const p of l){let h=s[p],m=Be(a,p);if(h){let v,b=a[p];c.path=(r.path?`${r.path}.`:"")+p,h=h.resolve({value:b,context:r.context,parent:u});let E="spec"in h?h.spec:void 0,g=E==null?void 0:E.strict;if(E!=null&&E.strip){f=f||p in a;continue}v=!r.__validating||!g?h.cast(a[p],c):a[p],v!==void 0&&(u[p]=v)}else m&&!i&&(u[p]=a[p]);u[p]!==a[p]&&(f=!0)}return f?u:a}_validate(t,r={},n){let a=[],{sync:s,from:i=[],originalValue:l=t,abortEarly:u=this.spec.abortEarly,recursive:c=this.spec.recursive}=r;i=[{schema:this,value:l},...i],r.__validating=!0,r.originalValue=l,r.from=i,super._validate(t,r,(f,p)=>{if(f){if(!R.isError(f)||u)return void n(f,p);a.push(f)}if(!c||!cn(p)){n(a[0]||null,p);return}l=l||p;let h=this._nodes.map(m=>(v,b)=>{let E=m.indexOf(".")===-1?(r.path?`${r.path}.`:"")+m:`${r.path||""}["${m}"]`,g=this.fields[m];if(g&&"validate"in g){g.validate(p[m],re({},r,{path:E,from:i,strict:!0,parent:p,originalValue:l[m]}),b);return}b(null)});Et({sync:s,tests:h,value:p,errors:a,endEarly:u,sort:this._sortErrors,path:r.path},n)})}clone(t){const r=super.clone(t);return r.fields=re({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(t){let r=super.concat(t),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];i===void 0?n[a]=s:i instanceof O&&s instanceof O&&(n[a]=s.concat(i))}return r.withMutation(()=>r.shape(n,this._excludedEdges))}getDefaultFromShape(){let t={};return this._nodes.forEach(r=>{const n=this.fields[r];t[r]="default"in n?n.getDefault():void 0}),t}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(t,r=[]){let n=this.clone(),a=Object.assign(n.fields,t);return n.fields=a,n._sortErrors=Ls(Object.keys(a)),r.length&&(Array.isArray(r[0])||(r=[r]),n._excludedEdges=[...n._excludedEdges,...r]),n._nodes=N$(a,n._excludedEdges),n}pick(t){const r={};for(const n of t)this.fields[n]&&(r[n]=this.fields[n]);return this.clone().withMutation(n=>(n.fields={},n.shape(r)))}omit(t){const r=this.clone(),n=r.fields;r.fields={};for(const a of t)delete n[a];return r.withMutation(()=>r.shape(n))}from(t,r,n){let a=rt.getter(t,!0);return this.transform(s=>{if(s==null)return s;let i=s;return Be(s,t)&&(i=re({},s),n||delete i[t],i[r]=a(s)),i})}noUnknown(t=!0,r=vt.noUnknown){typeof t=="string"&&(r=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=U$(this.schema,a);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,r=vt.noUnknown){return this.noUnknown(!t,r)}transformKeys(t){return this.transform(r=>r&&R$(r,(n,a)=>t(a)))}camelCase(){return this.transformKeys(w$)}snakeCase(){return this.transformKeys(ln)}constantCase(){return this.transformKeys(t=>ln(t).toUpperCase())}describe(){let t=super.describe();return t.fields=us(this.fields,r=>r.describe()),t}}function Oe(e){return new Bs(e)}Oe.prototype=Bs.prototype;const z$={task:{title:"",description:"",mode:"import",status:"created",startTime:null,endTime:null,recordType:"",serializer:""},metadata:null},j$=Oe({task:Oe({title:ge().required("Title is required"),recordType:ge().required("Record type is required"),serializer:ge().required("Serializer is required"),mode:ge().required("Mode is required")}),metadata:Oe().nullable()}),Q$=({onSubmit:e})=>{const t=async r=>{try{const n=await gv(r.task);if(!n)throw new Error("Failed to create import task");if(r.metadata){const a=await hv(n.id,r.metadata);console.log("Metadata added:",a);const s=await Xa(n.id);if(console.log("Task validation result:",s),s){const i=await Ka(n.id);console.log("Task status:",i)}}e==null||e()}catch(n){console.error("Error creating import task:",n)}};return o.default.createElement(J.BaseForm,{formik:{initialValues:z$,validationSchema:j$,onSubmit:t}},o.default.createElement(Cv,null))},Ns=()=>{const[e,t]=y.useState(!1),{refreshSearch:r}=tt(),n=y.useCallback(()=>{t(!1),r()},[r]);return o.default.createElement(d.Modal,{closeIcon:!0,onClose:()=>t(!1),onOpen:()=>t(!0),open:e,trigger:o.default.createElement(d.Button,{color:"green",icon:!0,labelPosition:"left"},o.default.createElement(d.Icon,{name:"add"}),"New Import")},o.default.createElement(d.ModalHeader,null,"New Import Task"),o.default.createElement(d.ModalContent,null,o.default.createElement(Q$,{onSubmit:n})),o.default.createElement(d.ModalActions,null,o.default.createElement(d.Button,{onClick:()=>t(!1)},"Close")))},q$=({currentQueryState:e,updateQueryState:t})=>{var s;const r=[{key:"all",label:"All",value:null},{key:"pending",label:"Pending",value:"pending"},{key:"success",label:"Success",value:"success"},{key:"failed",label:"Failed",value:"failed"}],n=(s=e.filters)==null?void 0:s.find(i=>i[0]==="status"),a=i=>{var u;const l=((u=e.filters)==null?void 0:u.filter(c=>c[0]!=="status"))||[];i&&l.push(["status",i]),t({...e,filters:l,page:1})};return o.default.createElement(d.Menu,{activeIndex:0,compact:!0,size:"tiny"},r.map(({key:i,label:l,value:u})=>o.default.createElement(d.Menu.Item,{key:i,name:i,active:(n==null?void 0:n[1])===u||u===null&&!n,onClick:()=>a(u)},l)))},Us=Sa(q$);function xt(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}var G$=e=>typeof e=="object"&&e!==null;function V$(e){return Object.fromEntries(Object.entries(e??{}).filter(([t,r])=>r!==void 0))}var H$=e=>e==="base";function Y$(e){return e.slice().filter(t=>!H$(t))}function dn(e){return String.fromCharCode(e+(e>25?39:97))}function W$(e){let t="",r;for(r=Math.abs(e);r>52;r=r/52|0)t=dn(r%52)+t;return dn(r%52)+t}function K$(e,t){let r=t.length;for(;r;)e=e*33^t.charCodeAt(--r);return e}function X$(e){return W$(K$(5381,e)>>>0)}var Ms=/\s*!(important)?/i;function Z$(e){return typeof e=="string"?Ms.test(e):!1}function J$(e){return typeof e=="string"?e.replace(Ms,"").trim():e}function zs(e){return typeof e=="string"?e.replaceAll(" ","_"):e}var er=e=>{const t=new Map;return(...n)=>{const a=JSON.stringify(n);if(t.has(a))return t.get(a);const s=e(...n);return t.set(a,s),s}},e1=new Set(["__proto__","constructor","prototype"]);function js(...e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{if(e1.has(n))return;const a=t[n],s=r[n];xt(a)&&xt(s)?t[n]=js(a,s):t[n]=s}),t),{})}var t1=e=>e!=null;function Qs(e,t,r={}){const{stop:n,getKey:a}=r;function s(i,l=[]){if(G$(i)){const u={};for(const[c,f]of Object.entries(i)){const p=(a==null?void 0:a(c,f))??c,h=[...l,p];if(n!=null&&n(i,h))return t(i,l);const m=s(f,h);t1(m)&&(u[p]=m)}return u}return t(i,l)}return s(e)}function r1(e,t){return e.reduce((r,n,a)=>{const s=t[a];return n!=null&&(r[s]=n),r},{})}function qs(e,t,r=!0){const{utility:n,conditions:a}=t,{hasShorthand:s,resolveShorthand:i}=n;return Qs(e,l=>Array.isArray(l)?r1(l,a.breakpoints.keys):l,{stop:l=>Array.isArray(l),getKey:r?l=>s?i(l):l:void 0})}var n1={shift:e=>e,finalize:e=>e,breakpoints:{keys:[]}},a1=e=>typeof e=="string"?e.replaceAll(/[\n\s]+/g," "):e;function s1(e){const{utility:t,hash:r,conditions:n=n1}=e,a=i=>[t.prefix,i].filter(Boolean).join("-"),s=(i,l)=>{let u;if(r){const c=[...n.finalize(i),l];u=a(t.toHash(c,X$))}else u=[...n.finalize(i),a(l)].join(":");return u};return er(({base:i,...l}={})=>{const u=Object.assign(l,i),c=qs(u,e),f=new Set;return Qs(c,(p,h)=>{if(p==null)return;const m=Z$(p),[v,...b]=n.shift(h),E=Y$(b),g=t.transform(v,J$(a1(p)));let _=s(E,g.className);m&&(_=`${_}!`),f.add(_)}),Array.from(f).join(" ")})}function i1(...e){return e.flat().filter(t=>xt(t)&&Object.keys(V$(t)).length>0)}function o1(e){function t(a){const s=i1(...a);return s.length===1?s:s.map(i=>qs(i,e))}function r(...a){return js(...t(a))}function n(...a){return Object.assign({},...t(a))}return{mergeCss:er(r),assignCss:n}}var l1=/([A-Z])/g,u1=/^ms-/,c1=er(e=>e.startsWith("--")?e:e.replace(l1,"-$1").replace(u1,"-ms-").toLowerCase()),d1="cm,mm,Q,in,pc,pt,px,em,ex,ch,rem,lh,rlh,vw,vh,vmin,vmax,vb,vi,svw,svh,lvw,lvh,dvw,dvh,cqw,cqh,cqi,cqb,cqmin,cqmax,%";`${d1.split(",").join("|")}`;const f1="_hover,_focus,_focusWithin,_focusVisible,_disabled,_active,_visited,_target,_readOnly,_readWrite,_empty,_checked,_enabled,_expanded,_highlighted,_complete,_incomplete,_dragging,_before,_after,_firstLetter,_firstLine,_marker,_selection,_file,_backdrop,_first,_last,_only,_even,_odd,_firstOfType,_lastOfType,_onlyOfType,_peerFocus,_peerHover,_peerActive,_peerFocusWithin,_peerFocusVisible,_peerDisabled,_peerChecked,_peerInvalid,_peerExpanded,_peerPlaceholderShown,_groupFocus,_groupHover,_groupActive,_groupFocusWithin,_groupFocusVisible,_groupDisabled,_groupChecked,_groupExpanded,_groupInvalid,_indeterminate,_required,_valid,_invalid,_autofill,_inRange,_outOfRange,_placeholder,_placeholderShown,_pressed,_selected,_grabbed,_underValue,_overValue,_atValue,_default,_optional,_open,_closed,_fullscreen,_loading,_hidden,_current,_currentPage,_currentStep,_today,_unavailable,_rangeStart,_rangeEnd,_now,_topmost,_motionReduce,_motionSafe,_print,_landscape,_portrait,_dark,_light,_osDark,_osLight,_highContrast,_lessContrast,_moreContrast,_ltr,_rtl,_scrollbar,_scrollbarThumb,_scrollbarTrack,_horizontal,_vertical,_icon,_starting,sm,smOnly,smDown,md,mdOnly,mdDown,lg,lgOnly,lgDown,xl,xlOnly,xlDown,2xl,2xlOnly,2xlDown,smToMd,smToLg,smToXl,smTo2xl,mdToLg,mdToXl,mdTo2xl,lgToXl,lgTo2xl,xlTo2xl,@/xs,@/sm,@/md,@/lg,@/xl,@/2xl,@/3xl,@/4xl,@/5xl,@/6xl,@/7xl,@/8xl,base",Gs=new Set(f1.split(",")),p1=/^@|&|&$/;function fn(e){return Gs.has(e)||p1.test(e)}const h1=/^_/,g1=/&|@/;function m1(e){return e.map(t=>Gs.has(t)?t.replace(h1,""):g1.test(t)?`[${zs(t.trim())}]`:t)}function y1(e){return e.sort((t,r)=>{const n=fn(t),a=fn(r);return n&&!a?1:!n&&a?-1:0})}const b1="aspectRatio:asp,boxDecorationBreak:bx-db,zIndex:z,boxSizing:bx-s,objectPosition:obj-p,objectFit:obj-f,overscrollBehavior:ovs-b,overscrollBehaviorX:ovs-bx,overscrollBehaviorY:ovs-by,position:pos/1,top:top,left:left,inset:inset,insetInline:inset-x/insetX,insetBlock:inset-y/insetY,insetBlockEnd:inset-be,insetBlockStart:inset-bs,insetInlineEnd:inset-e/insetEnd/end,insetInlineStart:inset-s/insetStart/start,right:right,bottom:bottom,float:float,visibility:vis,display:d,hideFrom:hide,hideBelow:show,flexBasis:flex-b,flex:flex,flexDirection:flex-d/flexDir,flexGrow:flex-g,flexShrink:flex-sh,gridTemplateColumns:grid-tc,gridTemplateRows:grid-tr,gridColumn:grid-c,gridRow:grid-r,gridColumnStart:grid-cs,gridColumnEnd:grid-ce,gridAutoFlow:grid-af,gridAutoColumns:grid-ac,gridAutoRows:grid-ar,gap:gap,gridGap:grid-g,gridRowGap:grid-rg,gridColumnGap:grid-cg,rowGap:rg,columnGap:cg,justifyContent:jc,alignContent:ac,alignItems:ai,alignSelf:as,padding:p/1,paddingLeft:pl/1,paddingRight:pr/1,paddingTop:pt/1,paddingBottom:pb/1,paddingBlock:py/1/paddingY,paddingBlockEnd:pbe,paddingBlockStart:pbs,paddingInline:px/paddingX/1,paddingInlineEnd:pe/1/paddingEnd,paddingInlineStart:ps/1/paddingStart,marginLeft:ml/1,marginRight:mr/1,marginTop:mt/1,marginBottom:mb/1,margin:m/1,marginBlock:my/1/marginY,marginBlockEnd:mbe,marginBlockStart:mbs,marginInline:mx/1/marginX,marginInlineEnd:me/1/marginEnd,marginInlineStart:ms/1/marginStart,spaceX:sx,spaceY:sy,outlineWidth:ring-w/ringWidth,outlineColor:ring-c/ringColor,outline:ring/1,outlineOffset:ring-o/ringOffset,divideX:dvd-x,divideY:dvd-y,divideColor:dvd-c,divideStyle:dvd-s,width:w/1,inlineSize:w-is,minWidth:min-w/minW,minInlineSize:min-w-is,maxWidth:max-w/maxW,maxInlineSize:max-w-is,height:h/1,blockSize:h-bs,minHeight:min-h/minH,minBlockSize:min-h-bs,maxHeight:max-h/maxH,maxBlockSize:max-b,color:c,fontFamily:ff,fontSize:fs,fontSizeAdjust:fs-a,fontPalette:fp,fontKerning:fk,fontFeatureSettings:ff-s,fontWeight:fw,fontSmoothing:fsmt,fontVariant:fv,fontVariantAlternates:fv-alt,fontVariantCaps:fv-caps,fontVariationSettings:fv-s,fontVariantNumeric:fv-num,letterSpacing:ls,lineHeight:lh,textAlign:ta,textDecoration:td,textDecorationColor:td-c,textEmphasisColor:te-c,textDecorationStyle:td-s,textDecorationThickness:td-t,textUnderlineOffset:tu-o,textTransform:tt,textIndent:ti,textShadow:tsh,textShadowColor:tsh-c/textShadowColor,textOverflow:tov,verticalAlign:va,wordBreak:wb,textWrap:tw,truncate:trunc,lineClamp:lc,listStyleType:li-t,listStylePosition:li-pos,listStyleImage:li-img,listStyle:li-s,backgroundPosition:bg-p/bgPosition,backgroundPositionX:bg-p-x/bgPositionX,backgroundPositionY:bg-p-y/bgPositionY,backgroundAttachment:bg-a/bgAttachment,backgroundClip:bg-cp/bgClip,background:bg/1,backgroundColor:bg-c/bgColor,backgroundOrigin:bg-o/bgOrigin,backgroundImage:bg-i/bgImage,backgroundRepeat:bg-r/bgRepeat,backgroundBlendMode:bg-bm/bgBlendMode,backgroundSize:bg-s/bgSize,backgroundGradient:bg-grad/bgGradient,textGradient:txt-grad,gradientFromPosition:grad-from-pos,gradientToPosition:grad-to-pos,gradientFrom:grad-from,gradientTo:grad-to,gradientVia:grad-via,gradientViaPosition:grad-via-pos,borderRadius:bdr/rounded,borderTopLeftRadius:bdr-tl/roundedTopLeft,borderTopRightRadius:bdr-tr/roundedTopRight,borderBottomRightRadius:bdr-br/roundedBottomRight,borderBottomLeftRadius:bdr-bl/roundedBottomLeft,borderTopRadius:bdr-t/roundedTop,borderRightRadius:bdr-r/roundedRight,borderBottomRadius:bdr-b/roundedBottom,borderLeftRadius:bdr-l/roundedLeft,borderStartStartRadius:bdr-ss/roundedStartStart,borderStartEndRadius:bdr-se/roundedStartEnd,borderStartRadius:bdr-s/roundedStart,borderEndStartRadius:bdr-es/roundedEndStart,borderEndEndRadius:bdr-ee/roundedEndEnd,borderEndRadius:bdr-e/roundedEnd,border:bd,borderWidth:bd-w,borderTopWidth:bd-t-w,borderLeftWidth:bd-l-w,borderRightWidth:bd-r-w,borderBottomWidth:bd-b-w,borderBlockStartWidth:bd-bs-w,borderBlockEndWidth:bd-be-w,borderColor:bd-c,borderInline:bd-x/borderX,borderInlineWidth:bd-x-w/borderXWidth,borderInlineColor:bd-x-c/borderXColor,borderBlock:bd-y/borderY,borderBlockWidth:bd-y-w/borderYWidth,borderBlockColor:bd-y-c/borderYColor,borderLeft:bd-l,borderLeftColor:bd-l-c,borderInlineStart:bd-s/borderStart,borderInlineStartWidth:bd-s-w/borderStartWidth,borderInlineStartColor:bd-s-c/borderStartColor,borderRight:bd-r,borderRightColor:bd-r-c,borderInlineEnd:bd-e/borderEnd,borderInlineEndWidth:bd-e-w/borderEndWidth,borderInlineEndColor:bd-e-c/borderEndColor,borderTop:bd-t,borderTopColor:bd-t-c,borderBottom:bd-b,borderBottomColor:bd-b-c,borderBlockEnd:bd-be,borderBlockEndColor:bd-be-c,borderBlockStart:bd-bs,borderBlockStartColor:bd-bs-c,opacity:op,boxShadow:bx-sh/shadow,boxShadowColor:bx-sh-c/shadowColor,mixBlendMode:mix-bm,filter:filter,brightness:brightness,contrast:contrast,grayscale:grayscale,hueRotate:hue-rotate,invert:invert,saturate:saturate,sepia:sepia,dropShadow:drop-shadow,blur:blur,backdropFilter:bkdp,backdropBlur:bkdp-blur,backdropBrightness:bkdp-brightness,backdropContrast:bkdp-contrast,backdropGrayscale:bkdp-grayscale,backdropHueRotate:bkdp-hue-rotate,backdropInvert:bkdp-invert,backdropOpacity:bkdp-opacity,backdropSaturate:bkdp-saturate,backdropSepia:bkdp-sepia,borderCollapse:bd-cl,borderSpacing:bd-sp,borderSpacingX:bd-sx,borderSpacingY:bd-sy,tableLayout:tbl,transitionTimingFunction:trs-tmf,transitionDelay:trs-dly,transitionDuration:trs-dur,transitionProperty:trs-prop,transition:trs,animation:anim,animationName:anim-n,animationTimingFunction:anim-tmf,animationDuration:anim-dur,animationDelay:anim-dly,animationPlayState:anim-ps,animationComposition:anim-comp,animationFillMode:anim-fm,animationDirection:anim-dir,animationIterationCount:anim-ic,animationRange:anim-r,animationState:anim-s,animationRangeStart:anim-rs,animationRangeEnd:anim-re,animationTimeline:anim-tl,transformOrigin:trf-o,transformBox:trf-b,transformStyle:trf-s,transform:trf,rotate:rotate,rotateX:rotate-x,rotateY:rotate-y,rotateZ:rotate-z,scale:scale,scaleX:scale-x,scaleY:scale-y,translate:translate,translateX:translate-x/x,translateY:translate-y/y,translateZ:translate-z/z,accentColor:ac-c,caretColor:ca-c,scrollBehavior:scr-bhv,scrollbar:scr-bar,scrollbarColor:scr-bar-c,scrollbarGutter:scr-bar-g,scrollbarWidth:scr-bar-w,scrollMargin:scr-m,scrollMarginLeft:scr-ml,scrollMarginRight:scr-mr,scrollMarginTop:scr-mt,scrollMarginBottom:scr-mb,scrollMarginBlock:scr-my/scrollMarginY,scrollMarginBlockEnd:scr-mbe,scrollMarginBlockStart:scr-mbt,scrollMarginInline:scr-mx/scrollMarginX,scrollMarginInlineEnd:scr-me,scrollMarginInlineStart:scr-ms,scrollPadding:scr-p,scrollPaddingBlock:scr-py/scrollPaddingY,scrollPaddingBlockStart:scr-pbs,scrollPaddingBlockEnd:scr-pbe,scrollPaddingInline:scr-px/scrollPaddingX,scrollPaddingInlineEnd:scr-pe,scrollPaddingInlineStart:scr-ps,scrollPaddingLeft:scr-pl,scrollPaddingRight:scr-pr,scrollPaddingTop:scr-pt,scrollPaddingBottom:scr-pb,scrollSnapAlign:scr-sa,scrollSnapStop:scrs-s,scrollSnapType:scrs-t,scrollSnapStrictness:scrs-strt,scrollSnapMargin:scrs-m,scrollSnapMarginTop:scrs-mt,scrollSnapMarginBottom:scrs-mb,scrollSnapMarginLeft:scrs-ml,scrollSnapMarginRight:scrs-mr,scrollSnapCoordinate:scrs-c,scrollSnapDestination:scrs-d,scrollSnapPointsX:scrs-px,scrollSnapPointsY:scrs-py,scrollSnapTypeX:scrs-tx,scrollSnapTypeY:scrs-ty,scrollTimeline:scrtl,scrollTimelineAxis:scrtl-a,scrollTimelineName:scrtl-n,touchAction:tch-a,userSelect:us,overflow:ov,overflowWrap:ov-wrap,overflowX:ov-x,overflowY:ov-y,overflowAnchor:ov-a,overflowBlock:ov-b,overflowInline:ov-i,overflowClipBox:ovcp-bx,overflowClipMargin:ovcp-m,overscrollBehaviorBlock:ovs-bb,overscrollBehaviorInline:ovs-bi,fill:fill,stroke:stk,strokeWidth:stk-w,strokeDasharray:stk-dsh,strokeDashoffset:stk-do,strokeLinecap:stk-lc,strokeLinejoin:stk-lj,strokeMiterlimit:stk-ml,strokeOpacity:stk-op,srOnly:sr,debug:debug,appearance:ap,backfaceVisibility:bfv,clipPath:cp-path,hyphens:hy,mask:msk,maskImage:msk-i,maskSize:msk-s,textSizeAdjust:txt-adj,container:cq,containerName:cq-n,containerType:cq-t,cursor:cursor,textStyle:textStyle",Vs=new Map,Hs=new Map;b1.split(",").forEach(e=>{const[t,r]=e.split(":"),[n,...a]=r.split("/");Vs.set(t,n),a.length&&a.forEach(s=>{Hs.set(s==="1"?n:s,t)})});const pn=e=>Hs.get(e)||e,Ys={conditions:{shift:y1,finalize:m1,breakpoints:{keys:["base","sm","md","lg","xl","2xl"]}},utility:{transform:(e,t)=>{const r=pn(e);return{className:`${Vs.get(r)||c1(r)}_${zs(t)}`}},hasShorthand:!0,toHash:(e,t)=>t(e.join(":")),resolveShorthand:pn}},v1=s1(Ys),te=(...e)=>v1(Ws(...e));te.raw=(...e)=>Ws(...e);const{mergeCss:Ws,assignCss:O1}=o1(Ys),pe={searchBarRow:te({display:"flex !important",flexWrap:"wrap",alignItems:"center",gap:"1rem",paddingBlock:"0.5rem",minBlockSize:"3rem"}),facets:te({flex:"0 0 auto"}),search:te({flex:"1 1 auto",minInlineSize:"15rem"}),import:te({flex:"0 0 auto"}),visuallyHidden:te({srOnly:!0})},S1=({appId:e="search"})=>{const{showFacets:t,showImportModal:r}=tt().config;return o.default.createElement(S.default,{id:`${e}.SearchBarRow`},o.default.createElement("section",{className:pe.searchBarRow,"aria-label":"Records search and filters"},t&&o.default.createElement("div",{className:pe.facets},o.default.createElement(Us,null)),o.default.createElement("div",{className:pe.search},o.default.createElement(Jb,{autofocus:!0,actionProps:{icon:"search",content:"Search",className:"search","aria-label":"Submit search",type:"submit"},placeholder:"Search","aria-describedby":"search-instructions"}),o.default.createElement("span",{className:pe.visuallyHidden},"Type keywords to search through records. Press Enter to submit.")),r&&o.default.createElement("div",{className:pe.import},o.default.createElement(Ns,null))))},E1=()=>{const{config:e}=tt();return o.default.createElement(d.Grid,null,o.default.createElement(d.Grid.Row,{verticalAlign:"middle"},o.default.createElement(d.Grid.Column,{width:4,textAlign:"left"},o.default.createElement(Fb,{label:t=>o.default.createElement("div",null,t," item(s)")})),o.default.createElement(d.Grid.Column,{width:8,textAlign:"center"},o.default.createElement(Ub,{options:{size:"mini"}})),o.default.createElement(d.Grid.Column,{width:4,textAlign:"right"},o.default.createElement(Kb,{values:e.paginationOptions.resultsPerPage,label:t=>o.default.createElement("p",null,t," results per page")}))))},tr=({config:e={},overriddenComponents:t={}})=>{var s,i,l,u,c;const r={...G,...e,initialQueryState:{...G.initialQueryState,...e.initialQueryState},layoutOptions:{...G.layoutOptions,...e.layoutOptions},paginationOptions:{...G.paginationOptions,...e.paginationOptions,resultsPerPage:((s=e.paginationOptions)==null?void 0:s.resultsPerPage)||G.paginationOptions.resultsPerPage},searchApi:{...G.searchApi,...e.searchApi,axios:{...G.searchApi.axios,...(i=e.searchApi)==null?void 0:i.axios,headers:{...G.searchApi.axios.headers,...(u=(l=e.searchApi)==null?void 0:l.axios)==null?void 0:u.headers}},invenio:{...G.searchApi.invenio,...(c=e.searchApi)==null?void 0:c.invenio}},showFacets:e.showFacets??!0,showImportModal:e.showImportModal??!0,showSearchFooter:e.showSearchFooter??!0},n=new Vn(r.searchApi),a={[`${r.appId}.ResultsList.item`]:Ev,[`${r.appId}.ResultsList.container`]:_v,[`${r.appId}.SearchFacets`]:Us,...t};return o.default.createElement(hn.OverridableContext.Provider,{value:a},o.default.createElement(gb,{appName:r.appId,searchApi:n,initialQueryState:r.initialQueryState},o.default.createElement(uv,{config:r},o.default.createElement(S1,{appId:r.appId}),o.default.createElement(Vb,null,o.default.createElement(Pb,null),o.default.createElement(Aa,null)),r.showSearchFooter&&o.default.createElement(E1,null))))},_1=({status:e,children:t,...r})=>e==="damaged"||e==="imported with failures"||e==="validated with failures"||e==="serializer validation failed"||e==="validation failed"||e==="import failed"?o.default.createElement(d.Label,{color:"red",...r},o.default.createElement(d.Icon,{name:"warning sign"}),t):e==="success"||e==="validated"||e==="created"?o.default.createElement(d.Label,{color:"green",...r},o.default.createElement(d.Icon,{name:"check circle"}),t):e==="importing"||e==="validating"?o.default.createElement(d.Label,{color:"blue",...r},o.default.createElement(d.Icon,{name:"spinner",loading:!0}),t):o.default.createElement(d.Label,{...r},t),Ks=y.createContext(void 0),$1=({taskId:e,children:t})=>o.default.createElement(Ks.Provider,{value:{taskId:e}},o.default.createElement("div",{style:{paddingBlockStart:"1rem",display:"flex",flexDirection:"column",gap:"1rem"}},t)),C1=()=>{const e=y.useContext(Ks);if(!e)throw new Error("useTaskDetails must be used within a TaskDetailsProvider");return e},x1=({children:e})=>o.default.createElement(d.Table,{padded:!0,size:"small",comp:!0},o.default.createElement(d.TableHeader,null,o.default.createElement(d.TableRow,null,o.default.createElement(d.TableHeaderCell,null,"ID"),o.default.createElement(d.TableHeaderCell,null,"Title"),o.default.createElement(d.TableHeaderCell,null,"Status"),o.default.createElement(d.TableHeaderCell,null))),o.default.createElement(d.TableBody,null,e)),w1=({openModal:e,setOpenModal:t,result:r})=>o.default.createElement(d.Modal,{open:e,onClose:()=>t(!1),closeIcon:!0},o.default.createElement(d.Modal.Header,null,"Record Errors"),o.default.createElement(d.Modal.Content,null,r.errors&&r.errors.length>0?o.default.createElement(d.Message,{negative:!0,icon:!0},o.default.createElement(d.Icon,{name:"exclamation triangle"}),o.default.createElement(d.Message.Content,null,o.default.createElement(d.Message.Header,null,"Serializer validation failed"),o.default.createElement(d.List,{bulleted:!0},r.errors.map(n=>o.default.createElement(d.List.Item,{key:`${n.type}-${r.id}`},n.msg))))):o.default.createElement(d.Message,{positive:!0,icon:!0},o.default.createElement(d.Icon,{name:"check circle"}),o.default.createElement(d.Message.Content,null,o.default.createElement(d.Message.Header,null,"Validation successful"),"No errors found for this record."))),o.default.createElement(d.Modal.Actions,null,o.default.createElement(d.Button,{onClick:()=>t(!1),content:"Close",primary:!0}))),Xs=({result:e,index:t})=>{var p;const[r,n]=y.useState("idle"),[a,s]=y.useState(!1);if(!e)return null;const i=async()=>{try{n("copying"),await navigator.clipboard.writeText(e.id),n("copied"),setTimeout(()=>{n("idle")},2e3)}catch{n("idle")}},l=e.errors&&e.errors.length>0,u=Wa(e.status),c=h=>{if(h==="red")return"times";if(h==="green")return"check"},f=[...l?[{key:"view-errors",text:"View Errors",value:"view-errors",icon:"exclamation triangle",onClick:()=>s(!0)}]:[],{key:"details",text:"View Details",value:"details",icon:"eye",disabled:!0,onClick:()=>{console.log("View details for:",e.id)}}];return o.default.createElement(d.TableRow,{key:t},o.default.createElement(d.TableCell,null,o.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},o.default.createElement("code",{style:{fontSize:"0.9em",color:"#666"}},e.id.length>20?`${e.id.substring(0,20)}`:e.id),o.default.createElement(d.Popup,{content:r==="copied"?"Copied!":"Copy ID",trigger:o.default.createElement(d.Button,{size:"mini",circular:!0,icon:!0,loading:r==="copying",onClick:i,color:r==="copied"?"green":void 0},o.default.createElement(d.Icon,{name:r==="copied"?"check":"copy"})),position:"top center",size:"mini"}))),o.default.createElement(d.TableCell,null,o.default.createElement("div",{style:{maxWidth:"300px"}},((p=e.src_data)==null?void 0:p.title)||o.default.createElement("em",{style:{color:"#999"}},"No Title Available"))),o.default.createElement(d.TableCell,null,o.default.createElement(d.Label,{color:u,size:"small"},o.default.createElement(d.Icon,{name:c(u)||"circle notched"}),me(e.status)),l&&o.default.createElement(d.Popup,{content:`${e.errors.length} error${e.errors.length>1?"s":""} found`,trigger:o.default.createElement(d.Icon,{name:"exclamation triangle",color:"red",style:{marginLeft:"0.5rem",cursor:"help"}}),position:"top center",size:"mini"})),o.default.createElement(d.TableCell,{textAlign:"right"},o.default.createElement(d.Dropdown,{button:!0,className:"icon",floating:!0,labeled:!0,icon:"ellipsis horizontal",text:"Actions",size:"mini"},o.default.createElement(d.Dropdown.Menu,null,f.map(h=>o.default.createElement(d.Dropdown.Item,{key:h.key,icon:h.icon,text:h.text,disabled:h.disabled,onClick:h.onClick})))),o.default.createElement(w1,{setOpenModal:s,openModal:a,result:e})))},T1=()=>{const{taskId:e}=C1(),t={"search.SearchBarRow":()=>null,"search.ResultsList.container":x1,"search.ResultsList.item":Xs};return o.default.createElement("div",null,o.default.createElement(d.Header,{as:"h3"},"Task Records"),o.default.createElement(tr,{config:{searchApi:{axios:{url:"/api/importer-records",withCredentials:!0}},initialQueryState:{hiddenParams:[["q",`task.id:${e}`]]},showFacets:!1,showImportModal:!1},overriddenComponents:t}))},Zs=({taskId:e})=>{var g,_,T,F,B,w;const[t,r]=y.useState(null),[n,a]=y.useState(!0),[s,i]=y.useState(null),{getStatus:l,isGettingStatus:u}=Za(e,{onStatusChangeSuccess:r}),c=y.useCallback(async()=>{try{a(!0),i(null);const k=await bv(e);if(!k)throw new Error("Task not found");r(k)}catch(k){console.error("Error fetching task details:",k),i(k instanceof Error?k.message:"Failed to fetch task details")}finally{a(!1)}},[e]);if(y.useEffect(()=>{e&&c()},[e,c]),n||u)return o.default.createElement(d.Segment,null,o.default.createElement(d.Loader,{content:"Loading task details..."}));if(s)return o.default.createElement(d.Message,{negative:!0,icon:!0},o.default.createElement(d.Icon,{name:"exclamation triangle"}),o.default.createElement(d.Message.Content,null,o.default.createElement(d.Message.Header,null,"Error Loading Task"),s));if(!t)return o.default.createElement(d.Message,{warning:!0,icon:!0},o.default.createElement(d.Icon,{name:"search"}),o.default.createElement(d.Message.Content,null,o.default.createElement(d.Message.Header,null,"Task Not Found"),"The requested task could not be found."));const f=((g=t.records_status)==null?void 0:g.total_records)||0,p=((_=t.records_status)==null?void 0:_.validated)||0,h=((T=t.records_status)==null?void 0:T.success)||0,m=(((F=t.records_status)==null?void 0:F["import failed"])||0)+(((B=t.records_status)==null?void 0:B["validation failed"])||0)+(((w=t.records_status)==null?void 0:w["serializer validation failed"])||0),v=f>0?p/f*100:0,b=f>0?h/f*100:0,E=f>0?m/f*100:0;return o.default.createElement($1,{taskId:e},o.default.createElement(d.Segment.Group,{compact:!0},o.default.createElement(d.Segment,null,o.default.createElement(d.Grid,null,o.default.createElement(d.Grid.Row,{verticalAlign:"middle"},o.default.createElement(d.Grid.Column,{width:8,verticalAlign:"middle"},o.default.createElement(d.Header,{as:"h2"},o.default.createElement(d.Icon,{name:"tasks",size:"huge"}),o.default.createElement(d.Header.Content,null,t.title,t.description&&o.default.createElement(d.Header.Subheader,null,t.description)))),o.default.createElement(d.Grid.Column,{width:8,textAlign:"right"},o.default.createElement(d.Segment,{basic:!0,size:"small",horizontal:!0},t.status&&o.default.createElement(_1,{size:"large",status:t.status},me(t.status)),o.default.createElement(d.Button.Group,{size:"small"},o.default.createElement(d.Button,{color:"blue",icon:"refresh",content:"Check Status",onClick:()=>l(),loading:n}),o.default.createElement(d.Button,{disabled:!0,color:"green",icon:"play",content:"Run Task"}))))))),f>0&&o.default.createElement(d.Segment,null,o.default.createElement(d.Header,{as:"h4"},o.default.createElement(d.Icon,{name:"chart bar"}),"Progress Overview"),o.default.createElement(d.Statistic.Group,{widths:"three",size:"small"},o.default.createElement(d.Statistic,{color:"blue"},o.default.createElement(d.Statistic.Value,null,p),o.default.createElement(d.Statistic.Label,null,"Validated")),o.default.createElement(d.Statistic,{color:"red"},o.default.createElement(d.Statistic.Value,null,m),o.default.createElement(d.Statistic.Label,null,"With Errors")),o.default.createElement(d.Statistic,{color:"green"},o.default.createElement(d.Statistic.Value,null,h),o.default.createElement(d.Statistic.Label,null,"Imported"))),o.default.createElement(d.Divider,null),o.default.createElement(d.Grid,{columns:3,divided:!0},o.default.createElement(d.Grid.Column,null,o.default.createElement("div",{style:{textAlign:"center",marginBottom:"0.5rem"}},o.default.createElement("strong",null,"Validation Progress")),o.default.createElement(d.Progress,{percent:v,color:"blue",size:"small"},p," / ",f)),o.default.createElement(d.Grid.Column,null,o.default.createElement("div",{style:{textAlign:"center",marginBottom:"0.5rem"}},o.default.createElement("strong",null,"Error Records")),o.default.createElement(d.Progress,{percent:E,color:"red",size:"small"},m," / ",f)),o.default.createElement(d.Grid.Column,null,o.default.createElement("div",{style:{textAlign:"center",marginBottom:"0.5rem"}},o.default.createElement("strong",null,"Import Progress")),o.default.createElement(d.Progress,{percent:b,color:"green",size:"small"},h," / ",f))))),o.default.createElement(T1,null))},I1={Search:tr,TaskDetails:Zs},A1={CREATED:"created",VALIDATING:"validating",SERIALIZER_VALIDATION_FAILED:"serializer validation failed",VALIDATION_FAILED:"validation failed",VALIDATED:"validated",IMPORT_FAILED:"import failed",IMPORTED:"success"},F1={CREATED:"created",VALIDATING:"validating",VALIDATION_FAILED:"validated with failures",VALIDATED:"validated",IMPORTING:"importing",IMPORT_FAILED:"imported with failures",SUCCESS:"success",DAMAGED:"damaged"};exports.BulkImporter=I1;exports.ImportModal=Ns;exports.ImporterTaskStates=F1;exports.InvenioImporterRecordStatus=A1;exports.Search=tr;exports.TaskDetails=Zs;exports.TaskRecordItem=Xs;exports.capitalizeFirstLetter=me;exports.createSearchApi=fv;exports.createSearchApiConfig=pv;exports.formatDate=Va;exports.getCsrfToken=Ya;exports.getStatusColor=Wa;
