"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const g=require("react"),Un=require("react-overridable"),Oi=require("axios"),ki=require("qs"),A=require("react-redux"),u=require("semantic-ui-react"),Ct=require("redux"),Ri=require("redux-thunk"),Pi=require("lodash"),ne=require("react-invenio-forms"),Di=require("formik"),le=e=>e&&e.__esModule?e:{default:e},i=le(g),S=le(Un),Ne=le(Oi),ue=le(ki),Li=le(Ri),Bi=le(Pi);var ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ni=Object.prototype;function Ui(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ni;return e===r}var Xe=Ui;function Mi(e,t){return function(r){return e(t(r))}}var Mn=Mi,zi=Mn,ji=zi(Object.keys,Object),Qi=ji,qi=Xe,Gi=Qi,Vi=Object.prototype,Hi=Vi.hasOwnProperty;function Yi(e){if(!qi(e))return Gi(e);var t=[];for(var r in Object(e))Hi.call(e,r)&&r!="constructor"&&t.push(r);return t}var zn=Yi,Wi=typeof ke=="object"&&ke&&ke.Object===Object&&ke,jn=Wi,Ki=jn,Xi=typeof self=="object"&&self&&self.Object===Object&&self,Zi=Ki||Xi||Function("return this")(),Q=Zi,Ji=Q,eo=Ji.Symbol,ce=eo,$r=ce,Qn=Object.prototype,to=Qn.hasOwnProperty,ro=Qn.toString,ge=$r?$r.toStringTag:void 0;function no(e){var t=to.call(e,ge),r=e[ge];try{e[ge]=void 0;var n=!0}catch{}var a=ro.call(e);return n&&(t?e[ge]=r:delete e[ge]),a}var ao=no,so=Object.prototype,io=so.toString;function oo(e){return io.call(e)}var lo=oo,xr=ce,uo=ao,co=lo,fo="[object Null]",po="[object Undefined]",wr=xr?xr.toStringTag:void 0;function ho(e){return e==null?e===void 0?po:fo:wr&&wr in Object(e)?uo(e):co(e)}var K=ho;function mo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var H=mo;const go=O(H);var yo=K,bo=H,vo="[object AsyncFunction]",Eo="[object Function]",So="[object GeneratorFunction]",_o="[object Proxy]";function Co(e){if(!bo(e))return!1;var t=yo(e);return t==Eo||t==So||t==vo||t==_o}var qn=Co,$o=Q,xo=$o["__core-js_shared__"],wo=xo,ht=wo,Tr=function(){var e=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function To(e){return!!Tr&&Tr in e}var Io=To,Fo=Function.prototype,Ao=Fo.toString;function Oo(e){if(e!=null){try{return Ao.call(e)}catch{}try{return e+""}catch{}}return""}var Gn=Oo,ko=qn,Ro=Io,Po=H,Do=Gn,Lo=/[\\^$.*+?()[\]{}|]/g,Bo=/^\[object .+?Constructor\]$/,No=Function.prototype,Uo=Object.prototype,Mo=No.toString,zo=Uo.hasOwnProperty,jo=RegExp("^"+Mo.call(zo).replace(Lo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qo(e){if(!Po(e)||Ro(e))return!1;var t=ko(e)?jo:Bo;return t.test(Do(e))}var qo=Qo;function Go(e,t){return e==null?void 0:e[t]}var Vo=Go,Ho=qo,Yo=Vo;function Wo(e,t){var r=Yo(e,t);return Ho(r)?r:void 0}var ee=Wo,Ko=ee,Xo=Q,Zo=Ko(Xo,"DataView"),Jo=Zo,el=ee,tl=Q,rl=el(tl,"Map"),zt=rl,nl=ee,al=Q,sl=nl(al,"Promise"),il=sl,ol=ee,ll=Q,ul=ol(ll,"Set"),cl=ul,dl=ee,fl=Q,pl=dl(fl,"WeakMap"),hl=pl,$t=Jo,xt=zt,wt=il,Tt=cl,It=hl,Vn=K,de=Gn,Ir="[object Map]",ml="[object Object]",Fr="[object Promise]",Ar="[object Set]",Or="[object WeakMap]",kr="[object DataView]",gl=de($t),yl=de(xt),bl=de(wt),vl=de(Tt),El=de(It),Z=Vn;($t&&Z(new $t(new ArrayBuffer(1)))!=kr||xt&&Z(new xt)!=Ir||wt&&Z(wt.resolve())!=Fr||Tt&&Z(new Tt)!=Ar||It&&Z(new It)!=Or)&&(Z=function(e){var t=Vn(e),r=t==ml?e.constructor:void 0,n=r?de(r):"";if(n)switch(n){case gl:return kr;case yl:return Ir;case bl:return Fr;case vl:return Ar;case El:return Or}return t});var $e=Z;function Sl(e){return e!=null&&typeof e=="object"}var q=Sl,_l=K,Cl=q,$l="[object Arguments]";function xl(e){return Cl(e)&&_l(e)==$l}var wl=xl,Rr=wl,Tl=q,Hn=Object.prototype,Il=Hn.hasOwnProperty,Fl=Hn.propertyIsEnumerable,Al=Rr(function(){return arguments}())?Rr:function(e){return Tl(e)&&Il.call(e,"callee")&&!Fl.call(e,"callee")},Ze=Al,Ol=Array.isArray,D=Ol;const Yn=O(D);var kl=9007199254740991;function Rl(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kl}var jt=Rl,Pl=qn,Dl=jt;function Ll(e){return e!=null&&Dl(e.length)&&!Pl(e)}var Je=Ll,ze={exports:{}};function Bl(){return!1}var Nl=Bl;ze.exports;(function(e,t){var r=Q,n=Nl,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(ze,ze.exports);var et=ze.exports,Ul=K,Ml=jt,zl=q,jl="[object Arguments]",Ql="[object Array]",ql="[object Boolean]",Gl="[object Date]",Vl="[object Error]",Hl="[object Function]",Yl="[object Map]",Wl="[object Number]",Kl="[object Object]",Xl="[object RegExp]",Zl="[object Set]",Jl="[object String]",eu="[object WeakMap]",tu="[object ArrayBuffer]",ru="[object DataView]",nu="[object Float32Array]",au="[object Float64Array]",su="[object Int8Array]",iu="[object Int16Array]",ou="[object Int32Array]",lu="[object Uint8Array]",uu="[object Uint8ClampedArray]",cu="[object Uint16Array]",du="[object Uint32Array]",w={};w[nu]=w[au]=w[su]=w[iu]=w[ou]=w[lu]=w[uu]=w[cu]=w[du]=!0;w[jl]=w[Ql]=w[tu]=w[ql]=w[ru]=w[Gl]=w[Vl]=w[Hl]=w[Yl]=w[Wl]=w[Kl]=w[Xl]=w[Zl]=w[Jl]=w[eu]=!1;function fu(e){return zl(e)&&Ml(e.length)&&!!w[Ul(e)]}var pu=fu;function hu(e){return function(t){return e(t)}}var Qt=hu,je={exports:{}};je.exports;(function(e,t){var r=jn,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(je,je.exports);var qt=je.exports,mu=pu,gu=Qt,Pr=qt,Dr=Pr&&Pr.isTypedArray,yu=Dr?gu(Dr):mu,Gt=yu,bu=zn,vu=$e,Eu=Ze,Su=D,_u=Je,Cu=et,$u=Xe,xu=Gt,wu="[object Map]",Tu="[object Set]",Iu=Object.prototype,Fu=Iu.hasOwnProperty;function Au(e){if(e==null)return!0;if(_u(e)&&(Su(e)||typeof e=="string"||typeof e.splice=="function"||Cu(e)||xu(e)||Eu(e)))return!e.length;var t=vu(e);if(t==wu||t==Tu)return!e.size;if($u(e))return!bu(e).length;for(var r in e)if(Fu.call(e,r))return!1;return!0}var Ou=Au;const G=O(Ou);var ku=K,Ru=q,Pu="[object Symbol]";function Du(e){return typeof e=="symbol"||Ru(e)&&ku(e)==Pu}var Vt=Du,Lu=D,Bu=Vt,Nu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uu=/^\w*$/;function Mu(e,t){if(Lu(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Bu(e)?!0:Uu.test(e)||!Nu.test(e)||t!=null&&e in Object(t)}var Ht=Mu,zu=ee,ju=zu(Object,"create"),tt=ju,Lr=tt;function Qu(){this.__data__=Lr?Lr(null):{},this.size=0}var qu=Qu;function Gu(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vu=Gu,Hu=tt,Yu="__lodash_hash_undefined__",Wu=Object.prototype,Ku=Wu.hasOwnProperty;function Xu(e){var t=this.__data__;if(Hu){var r=t[e];return r===Yu?void 0:r}return Ku.call(t,e)?t[e]:void 0}var Zu=Xu,Ju=tt,ec=Object.prototype,tc=ec.hasOwnProperty;function rc(e){var t=this.__data__;return Ju?t[e]!==void 0:tc.call(t,e)}var nc=rc,ac=tt,sc="__lodash_hash_undefined__";function ic(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ac&&t===void 0?sc:t,this}var oc=ic,lc=qu,uc=Vu,cc=Zu,dc=nc,fc=oc;function fe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fe.prototype.clear=lc;fe.prototype.delete=uc;fe.prototype.get=cc;fe.prototype.has=dc;fe.prototype.set=fc;var pc=fe;function hc(){this.__data__=[],this.size=0}var mc=hc;function gc(e,t){return e===t||e!==e&&t!==t}var rt=gc,yc=rt;function bc(e,t){for(var r=e.length;r--;)if(yc(e[r][0],t))return r;return-1}var nt=bc,vc=nt,Ec=Array.prototype,Sc=Ec.splice;function _c(e){var t=this.__data__,r=vc(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Sc.call(t,r,1),--this.size,!0}var Cc=_c,$c=nt;function xc(e){var t=this.__data__,r=$c(t,e);return r<0?void 0:t[r][1]}var wc=xc,Tc=nt;function Ic(e){return Tc(this.__data__,e)>-1}var Fc=Ic,Ac=nt;function Oc(e,t){var r=this.__data__,n=Ac(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var kc=Oc,Rc=mc,Pc=Cc,Dc=wc,Lc=Fc,Bc=kc;function pe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pe.prototype.clear=Rc;pe.prototype.delete=Pc;pe.prototype.get=Dc;pe.prototype.has=Lc;pe.prototype.set=Bc;var at=pe,Br=pc,Nc=at,Uc=zt;function Mc(){this.size=0,this.__data__={hash:new Br,map:new(Uc||Nc),string:new Br}}var zc=Mc;function jc(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Qc=jc,qc=Qc;function Gc(e,t){var r=e.__data__;return qc(t)?r[typeof t=="string"?"string":"hash"]:r.map}var st=Gc,Vc=st;function Hc(e){var t=Vc(this,e).delete(e);return this.size-=t?1:0,t}var Yc=Hc,Wc=st;function Kc(e){return Wc(this,e).get(e)}var Xc=Kc,Zc=st;function Jc(e){return Zc(this,e).has(e)}var ed=Jc,td=st;function rd(e,t){var r=td(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var nd=rd,ad=zc,sd=Yc,id=Xc,od=ed,ld=nd;function he(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}he.prototype.clear=ad;he.prototype.delete=sd;he.prototype.get=id;he.prototype.has=od;he.prototype.set=ld;var Yt=he,Wn=Yt,ud="Expected a function";function Wt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ud);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(Wt.Cache||Wn),r}Wt.Cache=Wn;var cd=Wt,dd=cd,fd=500;function pd(e){var t=dd(e,function(n){return r.size===fd&&r.clear(),n}),r=t.cache;return t}var hd=pd,md=hd,gd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yd=/\\(\\)?/g,bd=md(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gd,function(r,n,a,s){t.push(a?s.replace(yd,"$1"):n||r)}),t}),vd=bd;function Ed(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Sd=Ed,Nr=ce,_d=Sd,Cd=D,$d=Vt,xd=1/0,Ur=Nr?Nr.prototype:void 0,Mr=Ur?Ur.toString:void 0;function Kn(e){if(typeof e=="string")return e;if(Cd(e))return _d(e,Kn)+"";if($d(e))return Mr?Mr.call(e):"";var t=e+"";return t=="0"&&1/e==-xd?"-0":t}var wd=Kn,Td=wd;function Id(e){return e==null?"":Td(e)}var xe=Id,Fd=D,Ad=Ht,Od=vd,kd=xe;function Rd(e,t){return Fd(e)?e:Ad(e,t)?[e]:Od(kd(e))}var it=Rd,Pd=Vt,Dd=1/0;function Ld(e){if(typeof e=="string"||Pd(e))return e;var t=e+"";return t=="0"&&1/e==-Dd?"-0":t}var we=Ld,Bd=it,Nd=we;function Ud(e,t){t=Bd(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Nd(t[r++])];return r&&r==n?e:void 0}var Kt=Ud,Md=Kt;function zd(e,t,r){var n=e==null?void 0:Md(e,t);return n===void 0?r:n}var Xn=zd;const Ee=O(Xn);function jd(e,t){return e!=null&&t in Object(e)}var Qd=jd,qd=9007199254740991,Gd=/^(?:0|[1-9]\d*)$/;function Vd(e,t){var r=typeof e;return t=t??qd,!!t&&(r=="number"||r!="symbol"&&Gd.test(e))&&e>-1&&e%1==0&&e<t}var ot=Vd,Hd=it,Yd=Ze,Wd=D,Kd=ot,Xd=jt,Zd=we;function Jd(e,t,r){t=Hd(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=Zd(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&Xd(a)&&Kd(o,a)&&(Wd(e)||Yd(e)))}var Zn=Jd,ef=Qd,tf=Zn;function rf(e,t){return e!=null&&tf(e,t,ef)}var Xt=rf;const nf=O(Xt);var af=ee,sf=function(){try{var e=af(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Jn=sf,zr=Jn;function of(e,t,r){t=="__proto__"&&zr?zr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var lt=of,lf=lt,uf=rt,cf=Object.prototype,df=cf.hasOwnProperty;function ff(e,t,r){var n=e[t];(!(df.call(e,t)&&uf(n,r))||r===void 0&&!(t in e))&&lf(e,t,r)}var Zt=ff,pf=Zt,hf=lt;function mf(e,t,r,n){var a=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var l=t[s],c=n?n(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),a?hf(r,l,c):pf(r,l,c)}return r}var Te=mf;function gf(e){return e}var Jt=gf;function yf(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var bf=yf,vf=bf,jr=Math.max;function Ef(e,t,r){return t=jr(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=jr(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),vf(e,this,l)}}var ea=Ef;function Sf(e){return function(){return e}}var _f=Sf,Cf=_f,Qr=Jn,$f=Jt,xf=Qr?function(e,t){return Qr(e,"toString",{configurable:!0,enumerable:!1,value:Cf(t),writable:!0})}:$f,wf=xf,Tf=800,If=16,Ff=Date.now;function Af(e){var t=0,r=0;return function(){var n=Ff(),a=If-(n-r);if(r=n,a>0){if(++t>=Tf)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Of=Af,kf=wf,Rf=Of,Pf=Rf(kf),ta=Pf,Df=Jt,Lf=ea,Bf=ta;function Nf(e,t){return Bf(Lf(e,t,Df),e+"")}var Uf=Nf,Mf=rt,zf=Je,jf=ot,Qf=H;function qf(e,t,r){if(!Qf(r))return!1;var n=typeof t;return(n=="number"?zf(r)&&jf(t,r.length):n=="string"&&t in r)?Mf(r[t],e):!1}var Gf=qf,Vf=Uf,Hf=Gf;function Yf(e){return Vf(function(t,r){var n=-1,a=r.length,s=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(a--,s):void 0,o&&Hf(r[0],r[1],o)&&(s=a<3?void 0:s,a=1),t=Object(t);++n<a;){var l=r[n];l&&e(t,l,n,s)}return t})}var Wf=Yf;function Kf(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Xf=Kf,Zf=Xf,Jf=Ze,ep=D,tp=et,rp=ot,np=Gt,ap=Object.prototype,sp=ap.hasOwnProperty;function ip(e,t){var r=ep(e),n=!r&&Jf(e),a=!r&&!n&&tp(e),s=!r&&!n&&!a&&np(e),o=r||n||a||s,l=o?Zf(e.length,String):[],c=l.length;for(var d in e)(t||sp.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||rp(d,c)))&&l.push(d);return l}var ra=ip;function op(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var lp=op,up=H,cp=Xe,dp=lp,fp=Object.prototype,pp=fp.hasOwnProperty;function hp(e){if(!up(e))return dp(e);var t=cp(e),r=[];for(var n in e)n=="constructor"&&(t||!pp.call(e,n))||r.push(n);return r}var mp=hp,gp=ra,yp=mp,bp=Je;function vp(e){return bp(e)?gp(e,!0):yp(e)}var ut=vp,Ep=Te,Sp=Wf,_p=ut,Cp=Sp(function(e,t){Ep(t,_p(t),e)}),$p=Cp,xp=$p;const Qe=O(xp);function wp(e){return e&&e.length?e[0]:void 0}var Tp=wp;const Ip=O(Tp);var Fp=Zt,Ap=it,Op=ot,qr=H,kp=we;function Rp(e,t,r,n){if(!qr(e))return e;t=Ap(t,e);for(var a=-1,s=t.length,o=s-1,l=e;l!=null&&++a<s;){var c=kp(t[a]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=o){var f=l[c];d=n?n(f,c,l):void 0,d===void 0&&(d=qr(f)?f:Op(t[a+1])?[]:{})}Fp(l,c,d),l=l[c]}return e}var Pp=Rp,Dp=Kt,Lp=Pp,Bp=it;function Np(e,t,r){for(var n=-1,a=t.length,s={};++n<a;){var o=t[n],l=Dp(e,o);r(l,o)&&Lp(s,Bp(o,e),l)}return s}var Up=Np,Mp=Up,zp=Xt;function jp(e,t){return Mp(e,t,function(r,n){return zp(e,n)})}var Qp=jp;function qp(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var er=qp,Gr=ce,Gp=Ze,Vp=D,Vr=Gr?Gr.isConcatSpreadable:void 0;function Hp(e){return Vp(e)||Gp(e)||!!(Vr&&e&&e[Vr])}var Yp=Hp,Wp=er,Kp=Yp;function na(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=Kp),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?na(l,t-1,r,n,a):Wp(a,l):n||(a[a.length]=l)}return a}var Xp=na,Zp=Xp;function Jp(e){var t=e==null?0:e.length;return t?Zp(e,1):[]}var eh=Jp,th=eh,rh=ea,nh=ta;function ah(e){return nh(rh(e,void 0,th),e+"")}var sh=ah,ih=Qp,oh=sh,lh=oh(function(e,t){return e==null?{}:ih(e,t)}),uh=lh;const ch=O(uh);var dh=at;function fh(){this.__data__=new dh,this.size=0}var ph=fh;function hh(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var mh=hh;function gh(e){return this.__data__.get(e)}var yh=gh;function bh(e){return this.__data__.has(e)}var vh=bh,Eh=at,Sh=zt,_h=Yt,Ch=200;function $h(e,t){var r=this.__data__;if(r instanceof Eh){var n=r.__data__;if(!Sh||n.length<Ch-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new _h(n)}return r.set(e,t),this.size=r.size,this}var xh=$h,wh=at,Th=ph,Ih=mh,Fh=yh,Ah=vh,Oh=xh;function me(e){var t=this.__data__=new wh(e);this.size=t.size}me.prototype.clear=Th;me.prototype.delete=Ih;me.prototype.get=Fh;me.prototype.has=Ah;me.prototype.set=Oh;var tr=me;function kh(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Rh=kh,Ph=ra,Dh=zn,Lh=Je;function Bh(e){return Lh(e)?Ph(e):Dh(e)}var Ie=Bh,Nh=Te,Uh=Ie;function Mh(e,t){return e&&Nh(t,Uh(t),e)}var zh=Mh,jh=Te,Qh=ut;function qh(e,t){return e&&jh(t,Qh(t),e)}var Gh=qh,qe={exports:{}};qe.exports;(function(e,t){var r=Q,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var p=d.length,h=l?l(p):new d.constructor(p);return d.copy(h),h}e.exports=c})(qe,qe.exports);var Vh=qe.exports;function Hh(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Yh=Hh;function Wh(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Kh=Wh;function Xh(){return[]}var aa=Xh,Zh=Kh,Jh=aa,em=Object.prototype,tm=em.propertyIsEnumerable,Hr=Object.getOwnPropertySymbols,rm=Hr?function(e){return e==null?[]:(e=Object(e),Zh(Hr(e),function(t){return tm.call(e,t)}))}:Jh,rr=rm,nm=Te,am=rr;function sm(e,t){return nm(e,am(e),t)}var im=sm,om=Mn,lm=om(Object.getPrototypeOf,Object),sa=lm,um=er,cm=sa,dm=rr,fm=aa,pm=Object.getOwnPropertySymbols,hm=pm?function(e){for(var t=[];e;)um(t,dm(e)),e=cm(e);return t}:fm,ia=hm,mm=Te,gm=ia;function ym(e,t){return mm(e,gm(e),t)}var bm=ym,vm=er,Em=D;function Sm(e,t,r){var n=t(e);return Em(e)?n:vm(n,r(e))}var oa=Sm,_m=oa,Cm=rr,$m=Ie;function xm(e){return _m(e,$m,Cm)}var la=xm,wm=oa,Tm=ia,Im=ut;function Fm(e){return wm(e,Im,Tm)}var Am=Fm,Om=Object.prototype,km=Om.hasOwnProperty;function Rm(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&km.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Pm=Rm,Dm=Q,Lm=Dm.Uint8Array,ua=Lm,Yr=ua;function Bm(e){var t=new e.constructor(e.byteLength);return new Yr(t).set(new Yr(e)),t}var nr=Bm,Nm=nr;function Um(e,t){var r=t?Nm(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Mm=Um,zm=/\w*$/;function jm(e){var t=new e.constructor(e.source,zm.exec(e));return t.lastIndex=e.lastIndex,t}var Qm=jm,Wr=ce,Kr=Wr?Wr.prototype:void 0,Xr=Kr?Kr.valueOf:void 0;function qm(e){return Xr?Object(Xr.call(e)):{}}var Gm=qm,Vm=nr;function Hm(e,t){var r=t?Vm(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Ym=Hm,Wm=nr,Km=Mm,Xm=Qm,Zm=Gm,Jm=Ym,eg="[object Boolean]",tg="[object Date]",rg="[object Map]",ng="[object Number]",ag="[object RegExp]",sg="[object Set]",ig="[object String]",og="[object Symbol]",lg="[object ArrayBuffer]",ug="[object DataView]",cg="[object Float32Array]",dg="[object Float64Array]",fg="[object Int8Array]",pg="[object Int16Array]",hg="[object Int32Array]",mg="[object Uint8Array]",gg="[object Uint8ClampedArray]",yg="[object Uint16Array]",bg="[object Uint32Array]";function vg(e,t,r){var n=e.constructor;switch(t){case lg:return Wm(e);case eg:case tg:return new n(+e);case ug:return Km(e,r);case cg:case dg:case fg:case pg:case hg:case mg:case gg:case yg:case bg:return Jm(e,r);case rg:return new n;case ng:case ig:return new n(e);case ag:return Xm(e);case sg:return new n;case og:return Zm(e)}}var Eg=vg,Sg=H,Zr=Object.create,_g=function(){function e(){}return function(t){if(!Sg(t))return{};if(Zr)return Zr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Cg=_g,$g=Cg,xg=sa,wg=Xe;function Tg(e){return typeof e.constructor=="function"&&!wg(e)?$g(xg(e)):{}}var Ig=Tg,Fg=$e,Ag=q,Og="[object Map]";function kg(e){return Ag(e)&&Fg(e)==Og}var Rg=kg,Pg=Rg,Dg=Qt,Jr=qt,en=Jr&&Jr.isMap,Lg=en?Dg(en):Pg,Bg=Lg,Ng=$e,Ug=q,Mg="[object Set]";function zg(e){return Ug(e)&&Ng(e)==Mg}var jg=zg,Qg=jg,qg=Qt,tn=qt,rn=tn&&tn.isSet,Gg=rn?qg(rn):Qg,Vg=Gg,Hg=tr,Yg=Rh,Wg=Zt,Kg=zh,Xg=Gh,Zg=Vh,Jg=Yh,ey=im,ty=bm,ry=la,ny=Am,ay=$e,sy=Pm,iy=Eg,oy=Ig,ly=D,uy=et,cy=Bg,dy=H,fy=Vg,py=Ie,hy=ut,my=1,gy=2,yy=4,ca="[object Arguments]",by="[object Array]",vy="[object Boolean]",Ey="[object Date]",Sy="[object Error]",da="[object Function]",_y="[object GeneratorFunction]",Cy="[object Map]",$y="[object Number]",fa="[object Object]",xy="[object RegExp]",wy="[object Set]",Ty="[object String]",Iy="[object Symbol]",Fy="[object WeakMap]",Ay="[object ArrayBuffer]",Oy="[object DataView]",ky="[object Float32Array]",Ry="[object Float64Array]",Py="[object Int8Array]",Dy="[object Int16Array]",Ly="[object Int32Array]",By="[object Uint8Array]",Ny="[object Uint8ClampedArray]",Uy="[object Uint16Array]",My="[object Uint32Array]",$={};$[ca]=$[by]=$[Ay]=$[Oy]=$[vy]=$[Ey]=$[ky]=$[Ry]=$[Py]=$[Dy]=$[Ly]=$[Cy]=$[$y]=$[fa]=$[xy]=$[wy]=$[Ty]=$[Iy]=$[By]=$[Ny]=$[Uy]=$[My]=!0;$[Sy]=$[da]=$[Fy]=!1;function Ue(e,t,r,n,a,s){var o,l=t&my,c=t&gy,d=t&yy;if(r&&(o=a?r(e,n,a,s):r(e)),o!==void 0)return o;if(!dy(e))return e;var f=ly(e);if(f){if(o=sy(e),!l)return Jg(e,o)}else{var p=ay(e),h=p==da||p==_y;if(uy(e))return Zg(e,l);if(p==fa||p==ca||h&&!a){if(o=c||h?{}:oy(e),!l)return c?ty(e,Xg(o,e)):ey(e,Kg(o,e))}else{if(!$[p])return a?e:{};o=iy(e,p,l)}}s||(s=new Hg);var m=s.get(e);if(m)return m;s.set(e,o),fy(e)?e.forEach(function(_){o.add(Ue(_,t,r,_,e,s))}):cy(e)&&e.forEach(function(_,b){o.set(b,Ue(_,t,r,b,e,s))});var v=d?c?ny:ry:c?hy:py,y=f?void 0:v(e);return Yg(y||e,function(_,b){y&&(b=_,_=e[b]),Wg(o,b,Ue(_,t,r,b,e,s))}),o}var zy=Ue,jy=zy,Qy=1,qy=4;function Gy(e){return jy(e,Qy|qy)}var Vy=Gy;const ie=O(Vy);var Hy=K,Yy=q,Wy="[object Boolean]";function Ky(e){return e===!0||e===!1||Yy(e)&&Hy(e)==Wy}var Xy=Ky;const Zy=O(Xy);var Jy=K,eb=D,tb=q,rb="[object String]";function nb(e){return typeof e=="string"||!eb(e)&&tb(e)&&Jy(e)==rb}var ab=nb;const sb=O(ab);var ib=K,ob=q,lb="[object Number]";function ub(e){return typeof e=="number"||ob(e)&&ib(e)==lb}var cb=ub;const db=O(cb);function ar(){}ar.prototype=new Error;class nn{constructor(){this._addFilter=(t,r)=>{if(!Array.isArray(t))throw new Error(`Filter value "${t}" in query state must be an array.`);if(!(t.length===2||t.length===3))throw new Error(`Filter value "${t}" in query state must be an array of 2 or 3 elements`);const n=t.length===3;var a=t[0],s=t[1];if(n){if(!Array.isArray(t[2]))throw new Error(`Filter value "${t[2]}" in query state must be an array.`);s=s+"::"+t[2][1]}a in r?r[a].push(s):r[a]=[s]},this._addFilters=t=>{if(!Array.isArray(t))throw new Error(`Filters query state "${t}" must be an array.`);const r={};return t.forEach(n=>{this._addFilter(n,r)}),r},this.serialize=this.serialize.bind(this)}serialize(t){const{queryString:r,sortBy:n,sortOrder:a,page:s,size:o,filters:l,hiddenParams:c}=t;let d={};r!==null&&(d.q=r),n!==null&&(d.sort=n,a!==null&&(d.sort=a==="desc"?`-${n}`:n)),s>0&&(d.page=s),o>0&&(d.size=o),G(c)||Qe(d,this._addFilters(c));const f=this._addFilters(l);return Qe(d,f),ue.default.stringify(d,{arrayFormat:"repeat"})}}class fb{constructor(){this.serialize=this.serialize.bind(this)}serialize(t){const{aggregations:r,hits:n,...a}=t;return{aggregations:r||{},hits:n.hits,total:n.total,extras:a}}}function Re(e,t){return e.indexOf(t)===0&&(e.length===t.length||e.indexOf(t+"&")===0)}function mt(e){return ue.default.stringify({q:e})}function pb(e){return ue.default.parse(e).q}function pa(e){if(e.length===3){const r=[e[0],e[1]],n=pa(e[2]);return n.length&&r.push(n),r}return[]}function an(e,t){const r=mt(e),n=t.map(o=>mt(o));let a=!1;const s=n.filter(o=>{const l=Re(o,r),c=Re(r,o);return l&&!a&&(a=!0),!l&&!c});if(!a)s.push(r);else if(e.length===3){const l=pa(e),c=mt(l),d=s.some(f=>{const p=Re(f,c),h=Re(c,f);return p||h});(G(s)||!d)&&s.push(c)}return s.map(o=>pb(o))}const ha=(e,t)=>{if(G(e))return;if(!Yn(Ip(e)))return an(e,t);let r=t;for(const n of e)r=an(n,r);return r},ma=(e,t,r)=>{let n=ch(t,r);return G(n.filters)||(n.filters=ha(n.filters,e.filters)),n},Ge={queryString:"",suggestions:[],sortBy:null,sortOrder:null,page:-1,size:-1,filters:[],hiddenParams:[],layout:null},ga=Object.keys(Ge),hb={loading:!1,data:{hits:[],total:0,aggregations:{}},error:{}},mb={hasUserChangedSorting:!1,initialSortBy:null,initialSortOrder:null};class gb{constructor(){this._checkFilter=t=>{if(!Array.isArray(t))throw new Error(`Filter value "${t}" in query state must be an array.`);if(!(t.length===2||t.length===3))throw new Error(`Filter value "${t}" in query state must be an array of 2 or 3 elements`)},this._addFilter=(t,r)=>{this._checkFilter(t);const n=t[0],a=t[1],s=t.length===3;s&&this._checkFilter(t[2]),n in r?s?r[n].push(a+"::"+t[2][1]):r[n].push(a):s?r[n]=[a+"::"+t[2][1]]:r[n]=[a]},this._addFilters=t=>{if(!Array.isArray(t))throw new Error(`Filters query state "${t}" must be an array.`);const r={};return t.forEach(n=>{this._addFilter(n,r)}),r},this.serialize=this.serialize.bind(this)}serialize(t){const{queryString:r,sortBy:n,sortOrder:a,page:s,size:o,filters:l,hiddenParams:c}=t;let d={};r!==null&&(d.q=r),n!==null&&(d.sort=n,a!==null&&(d.sort=a==="desc"?`-${n}`:n)),s>0&&(d.page=s),o>0&&(d.size=o),G(c)||Qe(d,this._addFilters(c));const f=this._addFilters(l);return Qe(d,f),ue.default.stringify(d,{arrayFormat:"repeat"})}}class ya{constructor(t){this.axiosConfig=Ee(t,"axios",{}),this.validateAxiosConfig(),this.initSerializers(t),this.initInterceptors(t),this.initAxios(),this.search=this.search.bind(this),this.axiosCancelToken=Ne.default.CancelToken}validateAxiosConfig(){if(!nf(this.axiosConfig,"url"))throw new Error("InvenioSearchApi config: `url` field is required.")}initInterceptors(t){this.requestInterceptor=Ee(t,"interceptors.request",void 0),this.responseInterceptor=Ee(t,"interceptors.response",void 0)}getSerializer(t){const r={InvenioRecordsResourcesRequestSerializer:gb,InvenioRequestSerializer:nn};return typeof t=="string"?r[t]:t||nn}initSerializers(t){var r;const n=this.getSerializer((r=t.invenio)===null||r===void 0?void 0:r.requestSerializer),a=Ee(t,"invenio.responseSerializer",fb);this.requestSerializer=new n,this.responseSerializer=new a}initAxios(){const t={paramsSerializer:this.requestSerializer.serialize,...this.axiosConfig};this.http=Ne.default.create(t),this.addInterceptors()}addInterceptors(){this.requestInterceptor&&this.http.interceptors.request.use(this.requestInterceptor.resolve,this.requestInterceptor.reject),this.responseInterceptor&&this.http.interceptors.request.use(this.responseInterceptor.resolve,this.responseInterceptor.reject)}async search(t){this.axiosCancel&&this.axiosCancel.cancel(),this.axiosCancel=this.axiosCancelToken.source();try{let r=await this.http.request({url:this.axiosConfig.url,params:t,cancelToken:this.axiosCancel.token});r=this.responseSerializer.serialize(r.data);const n=ma(t,r.extras,ga);return G(n)||(r.newQueryState=n),delete r.extras,r}catch(r){throw Ne.default.isCancel(r)?new ar:r}}}class yb{constructor(){this.isValid=(t,r,n)=>{switch(r){case"queryString":case"sortBy":return!0;case"sortOrder":return["asc","desc"].includes(n);case"page":case"size":return db(n)&&n>0;case"layout":return["grid","list"].includes(n);case"filters":case"hiddenParams":{const a=Yn(n)?n:[n],s=":",o=t.urlFilterSeparator,l=`[^\\${s}\\${o}]*`,c=`${l}\\${s}${l}`,d=`${c}(\\${o}${c})*`,f=new RegExp(`^${d}$`);return a.every(p=>String(p).match(f))}default:return!1}}}}const bb=e=>{window.history.pushState&&window.history.pushState({path:e},"",e)},sn=e=>{window.history.replaceState&&window.history.replaceState({path:e},"",e)};class vb{constructor(){this._convertValue=(t,r)=>{switch(t){case this.paramsMapping.page:case this.paramsMapping.size:return parseInt(r);default:return r}},this.parse=this.parse.bind(this),this.paramsMapping={}}set urlParamsMapping(t){this.paramsMapping=t}parse(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=ue.default.parse(t,{ignoreQueryPrefix:!0}),n={};return Object.entries(r).forEach(a=>{const s=a[0],o=a[1];n[s]=this._convertValue(s,o)}),n}}class Eb{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._filterListToString=r=>{const n=r.length===3?this.urlFilterSeparator.concat(this._filterListToString(r[2])):"";return`${r[0]}:${r[1]}${n}`},this._mapQueryStateToUrlParams=r=>{const n={};Object.keys(r).filter(s=>s in this.urlParamsMapping).filter(s=>(s==="page"||s==="size")&&r[s]<=0||s==="hiddenParams"?!1:r[s]!==null).forEach(s=>{const o=this.urlParamsMapping[s];s==="filters"?n[o]=r[s].map(l=>this._filterListToString(l)):n[o]=r[s]});const a=(s,o)=>{const l="q";return s===l?-1:o===l?1:s.localeCompare(o)};return ue.default.stringify(n,{addQueryPrefix:!0,skipNulls:!0,indices:!1,sort:a})},this._filterStringToList=r=>{const n=r.indexOf(this.urlFilterSeparator),a=n>-1,s=r.indexOf(":");if(s===-1)throw new Error(`Filter "${r}" not parsable. Format expected: "<agg name>:<value>"`);const o=r.slice(0,s),l=a?n:r.length,c=r.slice(s+1,l);let d=[o,c];if(a){const f=r.slice(n+1,r.length);d.push(this._filterStringToList(f))}return d},this._mapUrlParamsToQueryState=r=>{const n={};return Object.keys(r).forEach(a=>{const s=this.fromUrlParamsMapping[a];this.urlParamValidator.isValid(this,s,r[a])?(n[s]=r[a],s==="filters"&&(Array.isArray(r[a])||(r[a]=[r[a]]),n[s]=r[a].map(o=>this._filterStringToList(o)))):console.warn(`URL parameter '${a}' with value '${r[a]}' is incorrect and was ignored.`)}),n},this._mergeParamsIntoState=(r,n)=>{const a=ie(n);return Object.keys(r).forEach(s=>{a[s]=r[s]}),a},this.urlParamsMapping=go(t.urlParamsMapping)?t.urlParamsMapping:{queryString:"q",sortBy:"sort",sortOrder:"order",page:"p",size:"s",layout:"l",filters:"f",hiddenParams:"hp"},this.keepHistory=t.keepHistory!==void 0?t.keepHistory:!0,!Zy(this.keepHistory))throw new Error(`"keepHistory configuration must be a boolean, ${this.keepHistory} provided.`);if(this.urlFilterSeparator=t.urlFilterSeparator!==void 0?t.urlFilterSeparator:"+",!sb(this.urlFilterSeparator))throw new Error(`"urlFilterSeparator configuration must be a string, ${this.urlFilterSeparator} provided.`);this.urlParamValidator=t.urlParamValidator||new yb,this.urlParser=t.urlParser||new vb,this.urlParser.urlParamsMapping=this.urlParamsMapping,this.fromUrlParamsMapping={},Object.keys(this.urlParamsMapping).forEach(r=>{this.fromUrlParamsMapping[this.urlParamsMapping[r]]=r}),this.get=this.get.bind(this),this.set=this.set.bind(this),this.replace=this.replace.bind(this)}get(t){const r=this.urlParser.parse(window.location.search),n=this._mapUrlParamsToQueryState(r),a=this._mergeParamsIntoState(n,t),s=this._mapQueryStateToUrlParams(a);return sn(s),a}set(t){if(this.keepHistory){const r=this._mapQueryStateToUrlParams(t);bb(r)}else this.replace(t)}replace(t){const r=this._mapQueryStateToUrlParams(t);sn(r)}}const Sb="SET_QUERY_COMPONENT_INITIAL_STATE",ba="SET_QUERY_STRING",sr="SET_QUERY_SORTING",ir="SET_QUERY_SORT_BY",or="SET_QUERY_SORT_ORDER",Fe="SET_QUERY_STATE",va="SET_QUERY_PAGINATION_PAGE",Ea="SET_QUERY_PAGINATION_SIZE",Sa="SET_QUERY_FILTERS",_a="SET_QUERY_SUGGESTIONS",Ca="SET_SUGGESTION_STRING",$a="CLEAR_QUERY_SUGGESTIONS",xa="RESULTS_LOADING",wa="RESULTS_FETCH_SUCCESS",Ta="RESULTS_FETCH_ERROR",Ft="RESULTS_UPDATE_LAYOUT",Ia="RESET_QUERY",_b=e=>t=>{e&&t(z({shouldUpdateUrlQueryString:!1,shouldReplaceUrlQueryString:!0}))},Fa=e=>t=>{t({type:Fe,payload:e}),t(z())},Aa=e=>t=>{t({type:ba,payload:e}),t(z())},Cb=(e,t)=>r=>{r({type:sr,payload:{sortBy:e,sortOrder:t}}),r(z())},$b=e=>t=>{t({type:ir,payload:e}),t(z())},xb=e=>t=>{t({type:or,payload:e}),t(z())},wb=e=>t=>{t({type:va,payload:e}),t(z())},Tb=e=>t=>{t({type:Ea,payload:e}),t(z())},lr=e=>t=>{t({type:Sa,payload:e}),t(z())},Ib=e=>async(t,r,n)=>{const a=n.urlHandlerApi;if(a){await t({type:Ft,payload:e});const s=r().query;a.set(s)}else t({type:Ft,payload:e})},Fb=()=>(e,t,r)=>{e({type:Ia,payload:{queryString:"",page:1,filters:[],...r.initialQueryState}}),e(z())},Ab=(e,t,r,n)=>{const a=t.urlHandlerApi;a&&(r?a.replace(e):n&&a.set(e))},Ob=(e,t,r,n)=>{const a=r().query;t({type:Fe,payload:{...a,...e.newQueryState}});const s=ie(r().query),o=n.urlHandlerApi;return o&&o.replace(s),delete e.newStateQuery,e},kb=(e,t,r,n)=>{function a(l,c,d,f){l.queryString===""?(l.sortBy=d.defaultSortingOnEmptyQueryString.sortBy,l.sortOrder=d.defaultSortingOnEmptyQueryString.sortOrder):(l.sortBy=c.initialSortBy,l.sortOrder=c.initialSortOrder),f({type:Fe,payload:l})}function s(l,c,d,f){c.hasUserChangedSorting||a(l,c,d,f)}!G(r.defaultSortingOnEmptyQueryString)&&s(e,t,r,n)},z=function(){let{shouldUpdateUrlQueryString:e=!0,shouldReplaceUrlQueryString:t=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return async(r,n,a)=>{const s=n().app;let o=ie(n().query);kb(o,s,a,r),o=ie(n().query),Ab(o,a,t,e),r({type:xa});try{let c=await a.searchApi.search(o);"newQueryState"in c&&(c=Ob(ie(c),r,n,a)),r({type:wa,payload:{aggregations:c.aggregations,hits:c.hits,total:c.total}})}catch(l){if(l instanceof ar){console.debug(l);return}else console.error(l),r({type:Ta,payload:{error:l}})}}},Rb=e=>t=>{t({type:Ca,payload:e}),t(Pb())},Pb=()=>async(e,t,r)=>{const n=ie(t().query),a=r.suggestionApi;try{const s=await a.search(n);e({type:_a,payload:{suggestions:s.suggestions}})}catch(s){console.error("Could not load suggestions due to: "+s)}},Db=()=>e=>{e({type:$a,payload:{suggestions:[]}})},Lb=()=>(e,t,r)=>{if(r.urlHandlerApi){const n=r.urlHandlerApi.get(r.initialQueryState);e({type:Fe,payload:n}),e(z({shouldReplaceUrlQueryString:!0}))}},x=i.default.createContext({}),Bb=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case sr:return{...e,hasUserChangedSorting:!0};case ir:return{...e,hasUserChangedSorting:!0};case or:return{...e,hasUserChangedSorting:!0};default:return e}},Nb=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ba:return{...e,queryString:t.payload,page:1};case sr:return{...e,sortBy:t.payload.sortBy,sortOrder:t.payload.sortOrder,_sortUserChanged:!0,page:1};case ir:return{...e,sortBy:t.payload,_sortUserChanged:!0,page:1};case or:return{...e,sortOrder:t.payload,_sortUserChanged:!0,page:1};case va:return{...e,page:t.payload};case Ea:return{...e,size:t.payload,page:1};case Sa:return{...e,page:1,filters:ha(t.payload,e.filters)};case _a:return{...e,suggestions:t.payload.suggestions};case $a:return{...e,suggestions:t.payload.suggestions};case Ca:return{...e,suggestionString:t.payload};case Sb:return{...e,...t.payload};case Fe:return{...e,...Ge,...ma(Ge,t.payload,ga)};case Ft:return{...e,layout:t.payload};case Ia:return{...e,...t.payload};default:return e}},Ub=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xa:return{...e,loading:!0,data:{...e.data}};case wa:return{loading:!1,data:{...e.data,aggregations:t.payload.aggregations,hits:t.payload.hits,total:t.payload.total},error:{}};case Ta:return{loading:!1,data:{...e.data,aggregations:{},hits:[],total:0},error:t.payload.error};default:return e}};var Mb=Ct.combineReducers({app:Bb,query:Nb,results:Ub});function on(e,t){let{sortBy:r,sortOrder:n}=e,{sortBy:a,sortOrder:s}=t;return r!==a||n!==s}function zb(e,t,r){const n=on(r,t),a=!G(e.defaultSortingOnEmptyQueryString);let s=!1;return a&&(s=on(r,e.defaultSortingOnEmptyQueryString)),n&&s}function jb(e){const t={...Ge,...e.initialQueryState},r=e.urlHandlerApi?e.urlHandlerApi.get(t):t,n=zb(e,t,r),a={...mb,hasUserChangedSorting:n,initialSortBy:t.sortBy,initialSortOrder:t.sortOrder},s={...hb,loading:e.searchOnInit};return{app:a,query:r,results:s}}function Qb(e){const t=jb(e);return Ct.createStore(Mb,t,Ct.applyMiddleware(Li.default.withExtraArgument(e)))}function ln(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const n=t?`.${t}`:"";return`${r?`${r}.`:""}${e}${n}`}class ur extends g.Component{constructor(t){super(t),this.updateQueryState=r=>{const{updateQueryState:n}=this.props;n(r)},this.onQueryChanged=r=>{let{detail:n}=r;const{appName:a}=this.context;if(!a)this.updateQueryState(n.searchQuery);else{const o=n.appName;o===a?this.updateQueryState(n.searchQuery):console.debug(`React-SearchKit '${a}': ignoring event sent for app '${o}'`)}},this.searchOnInit=t.searchOnInit,this.eventListenerEnabled=t.eventListenerEnabled,this.onAppInitialized=t.onAppInitialized,this.searchOnUrlQueryStringChanged=t.searchOnUrlQueryStringChanged}componentDidMount(){this.eventListenerEnabled&&window.addEventListener("queryChanged",this.onQueryChanged),window.onpopstate=()=>{this.searchOnUrlQueryStringChanged()},this.onAppInitialized(this.searchOnInit)}componentWillUnmount(){window.onpopstate=()=>{},window.removeEventListener("queryChanged",this.onQueryChanged)}render(){const{children:t}=this.props;return t}}ur.defaultProps={searchOnInit:!0,eventListenerEnabled:!1};ur.contextType=x;var qb=S.default.component("Bootstrap",ur);const Gb=e=>({onAppInitialized:t=>e(_b(t)),updateQueryState:t=>e(Fa(t)),searchOnUrlQueryStringChanged:()=>e(Lb())}),Vb=A.connect(null,Gb)(qb);class cr extends g.Component{constructor(t){super(t);const r={searchApi:t.searchApi,suggestionApi:t.suggestionApi,urlHandlerApi:t.urlHandlerApi.enabled?t.urlHandlerApi.customHandler||new Eb(t.urlHandlerApi.overrideConfig):null,searchOnInit:t.searchOnInit,initialQueryState:t.initialQueryState,defaultSortingOnEmptyQueryString:t.defaultSortingOnEmptyQueryString};this.store=Qb(r),this.appName=t.appName,this.eventListenerEnabled=t.eventListenerEnabled,this.componentIndex=0}render(){const{appName:t,children:r,eventListenerEnabled:n,overridableId:a,searchOnInit:s}=this.props,o={appName:t,buildUID:(c,d)=>ln(c,d,t),nextComponentIndex:()=>`${this.appName}_${this.componentIndex++}`},l=ln("ReactSearchKit.children",a,t);return i.default.createElement(x.Provider,{value:o},i.default.createElement(A.Provider,{store:this.store},i.default.createElement(Vb,{searchOnInit:s,eventListenerEnabled:n},i.default.createElement(S.default,{id:l},r))))}}cr.defaultProps={suggestionApi:null,urlHandlerApi:{enabled:!0,overrideConfig:{},customHandler:null},searchOnInit:!0,appName:"",eventListenerEnabled:!1,overridableId:"",initialQueryState:{},defaultSortingOnEmptyQueryString:{}};cr.contextType=x;var Hb=S.default.component("ReactSearchKit",cr);class Oa extends g.Component{constructor(t){super(t),this._getLabel=r=>{const n=r[0];let a=r[1],s=[n,a];if(r.length===3){const{label:l,activeFilter:c}=this._getLabel(r[2]);a=`${a}.${l}`,s.push(c)}return{label:a,activeFilter:s}},this.updateQueryFilters=t.updateQueryFilters}render(){const{filters:t,overridableId:r}=this.props;return!!t.length&&i.default.createElement(ka,{filters:t,removeActiveFilter:this.updateQueryFilters,getLabel:this._getLabel,overridableId:r})}}Oa.defaultProps={overridableId:""};const ka=e=>{let{overridableId:t,filters:r,removeActiveFilter:n,getLabel:a}=e;const{buildUID:s}=g.useContext(x);return i.default.createElement(S.default,{id:s("ActiveFilters.element",t),filters:r,removeActiveFilter:n,getLabel:a},i.default.createElement(i.default.Fragment,null,r.map((o,l)=>{const{label:c,activeFilter:d}=a(o);return i.default.createElement(u.Label,{image:!0,key:l,onClick:()=>n(d)},c,i.default.createElement(u.Icon,{name:"delete"}))})))};ka.defaultProps={overridableId:""};var Yb=S.default.component("ActiveFilters",Oa);const Wb=e=>({updateQueryFilters:t=>e(lr(t))});A.connect(e=>({filters:e.query.filters}),Wb)(Yb);function Kb(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(!e||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var Xb=`.AutoCompleteText{position:relative;z-index:100}.AutoCompleteText .input button,.AutoCompleteText .input input{border:none;border-radius:0}.AutoCompleteText ul{background-color:#fff;border:1px solid #e0e1e2;border-radius:0 0 .3rem .3rem;color:#000;list-style-type:none;margin:0;padding:0;position:absolute;text-align:left;width:100%}.AutoCompleteText ul:before{content:""}.AutoCompleteText li{cursor:pointer;padding:.3em 1em}.AutoCompleteText li:hover{background-color:#e0e1e2;border-radius:.3rem;text-decoration:underline}
/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vaG9tZS9ydW5uZXIvd29yay9yZWFjdC1zZWFyY2hraXQvcmVhY3Qtc2VhcmNoa2l0L3NyYy9saWIvY29tcG9uZW50cy9BdXRvY29tcGxldGVTZWFyY2hCYXIvQXV0b2NvbXBsZXRlU2VhcmNoQmFyLnNjc3MiLCJBdXRvY29tcGxldGVTZWFyY2hCYXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFDRSxpQkFBQSxDQUNBLFdDQ0YsQ0RPQSwrREFDRSxXQUFBLENBQ0EsZUNDRixDREVBLHFCQU1FLHFCQUFBLENBR0Esd0JBQUEsQ0FDQSw2QkFBQSxDQUxBLFVBQUEsQ0FGQSxvQkFBQSxDQUlBLFFBQUEsQ0FDQSxTQUFBLENBTkEsaUJBQUEsQ0FFQSxlQUFBLENBSEEsVUNVRixDREVBLDRCQUNFLFVDQ0YsQ0RFQSxxQkFFRSxjQUFBLENBREEsZ0JDRUYsQ0RFQSwyQkFFRSx3QkFBQSxDQUNBLG1CQUFBLENBRkEseUJDR0YiLCJmaWxlIjoiQXV0b2NvbXBsZXRlU2VhcmNoQmFyLnNjc3MifQ== */`;Kb(Xb);class Ra extends g.Component{constructor(t){super(t),this._handleAutocompleteChange=r=>{r.length>=this.minCharsToAutocomplete&&this.updateSuggestions(r)},this.onInputChange=async r=>{await this.setState({currentValue:r}),this.handleAutocompleteChange(this.state.currentValue)},this.executeSearch=()=>{this.updateQueryString(this.state.currentValue)},this.updateQueryString=this.props.updateQueryString,this.updateSuggestions=this.props.debounce?Bi.default.debounce(this.props.updateSuggestions,this.props.debounceTime,{leading:!0}):this.props.updateSuggestions,this.clearSuggestions=this.props.clearSuggestions,this.minCharsToAutocomplete=this.props.minCharsToAutocomplete,this.state={currentValue:this.props.queryString||""},this.handleAutocompleteChange=t.handleAutocompleteChange||this._handleAutocompleteChange}render(){const{placeholder:t,suggestions:r,overridableId:n}=this.props;return i.default.createElement(Jb,{placeholder:t,queryString:this.state.currentValue,querySuggestions:r,onInputChange:this.onInputChange,executeSearch:this.executeSearch,overridableId:n})}}Ra.defaultProps={handleAutocompleteChange:null,placeholder:"Type something",minCharsToAutocomplete:3,overridableId:""};const Zb=e=>i.default.createElement(Ra,Object.assign({key:e.queryString},e)),Jb=e=>{let{overridableId:t,placeholder:r,queryString:n,querySuggestions:a,onInputChange:s,executeSearch:o,...l}=e;const{buildUID:c}=g.useContext(x),d=(p,h)=>{o()},f=(p,h)=>{p.key==="Enter"&&o()};return i.default.createElement(S.default,Object.assign({id:c("AutocompleteSearchBar.element",t)},l),i.default.createElement("div",{className:"AutoCompleteText"},i.default.createElement(u.Input,{action:{content:"Search",onClick:d},fluid:!0,placeholder:r,onChange:(p,h)=>{let{value:m}=h;s(m)},value:n,onKeyPress:f}),i.default.createElement(ev,{querySuggestions:a,overridableId:t})))},ev=e=>{let{overridableId:t,...r}=e;const{querySuggestions:n}=r,{buildUID:a}=g.useContext(x),s=async o=>{await(void 0).setState({currentValue:o}),(void 0).clearSuggestions(),(void 0).executeSearch()};return n.length===0?null:i.default.createElement(S.default,Object.assign({id:a("AutocompleteSearchBar.suggestions",t)},r),i.default.createElement("ul",null,n.map(o=>i.default.createElement(u.Button,{as:"li",onClick:()=>s(o),key:o},o))))};var tv=S.default.component("AutocompleteSearchBar",Zb);const rv=e=>({updateQueryString:t=>e(Aa(t)),updateSuggestions:t=>e(Rb(t)),clearSuggestions:()=>e(Db())}),nv=e=>({queryString:e.query.queryString,suggestions:e.query.suggestions});A.connect(nv,rv)(tv);class ct extends g.Component{constructor(t){super(t),this._isSelected=(r,n,a)=>a.filter(s=>s[0]===r&&s[1]===n).length>=1,this.getChildAggCmps=(r,n)=>{const a=this.childAgg&&this.childAgg.aggName in r;let s=[];if(a){const o=r[this.childAgg.aggName].buckets;n.forEach(c=>{const d=c[0]===this.aggName,f=c[1]===r.key,p=c.length===3;d&&f&&p&&s.push(c[2])});const l=c=>{this.onFilterClicked([this.aggName,r.key,c])};return i.default.createElement(ct,{buckets:o,selectedFilters:s,field:this.childAgg.field,aggName:this.childAgg.aggName,childAgg:this.childAgg.childAgg,onFilterClicked:l})}return null},this.field=t.field,this.aggName=t.aggName,this.childAgg=t.childAgg,this.onFilterClicked=t.onFilterClicked}render(){const{buckets:t,selectedFilters:r,overridableId:n}=this.props,a=t.map(s=>{const o=s.key_as_string?s.key_as_string:s.key,l=this._isSelected(this.aggName,o,r),c=f=>{this.onFilterClicked([this.aggName,f])},d=f=>this.getChildAggCmps(f,r);return i.default.createElement(Da,{key:s.key,bucket:s,keyField:o,isSelected:l,onFilterClicked:c,getChildAggCmps:d,overridableId:n})});return i.default.createElement(Pa,{valuesCmp:a,overridableId:n})}}ct.defaultProps={childAgg:null,overridableId:""};const Pa=e=>{let{valuesCmp:t,overridableId:r}=e;const{buildUID:n}=g.useContext(x);return i.default.createElement(S.default,{id:n("BucketAggregationContainer.element",r),valuesCmp:t},i.default.createElement(u.List,null,t))};Pa.defaultProps={overridableId:""};const Da=e=>{let{bucket:t,isSelected:r,onFilterClicked:n,getChildAggCmps:a,overridableId:s,keyField:o}=e;const{buildUID:l,nextComponentIndex:c}=g.useContext(x),d=t.label?t.label:`${o} (${t.doc_count.toLocaleString("en-US")})`,f=a(t);return i.default.createElement(S.default,{id:l("BucketAggregationValues.element",s),bucket:t,label:d,onFilterClicked:n,isSelected:r,childAggCmps:f},i.default.createElement(u.List.Item,{key:t.key},i.default.createElement(u.Checkbox,{label:d,id:c(),value:t.key,onClick:()=>n(t.key),checked:r}),f))};Da.defaultProps={overridableId:""};var av=S.default.component("BucketAggregationValues",ct);class La extends g.Component{constructor(t){super(t),this.onFilterClicked=r=>{this.updateQueryFilters(r)},this._renderValues=(r,n)=>{const{overridableId:a}=this.props;return i.default.createElement(av,{buckets:r,selectedFilters:n,field:this.agg.field,aggName:this.agg.aggName,childAgg:this.agg.childAgg,onFilterClicked:this.onFilterClicked,overridableId:a})},this._getSelectedFilters=r=>r.filter(n=>n[0]===this.agg.aggName),this._getResultBuckets=r=>{const n=Ee(r,this.agg.aggName,{});return"buckets"in n?(Array.isArray(n.buckets)||(n.buckets=Object.entries(n.buckets).map(a=>{let[s,o]=a;return{...o,key:s}})),n.buckets):[]},this.title=t.title,this.agg=t.agg,this.updateQueryFilters=t.updateQueryFilters}render(){const{userSelectionFilters:t,resultsAggregations:r,overridableId:n,...a}=this.props,s=this._getSelectedFilters(t),o=this._getResultBuckets(r),l=o.length?this._renderValues(o,s):null;return i.default.createElement(Ba,Object.assign({title:this.title,containerCmp:l,overridableId:n},a))}}La.defaultProps={overridableId:""};const Ba=e=>{let{overridableId:t,agg:r,title:n,containerCmp:a,updateQueryFilters:s}=e;const{buildUID:o}=g.useContext(x);return a&&i.default.createElement(S.default,{id:o("BucketAggregation.element",t),agg:r,title:n,containerCmp:a,updateQueryFilters:s},i.default.createElement(u.Card,null,i.default.createElement(u.Card.Content,null,i.default.createElement(u.Card.Header,null,n)),i.default.createElement(u.Card.Content,null,a)))};Ba.defaultProps={containerCmp:null,overridableId:""};var sv=S.default.component("BucketAggregation",La);const iv=e=>({updateQueryFilters:t=>e(lr(t))}),ov=A.connect(e=>({userSelectionFilters:e.query.filters,resultsAggregations:e.results.data.aggregations}),iv)(sv);class Na extends g.Component{render(){const{children:t,condition:r}=this.props;return r?t:null}}Na.defaultProps={condition:!0};var N=S.default.component("ShouldRender",Na);class Ua extends g.Component{render(){const{loading:t,totalResults:r,label:n,overridableId:a}=this.props;return i.default.createElement(N,{condition:!t&&r>0},n(i.default.createElement(Ma,{totalResults:r,overridableId:a})))}}Ua.defaultProps={label:e=>e,overridableId:""};const Ma=e=>{let{totalResults:t,overridableId:r}=e;const{buildUID:n}=g.useContext(x),a=n("Count.element",r);return i.default.createElement(S.default,{id:a,totalResults:t},i.default.createElement(u.Label,{color:"blue"},t.toLocaleString("en-US")))};Ma.defaultProps={overridableId:""};var lv=S.default.component("Count",Ua);A.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total}))(lv);class za extends g.Component{constructor(t){super(t),this.resetQuery=t.resetQuery}render(){const{loading:t,totalResults:r,error:n,queryString:a,extraContent:s,overridableId:o,userSelectionFilters:l,...c}=this.props;return i.default.createElement(N,{condition:!t&&G(n)&&r===0},i.default.createElement(ja,Object.assign({},c,{queryString:a,resetQuery:this.resetQuery,extraContent:s,userSelectionFilters:l,overridableId:o})))}}za.defaultProps={queryString:"",extraContent:null,overridableId:""};const ja=e=>{let{overridableId:t,queryString:r,resetQuery:n,extraContent:a,userSelectionFilters:s}=e;const{buildUID:o}=g.useContext(x);return i.default.createElement(S.default,{id:o("EmptyResults.element",t),queryString:r,resetQuery:n,extraContent:a,userSelectionFilters:s},i.default.createElement(u.Segment,{placeholder:!0,textAlign:"center"},i.default.createElement(u.Header,{icon:!0},i.default.createElement(u.Icon,{name:"search"}),"No results found!"),r&&i.default.createElement("em",null,'Current search "',r,'"'),i.default.createElement("br",null),i.default.createElement(u.Button,{primary:!0,onClick:()=>n()},"Clear query"),a))};ja.defaultProps={queryString:"",extraContent:null,overridableId:""};var uv=S.default.component("EmptyResults",za);const cv=e=>({resetQuery:()=>e(Fb())}),dv=A.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,error:e.results.error,queryString:e.query.queryString,userSelectionFilters:e.query.filters}),cv)(uv);function Qa(e){let{loading:t,error:r,overridableId:n}=e;return i.default.createElement(N,{condition:!t&&!G(r)},i.default.createElement(qa,{error:r,overridableId:n}))}Qa.defaultProps={overridableId:""};const qa=e=>{let{error:t,overridableId:r}=e;const{buildUID:n}=g.useContext(x);return i.default.createElement(S.default,{id:n("Error.element",r),error:t},i.default.createElement("div",null,"Oops! Something went wrong while fetching results."))};qa.defaultProps={overridableId:""};var fv=S.default.component("Error",Qa);A.connect(e=>({loading:e.results.loading,error:e.results.error}))(fv);function dr(e){const t=a=>i.default.createElement(e,a),r=a=>({currentQueryState:a.query,currentResultsState:a.results}),n=a=>({updateQueryState:s=>a(Fa(s))});return A.connect(r,n)(t)}class Ga extends g.Component{constructor(t){super(t),this.onLayoutChange=r=>{this.updateLayout(r)},this.updateLayout=t.updateLayout}render(){const{currentLayout:t,loading:r,totalResults:n,overridableId:a}=this.props;return i.default.createElement(N,{condition:t!==null&&!r&&n>0},i.default.createElement(Va,{currentLayout:t,onLayoutChange:this.onLayoutChange,overridableId:a}))}}Ga.defaultProps={currentLayout:null,overridableId:""};const Va=e=>{let{overridableId:t,currentLayout:r,onLayoutChange:n}=e;const{buildUID:a}=g.useContext(x);return i.default.createElement(S.default,{id:a("LayoutSwitcher.element",t),currentLayout:r,onLayoutChange:n},i.default.createElement(u.Menu,{compact:!0,icon:!0},i.default.createElement(u.Menu.Item,{name:"list",active:r==="list",onClick:(s,o)=>{let{name:l}=o;return n(l)}},i.default.createElement(u.Icon,{name:"list layout"})),i.default.createElement(u.Menu.Item,{name:"grid",active:r==="grid",onClick:(s,o)=>{let{name:l}=o;return n(l)}},i.default.createElement(u.Icon,{name:"grid layout"}))))};Va.defaultProps={currentLayout:null,overridableId:""};var pv=S.default.component("LayoutSwitcher",Ga);const hv=e=>({updateLayout:t=>e(Ib(t))});A.connect(e=>({loading:e.results.loading,currentLayout:e.query.layout,totalResults:e.results.data.total}),hv)(pv);const un={boundaryRangeCount:1,siblingRangeCount:1,showEllipsis:!0,showFirst:!0,showLast:!0,showPrev:!0,showNext:!0,size:"large"};class Ha extends g.Component{constructor(t){super(t),this.onPageChange=r=>{const{currentPage:n}=this.props;r!==n&&this.updateQueryPage(r)},this.updateQueryPage=t.updateQueryPage,this.options=t.options?{...un,...t.options}:un}render(){const{loading:t,totalResults:r,currentPage:n,currentSize:a,overridableId:s,showWhenOnlyOnePage:o}=this.props;return i.default.createElement(N,{condition:!t&&n>-1&&a>-1&&o?r>0:r>a},i.default.createElement(Ya,{currentPage:n,currentSize:a,totalResults:r,onPageChange:this.onPageChange,options:this.options,overridableId:s,maxTotalResults:this.options.maxTotalResults}))}}Ha.defaultProps={options:{},overridableId:"",showWhenOnlyOnePage:!0};const Ya=e=>{let{overridableId:t,currentPage:r,currentSize:n,totalResults:a,onPageChange:s,options:o,maxTotalResults:l,...c}=e;const d=o.boundaryRangeCount,f=o.siblingRangeCount,p=o.showEllipsis,h=o.showFirst,m=o.showLast,v=o.showPrev,y=o.showNext,_=o.size,b=Math.floor(l/n),C=Math.ceil(a/n),I=Math.min(C,b),{buildUID:k}=g.useContext(x);return r>C&&s(C),i.default.createElement(S.default,{id:k("Pagination.element",t),currentPage:r,currentSize:n,totalResults:a,options:o,onPageChange:s},i.default.createElement(u.Pagination,Object.assign({activePage:r,totalPages:I,onPageChange:(j,F)=>{let{activePage:X}=F;return s(X)},boundaryRange:d,siblingRange:f,ellipsisItem:p?void 0:null,firstItem:h?void 0:null,lastItem:m?void 0:null,prevItem:v?void 0:null,nextItem:y?void 0:null,size:_},c)))};Ya.defaultProps={options:{},overridableId:"",maxTotalResults:1e4};var mv=S.default.component("Pagination",Ha);const gv=e=>({updateQueryPage:t=>e(wb(t))}),yv=A.connect(e=>({currentPage:e.query.page,currentSize:e.query.size,loading:e.results.loading,totalResults:e.results.data.total}),gv)(mv);function Wa(e){let{loading:t,totalResults:r,results:n,resultsPerRow:a,overridableId:s,onResultsRendered:o}=e;return g.useEffect(()=>{o&&o()},[o]),i.default.createElement(N,{condition:!t&&r>0},i.default.createElement(Ka,{results:n,resultsPerRow:a,overridableId:s}))}Wa.defaultProps={resultsPerRow:3,overridableId:"",onResultsRendered:()=>{}};const bv=e=>{let{result:t,overridableId:r}=e;const{buildUID:n}=g.useContext(x);return i.default.createElement(S.default,{id:n("ResultsGrid.item",r),result:t},i.default.createElement(u.Card,{fluid:!0,href:`#${t.id}`},i.default.createElement(u.Image,{src:t.imgSrc||"http://placehold.it/200"}),i.default.createElement(u.Card.Content,null,i.default.createElement(u.Card.Header,null,t.title),i.default.createElement(u.Card.Description,null,t.description))))},Ka=e=>{let{overridableId:t,results:r,resultsPerRow:n}=e;const{buildUID:a}=g.useContext(x),s=r.map((o,l)=>i.default.createElement(bv,{key:l,result:o,overridableId:t}));return i.default.createElement(S.default,{id:a("ResultsGrid.container",t),results:s,resultsPerRow:n},i.default.createElement(u.Card.Group,{itemsPerRow:n},s))};Ka.defaultProps={resultsPerRow:3,overridableId:""};var vv=S.default.component("ResultsGrid",Wa);const Ev=A.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,results:e.results.data.hits}))(vv);function Xa(e){let{loading:t,totalResults:r,results:n,overridableId:a,onResultsRendered:s}=e;return g.useEffect(()=>{s&&s()},[s]),i.default.createElement(N,{condition:!t&&r>0},i.default.createElement(Za,{results:n,overridableId:a}))}Xa.defaultProps={overridableId:"",onResultsRendered:()=>{}};const Sv=e=>{let{result:t,overridableId:r}=e;const{buildUID:n}=g.useContext(x);return i.default.createElement(S.default,{id:n("ResultsList.item",r),result:t},i.default.createElement(u.Item,{href:`#${t.id}`},i.default.createElement(u.Item.Image,{size:"small",src:t.imgSrc||"http://placehold.it/200"}),i.default.createElement(u.Item.Content,null,i.default.createElement(u.Item.Header,null,t.title),i.default.createElement(u.Item.Description,null,t.description))))},Za=e=>{let{results:t,overridableId:r}=e;const{buildUID:n}=g.useContext(x),a=t.map((s,o)=>i.default.createElement(Sv,{result:s,key:o,overridableId:r}));return i.default.createElement(S.default,{id:n("ResultsList.container",r),results:a},i.default.createElement(u.Item.Group,{divided:!0,relaxed:!0,link:!0},a))};Za.defaultProps={overridableId:""};var _v=S.default.component("ResultsList",Xa);const Ja=A.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,results:e.results.data.hits}))(_v);function es(e){let{children:t,loading:r,overridableId:n}=e;return r?i.default.createElement(ts,{overridableId:n}):t}es.defaultProps={overridableId:""};const ts=e=>{let{overridableId:t}=e;const{buildUID:r}=g.useContext(x);return i.default.createElement(S.default,{id:r("ResultsLoader.element",t)},i.default.createElement(u.Loader,{active:!0,size:"huge",inline:"centered"}))};ts.defaultProps={overridableId:""};var Cv=S.default.component("ResultsLoader",es);const $v=A.connect(e=>({loading:e.results.loading}))(Cv);function rs(e){let{loading:t,totalResults:r,currentLayout:n,overridableId:a,onResultsRendered:s}=e;return i.default.createElement(N,{condition:n!=null&&!t&&r>0},i.default.createElement(ns,{layout:n,overridableId:a,onResultsRendered:s}))}rs.defaultProps={currentLayout:null,overridableId:"",onResultsRendered:()=>{}};const ns=e=>{let{layout:t,overridableId:r,onResultsRendered:n}=e;const{buildUID:a}=g.useContext(x);return i.default.createElement(S.default,{id:a("ResultsMultiLayout.element",r),layout:t,onResultsRendered:n},t==="list"?i.default.createElement(Ja,{overridableId:r,onResultsRendered:n}):i.default.createElement(Ev,{overridableId:r,onResultsRendered:n}))};ns.defaultProps={layout:"",overridableId:"",onResultsRendered:()=>{}};var xv=S.default.component("ResultsMultiLayout",rs);A.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,currentLayout:e.query.layout}))(xv);class as extends g.Component{constructor(t){super(t),this.onChange=r=>{const{currentSize:n}=this.props;r!==n&&this.updateQuerySize(r)},this.options=t.values,this.updateQuerySize=t.updateQuerySize}render(){const{loading:t,currentSize:r,totalResults:n,label:a,overridableId:s,ariaLabel:o,selectOnNavigation:l,showWhenOnlyOnePage:c}=this.props;return i.default.createElement(N,{condition:!t&&r!==-1&&c?n>0:n>r},a(i.default.createElement(ss,{currentSize:r,options:this.options,onValueChange:this.onChange,overridableId:s,ariaLabel:o,selectOnNavigation:l})))}}as.defaultProps={label:e=>e,overridableId:"",ariaLabel:"Results per page",selectOnNavigation:!1,showWhenOnlyOnePage:!0};const ss=e=>{let{overridableId:t,currentSize:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:o}=e;const{buildUID:l}=g.useContext(x),c=n.map((d,f)=>({key:f,text:d.text,value:d.value}));return i.default.createElement(S.default,{id:l("ResultsPerPage.element",t),currentSize:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:o},i.default.createElement(u.Dropdown,{inline:!0,compact:!0,options:c,value:r,onChange:(d,f)=>{let{value:p}=f;return a(p)},"aria-label":s,selectOnNavigation:o}))};ss.defaultProps={ariaLabel:"Results per page",selectOnNavigation:!1,overridableId:""};var wv=S.default.component("ResultsPerPage",as);const Tv=e=>({updateQuerySize:t=>e(Tb(t))}),Iv=A.connect(e=>({loading:e.results.loading,currentSize:e.query.size,totalResults:e.results.data.total}),Tv)(wv);class is extends g.Component{constructor(t){super(t),this.onInputChange=r=>{this.setState({currentValue:r})},this.executeSearch=()=>{const{currentValue:r}=this.state;this.updateQueryString(r)},this.onBtnSearchClick=()=>{this.executeSearch()},this.onKeyPress=r=>{r.key==="Enter"&&this.executeSearch()},this.updateQueryString=t.updateQueryString,this.state={currentValue:t.queryString||""}}render(){const{actionProps:t,autofocus:r,executeSearch:n,onBtnSearchClick:a,onInputChange:s,onKeyPress:o,overridableId:l,placeholder:c,uiProps:d}=this.props,{currentValue:f}=this.state;return i.default.createElement(fr,{actionProps:t,autofocus:r,executeSearch:n||this.executeSearch,onBtnSearchClick:a||this.onBtnSearchClick,onInputChange:s||this.onInputChange,onKeyPress:o||this.onKeyPress,overridableId:l,placeholder:c,queryString:f,uiProps:d})}}is.defaultProps={actionProps:null,autofocus:!1,executeSearch:null,onBtnSearchClick:null,onInputChange:null,onKeyPress:null,overridableId:"",placeholder:"",queryString:"",uiProps:null};const os=e=>{const{queryString:t}=e;return i.default.createElement(is,Object.assign({key:t},e))};os.defaultProps={queryString:""};class fr extends g.Component{componentDidMount(){const{autofocus:t}=this.props;t&&this.focusInput&&this.focusInput.focus()}render(){const{actionProps:t,onBtnSearchClick:r,onInputChange:n,onKeyPress:a,overridableId:s,placeholder:o,queryString:l,uiProps:c}=this.props,{buildUID:d}=this.context;return i.default.createElement(S.default,{id:d("SearchBar.element",s),queryString:l,onBtnSearchClick:r,onInputChange:n,onKeyPress:a,placeholder:o,actionProps:t,uiProps:c},i.default.createElement(u.Input,Object.assign({action:{content:"Search",onClick:r,...t},fluid:!0},c,{placeholder:o||"Type something",onChange:(f,p)=>{let{value:h}=p;n(h)},value:l,onKeyPress:a,ref:f=>{this.focusInput=f}})))}}fr.defaultProps={actionProps:null,autofocus:!1,onBtnSearchClick:null,onInputChange:null,onKeyPress:null,overridableId:"",placeholder:"",queryString:"",uiProps:null};fr.contextType=x;var Fv=S.default.component("SearchBar",os);const Av=e=>({updateQueryString:t=>e(Aa(t))}),Ov=A.connect(e=>({queryString:e.query.queryString}),Av)(Fv);class ls extends g.Component{constructor(t){super(t),this._computeValue=(r,n)=>n?`${r}-${n}`:r,this.onChange=r=>{const{currentSortBy:n,currentSortOrder:a}=this.props;if(r===this._computeValue(n,a))return;const s=this.options.find(o=>o.value===r);this.updateQuerySorting(s.sortBy,s.sortOrder)},this.options=t.values,this.updateQuerySorting=t.updateQuerySorting,this.options.forEach(r=>r.value=this._computeValue(r.sortBy,r.sortOrder))}render(){const{currentSortBy:t,currentSortOrder:r,loading:n,totalResults:a,label:s,overridableId:o,sortOrderDisabled:l,ariaLabel:c,selectOnNavigation:d}=this.props;return i.default.createElement(N,{condition:t!==null&&(l||t!==null)&&!n&&a>0},s(i.default.createElement(us,{currentSortBy:t,currentSortOrder:r,options:this.options,onValueChange:this.onChange,computeValue:this._computeValue,overridableId:o,ariaLabel:c,selectOnNavigation:d})))}}ls.defaultProps={currentSortBy:null,currentSortOrder:null,label:e=>e,overridableId:"",sortOrderDisabled:!1,ariaLabel:"Sort",selectOnNavigation:!1};const us=e=>{let{overridableId:t,currentSortBy:r,currentSortOrder:n,options:a,onValueChange:s,computeValue:o,ariaLabel:l,selectOnNavigation:c}=e;const{buildUID:d}=g.useContext(x),f=o(r,n),p=a.map((h,m)=>({key:m,text:h.text,value:h.value}));return i.default.createElement(S.default,{id:d("Sort.element",t),options:a,currentSortBy:r,currentSortOrder:n,onValueChange:s,ariaLabel:l,selectOnNavigation:c},i.default.createElement(u.Dropdown,{selection:!0,options:p,value:f,onChange:(h,m)=>{let{value:v}=m;return s(v)},"aria-label":l,selectOnNavigation:c}))};us.defaultProps={currentSortBy:null,currentSortOrder:null,overridableId:"",ariaLabel:"Sort",selectOnNavigation:!1};var kv=S.default.component("Sort",ls);const Rv=e=>({updateQuerySorting:(t,r)=>e(Cb(t,r))});A.connect(e=>({currentSortBy:e.query.sortBy,currentSortOrder:e.query.sortOrder,loading:e.results.loading,totalResults:e.results.data.total}),Rv)(kv);class cs extends g.Component{constructor(t){super(t),this.onChange=r=>{const{currentSortBy:n}=this.props;r!==n&&this.updateQuerySortBy(r)},this.options=t.values,this.updateQuerySortBy=t.updateQuerySortBy}render(){const{currentSortBy:t,loading:r,totalResults:n,label:a,overridableId:s,ariaLabel:o,selectOnNavigation:l}=this.props;return i.default.createElement(N,{condition:t!==null&&!r&&n>0},a(i.default.createElement(ds,{currentSortBy:t,options:this.options,onValueChange:this.onChange,overridableId:s,ariaLabel:o,selectOnNavigation:l})))}}cs.defaultProps={currentSortBy:null,label:e=>e,overridableId:"",ariaLabel:"Sort Results By",selectOnNavigation:!1};const ds=e=>{let{overridableId:t,currentSortBy:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:o}=e;const{buildUID:l}=g.useContext(x),c=n.map((d,f)=>({key:f,text:d.text,value:d.value}));return i.default.createElement(S.default,{id:l("SortBy.element",t),options:n,currentSortBy:r,onValueChange:a,ariaLabel:s,selectOnNavigation:o},i.default.createElement(u.Dropdown,{selection:!0,compact:!0,options:c,value:r,onChange:(d,f)=>{let{value:p}=f;return a(p)},"aria-label":s,selectOnNavigation:o}))};ds.defaultProps={currentSortBy:null,overridableId:"",ariaLabel:"Sort Results By",selectOnNavigation:!1};var Pv=S.default.component("SortBy",cs);const Dv=e=>({updateQuerySortBy:t=>e($b(t))}),Lv=A.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,currentSortBy:e.query.sortBy}),Dv)(Pv);class fs extends g.Component{constructor(t){super(t),this.onChange=r=>{const{currentSortOrder:n}=this.props;r!==n&&this.updateQuerySortOrder(r)},this.options=t.values,this.updateQuerySortOrder=t.updateQuerySortOrder}render(){const{currentSortOrder:t,loading:r,totalResults:n,label:a,overridableId:s,ariaLabel:o,selectOnNavigation:l}=this.props;return i.default.createElement(N,{condition:t!==null&&!r&&n>0},a(i.default.createElement(ps,{currentSortOrder:t,options:this.options,onValueChange:this.onChange,overridableId:s,ariaLabel:o,selectOnNavigation:l})))}}fs.defaultProps={currentSortOrder:null,label:e=>e,overridableId:"",ariaLabel:"Sort Order",selectOnNavigation:!1};const ps=e=>{let{overridableId:t,currentSortOrder:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:o}=e;const{buildUID:l}=g.useContext(x),c=n.map((d,f)=>({key:f,text:d.text,value:d.value}));return i.default.createElement(S.default,{id:l("SortOrder.element",t),options:n,currentSortOrder:r,onValueChange:a,ariaLabel:s,selectOnNavigation:o},i.default.createElement(u.Dropdown,{selection:!0,compact:!0,options:c,value:r,onChange:(d,f)=>{let{value:p}=f;return a(p)},"aria-label":s,selectOnNavigation:o}))};ps.defaultProps={currentSortOrder:null,overridableId:"",ariaLabel:"Sort Order",selectOnNavigation:!1};var Bv=S.default.component("SortOrder",fs);const Nv=e=>({updateQuerySortOrder:t=>e(xb(t))});A.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,currentSortOrder:e.query.sortOrder}),Nv)(Bv);const hs=e=>{let{overridableId:t,userSelectionFilters:r,title:n,label:a,filterValue:s,updateQueryFilters:o}=e;const l=p=>p.filter(m=>m[0]===s[0]).length>0,c=()=>{o(s)},{buildUID:d}=g.useContext(x),f=l(r);return i.default.createElement(S.default,{id:d("SearchFilters.Toggle.element",t),title:n,label:a,filterValue:s,userSelectionFilters:r,updateQueryFilters:o},i.default.createElement(u.Card,null,i.default.createElement(u.Card.Content,null,i.default.createElement(u.Card.Header,null,n)),i.default.createElement(u.Card.Content,null,i.default.createElement(u.Checkbox,{toggle:!0,label:a,onClick:c,checked:f}))))};hs.defaultProps={overridableId:""};var Uv=S.default.component("SearchFilters.Toggle",hs);const Mv=e=>({updateQueryFilters:t=>e(lr(t))});A.connect(e=>({userSelectionFilters:e.query.filters}),Mv)(Uv);function At(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}var zv=e=>typeof e=="object"&&e!==null;function jv(e){return Object.fromEntries(Object.entries(e??{}).filter(([t,r])=>r!==void 0))}var Qv=e=>e==="base";function qv(e){return e.slice().filter(t=>!Qv(t))}function cn(e){return String.fromCharCode(e+(e>25?39:97))}function Gv(e){let t="",r;for(r=Math.abs(e);r>52;r=r/52|0)t=cn(r%52)+t;return cn(r%52)+t}function Vv(e,t){let r=t.length;for(;r;)e=e*33^t.charCodeAt(--r);return e}function Hv(e){return Gv(Vv(5381,e)>>>0)}var ms=/\s*!(important)?/i;function Yv(e){return typeof e=="string"?ms.test(e):!1}function Wv(e){return typeof e=="string"?e.replace(ms,"").trim():e}function gs(e){return typeof e=="string"?e.replaceAll(" ","_"):e}var pr=e=>{const t=new Map;return(...n)=>{const a=JSON.stringify(n);if(t.has(a))return t.get(a);const s=e(...n);return t.set(a,s),s}},Kv=new Set(["__proto__","constructor","prototype"]);function ys(...e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(n=>{if(Kv.has(n))return;const a=t[n],s=r[n];At(a)&&At(s)?t[n]=ys(a,s):t[n]=s}),t),{})}var Xv=e=>e!=null;function bs(e,t,r={}){const{stop:n,getKey:a}=r;function s(o,l=[]){if(zv(o)){const c={};for(const[d,f]of Object.entries(o)){const p=(a==null?void 0:a(d,f))??d,h=[...l,p];if(n!=null&&n(o,h))return t(o,l);const m=s(f,h);Xv(m)&&(c[p]=m)}return c}return t(o,l)}return s(e)}function Zv(e,t){return e.reduce((r,n,a)=>{const s=t[a];return n!=null&&(r[s]=n),r},{})}function vs(e,t,r=!0){const{utility:n,conditions:a}=t,{hasShorthand:s,resolveShorthand:o}=n;return bs(e,l=>Array.isArray(l)?Zv(l,a.breakpoints.keys):l,{stop:l=>Array.isArray(l),getKey:r?l=>s?o(l):l:void 0})}var Jv={shift:e=>e,finalize:e=>e,breakpoints:{keys:[]}},eE=e=>typeof e=="string"?e.replaceAll(/[\n\s]+/g," "):e;function tE(e){const{utility:t,hash:r,conditions:n=Jv}=e,a=o=>[t.prefix,o].filter(Boolean).join("-"),s=(o,l)=>{let c;if(r){const d=[...n.finalize(o),l];c=a(t.toHash(d,Hv))}else c=[...n.finalize(o),a(l)].join(":");return c};return pr(({base:o,...l}={})=>{const c=Object.assign(l,o),d=vs(c,e),f=new Set;return bs(d,(p,h)=>{if(p==null)return;const m=Yv(p),[v,...y]=n.shift(h),_=qv(y),b=t.transform(v,Wv(eE(p)));let C=s(_,b.className);m&&(C=`${C}!`),f.add(C)}),Array.from(f).join(" ")})}function rE(...e){return e.flat().filter(t=>At(t)&&Object.keys(jv(t)).length>0)}function nE(e){function t(a){const s=rE(...a);return s.length===1?s:s.map(o=>vs(o,e))}function r(...a){return ys(...t(a))}function n(...a){return Object.assign({},...t(a))}return{mergeCss:pr(r),assignCss:n}}var aE=/([A-Z])/g,sE=/^ms-/,iE=pr(e=>e.startsWith("--")?e:e.replace(aE,"-$1").replace(sE,"-ms-").toLowerCase()),oE="cm,mm,Q,in,pc,pt,px,em,ex,ch,rem,lh,rlh,vw,vh,vmin,vmax,vb,vi,svw,svh,lvw,lvh,dvw,dvh,cqw,cqh,cqi,cqb,cqmin,cqmax,%";`${oE.split(",").join("|")}`;const lE="_hover,_focus,_focusWithin,_focusVisible,_disabled,_active,_visited,_target,_readOnly,_readWrite,_empty,_checked,_enabled,_expanded,_highlighted,_complete,_incomplete,_dragging,_before,_after,_firstLetter,_firstLine,_marker,_selection,_file,_backdrop,_first,_last,_only,_even,_odd,_firstOfType,_lastOfType,_onlyOfType,_peerFocus,_peerHover,_peerActive,_peerFocusWithin,_peerFocusVisible,_peerDisabled,_peerChecked,_peerInvalid,_peerExpanded,_peerPlaceholderShown,_groupFocus,_groupHover,_groupActive,_groupFocusWithin,_groupFocusVisible,_groupDisabled,_groupChecked,_groupExpanded,_groupInvalid,_indeterminate,_required,_valid,_invalid,_autofill,_inRange,_outOfRange,_placeholder,_placeholderShown,_pressed,_selected,_grabbed,_underValue,_overValue,_atValue,_default,_optional,_open,_closed,_fullscreen,_loading,_hidden,_current,_currentPage,_currentStep,_today,_unavailable,_rangeStart,_rangeEnd,_now,_topmost,_motionReduce,_motionSafe,_print,_landscape,_portrait,_dark,_light,_osDark,_osLight,_highContrast,_lessContrast,_moreContrast,_ltr,_rtl,_scrollbar,_scrollbarThumb,_scrollbarTrack,_horizontal,_vertical,_icon,_starting,sm,smOnly,smDown,md,mdOnly,mdDown,lg,lgOnly,lgDown,xl,xlOnly,xlDown,2xl,2xlOnly,2xlDown,smToMd,smToLg,smToXl,smTo2xl,mdToLg,mdToXl,mdTo2xl,lgToXl,lgTo2xl,xlTo2xl,@/xs,@/sm,@/md,@/lg,@/xl,@/2xl,@/3xl,@/4xl,@/5xl,@/6xl,@/7xl,@/8xl,base",Es=new Set(lE.split(",")),uE=/^@|&|&$/;function dn(e){return Es.has(e)||uE.test(e)}const cE=/^_/,dE=/&|@/;function fE(e){return e.map(t=>Es.has(t)?t.replace(cE,""):dE.test(t)?`[${gs(t.trim())}]`:t)}function pE(e){return e.sort((t,r)=>{const n=dn(t),a=dn(r);return n&&!a?1:!n&&a?-1:0})}const hE="aspectRatio:asp,boxDecorationBreak:bx-db,zIndex:z,boxSizing:bx-s,objectPosition:obj-p,objectFit:obj-f,overscrollBehavior:ovs-b,overscrollBehaviorX:ovs-bx,overscrollBehaviorY:ovs-by,position:pos/1,top:top,left:left,inset:inset,insetInline:inset-x/insetX,insetBlock:inset-y/insetY,insetBlockEnd:inset-be,insetBlockStart:inset-bs,insetInlineEnd:inset-e/insetEnd/end,insetInlineStart:inset-s/insetStart/start,right:right,bottom:bottom,float:float,visibility:vis,display:d,hideFrom:hide,hideBelow:show,flexBasis:flex-b,flex:flex,flexDirection:flex-d/flexDir,flexGrow:flex-g,flexShrink:flex-sh,gridTemplateColumns:grid-tc,gridTemplateRows:grid-tr,gridColumn:grid-c,gridRow:grid-r,gridColumnStart:grid-cs,gridColumnEnd:grid-ce,gridAutoFlow:grid-af,gridAutoColumns:grid-ac,gridAutoRows:grid-ar,gap:gap,gridGap:grid-g,gridRowGap:grid-rg,gridColumnGap:grid-cg,rowGap:rg,columnGap:cg,justifyContent:jc,alignContent:ac,alignItems:ai,alignSelf:as,padding:p/1,paddingLeft:pl/1,paddingRight:pr/1,paddingTop:pt/1,paddingBottom:pb/1,paddingBlock:py/1/paddingY,paddingBlockEnd:pbe,paddingBlockStart:pbs,paddingInline:px/paddingX/1,paddingInlineEnd:pe/1/paddingEnd,paddingInlineStart:ps/1/paddingStart,marginLeft:ml/1,marginRight:mr/1,marginTop:mt/1,marginBottom:mb/1,margin:m/1,marginBlock:my/1/marginY,marginBlockEnd:mbe,marginBlockStart:mbs,marginInline:mx/1/marginX,marginInlineEnd:me/1/marginEnd,marginInlineStart:ms/1/marginStart,spaceX:sx,spaceY:sy,outlineWidth:ring-w/ringWidth,outlineColor:ring-c/ringColor,outline:ring/1,outlineOffset:ring-o/ringOffset,divideX:dvd-x,divideY:dvd-y,divideColor:dvd-c,divideStyle:dvd-s,width:w/1,inlineSize:w-is,minWidth:min-w/minW,minInlineSize:min-w-is,maxWidth:max-w/maxW,maxInlineSize:max-w-is,height:h/1,blockSize:h-bs,minHeight:min-h/minH,minBlockSize:min-h-bs,maxHeight:max-h/maxH,maxBlockSize:max-b,color:c,fontFamily:ff,fontSize:fs,fontSizeAdjust:fs-a,fontPalette:fp,fontKerning:fk,fontFeatureSettings:ff-s,fontWeight:fw,fontSmoothing:fsmt,fontVariant:fv,fontVariantAlternates:fv-alt,fontVariantCaps:fv-caps,fontVariationSettings:fv-s,fontVariantNumeric:fv-num,letterSpacing:ls,lineHeight:lh,textAlign:ta,textDecoration:td,textDecorationColor:td-c,textEmphasisColor:te-c,textDecorationStyle:td-s,textDecorationThickness:td-t,textUnderlineOffset:tu-o,textTransform:tt,textIndent:ti,textShadow:tsh,textShadowColor:tsh-c/textShadowColor,textOverflow:tov,verticalAlign:va,wordBreak:wb,textWrap:tw,truncate:trunc,lineClamp:lc,listStyleType:li-t,listStylePosition:li-pos,listStyleImage:li-img,listStyle:li-s,backgroundPosition:bg-p/bgPosition,backgroundPositionX:bg-p-x/bgPositionX,backgroundPositionY:bg-p-y/bgPositionY,backgroundAttachment:bg-a/bgAttachment,backgroundClip:bg-cp/bgClip,background:bg/1,backgroundColor:bg-c/bgColor,backgroundOrigin:bg-o/bgOrigin,backgroundImage:bg-i/bgImage,backgroundRepeat:bg-r/bgRepeat,backgroundBlendMode:bg-bm/bgBlendMode,backgroundSize:bg-s/bgSize,backgroundGradient:bg-grad/bgGradient,textGradient:txt-grad,gradientFromPosition:grad-from-pos,gradientToPosition:grad-to-pos,gradientFrom:grad-from,gradientTo:grad-to,gradientVia:grad-via,gradientViaPosition:grad-via-pos,borderRadius:bdr/rounded,borderTopLeftRadius:bdr-tl/roundedTopLeft,borderTopRightRadius:bdr-tr/roundedTopRight,borderBottomRightRadius:bdr-br/roundedBottomRight,borderBottomLeftRadius:bdr-bl/roundedBottomLeft,borderTopRadius:bdr-t/roundedTop,borderRightRadius:bdr-r/roundedRight,borderBottomRadius:bdr-b/roundedBottom,borderLeftRadius:bdr-l/roundedLeft,borderStartStartRadius:bdr-ss/roundedStartStart,borderStartEndRadius:bdr-se/roundedStartEnd,borderStartRadius:bdr-s/roundedStart,borderEndStartRadius:bdr-es/roundedEndStart,borderEndEndRadius:bdr-ee/roundedEndEnd,borderEndRadius:bdr-e/roundedEnd,border:bd,borderWidth:bd-w,borderTopWidth:bd-t-w,borderLeftWidth:bd-l-w,borderRightWidth:bd-r-w,borderBottomWidth:bd-b-w,borderBlockStartWidth:bd-bs-w,borderBlockEndWidth:bd-be-w,borderColor:bd-c,borderInline:bd-x/borderX,borderInlineWidth:bd-x-w/borderXWidth,borderInlineColor:bd-x-c/borderXColor,borderBlock:bd-y/borderY,borderBlockWidth:bd-y-w/borderYWidth,borderBlockColor:bd-y-c/borderYColor,borderLeft:bd-l,borderLeftColor:bd-l-c,borderInlineStart:bd-s/borderStart,borderInlineStartWidth:bd-s-w/borderStartWidth,borderInlineStartColor:bd-s-c/borderStartColor,borderRight:bd-r,borderRightColor:bd-r-c,borderInlineEnd:bd-e/borderEnd,borderInlineEndWidth:bd-e-w/borderEndWidth,borderInlineEndColor:bd-e-c/borderEndColor,borderTop:bd-t,borderTopColor:bd-t-c,borderBottom:bd-b,borderBottomColor:bd-b-c,borderBlockEnd:bd-be,borderBlockEndColor:bd-be-c,borderBlockStart:bd-bs,borderBlockStartColor:bd-bs-c,opacity:op,boxShadow:bx-sh/shadow,boxShadowColor:bx-sh-c/shadowColor,mixBlendMode:mix-bm,filter:filter,brightness:brightness,contrast:contrast,grayscale:grayscale,hueRotate:hue-rotate,invert:invert,saturate:saturate,sepia:sepia,dropShadow:drop-shadow,blur:blur,backdropFilter:bkdp,backdropBlur:bkdp-blur,backdropBrightness:bkdp-brightness,backdropContrast:bkdp-contrast,backdropGrayscale:bkdp-grayscale,backdropHueRotate:bkdp-hue-rotate,backdropInvert:bkdp-invert,backdropOpacity:bkdp-opacity,backdropSaturate:bkdp-saturate,backdropSepia:bkdp-sepia,borderCollapse:bd-cl,borderSpacing:bd-sp,borderSpacingX:bd-sx,borderSpacingY:bd-sy,tableLayout:tbl,transitionTimingFunction:trs-tmf,transitionDelay:trs-dly,transitionDuration:trs-dur,transitionProperty:trs-prop,transition:trs,animation:anim,animationName:anim-n,animationTimingFunction:anim-tmf,animationDuration:anim-dur,animationDelay:anim-dly,animationPlayState:anim-ps,animationComposition:anim-comp,animationFillMode:anim-fm,animationDirection:anim-dir,animationIterationCount:anim-ic,animationRange:anim-r,animationState:anim-s,animationRangeStart:anim-rs,animationRangeEnd:anim-re,animationTimeline:anim-tl,transformOrigin:trf-o,transformBox:trf-b,transformStyle:trf-s,transform:trf,rotate:rotate,rotateX:rotate-x,rotateY:rotate-y,rotateZ:rotate-z,scale:scale,scaleX:scale-x,scaleY:scale-y,translate:translate,translateX:translate-x/x,translateY:translate-y/y,translateZ:translate-z/z,accentColor:ac-c,caretColor:ca-c,scrollBehavior:scr-bhv,scrollbar:scr-bar,scrollbarColor:scr-bar-c,scrollbarGutter:scr-bar-g,scrollbarWidth:scr-bar-w,scrollMargin:scr-m,scrollMarginLeft:scr-ml,scrollMarginRight:scr-mr,scrollMarginTop:scr-mt,scrollMarginBottom:scr-mb,scrollMarginBlock:scr-my/scrollMarginY,scrollMarginBlockEnd:scr-mbe,scrollMarginBlockStart:scr-mbt,scrollMarginInline:scr-mx/scrollMarginX,scrollMarginInlineEnd:scr-me,scrollMarginInlineStart:scr-ms,scrollPadding:scr-p,scrollPaddingBlock:scr-py/scrollPaddingY,scrollPaddingBlockStart:scr-pbs,scrollPaddingBlockEnd:scr-pbe,scrollPaddingInline:scr-px/scrollPaddingX,scrollPaddingInlineEnd:scr-pe,scrollPaddingInlineStart:scr-ps,scrollPaddingLeft:scr-pl,scrollPaddingRight:scr-pr,scrollPaddingTop:scr-pt,scrollPaddingBottom:scr-pb,scrollSnapAlign:scr-sa,scrollSnapStop:scrs-s,scrollSnapType:scrs-t,scrollSnapStrictness:scrs-strt,scrollSnapMargin:scrs-m,scrollSnapMarginTop:scrs-mt,scrollSnapMarginBottom:scrs-mb,scrollSnapMarginLeft:scrs-ml,scrollSnapMarginRight:scrs-mr,scrollSnapCoordinate:scrs-c,scrollSnapDestination:scrs-d,scrollSnapPointsX:scrs-px,scrollSnapPointsY:scrs-py,scrollSnapTypeX:scrs-tx,scrollSnapTypeY:scrs-ty,scrollTimeline:scrtl,scrollTimelineAxis:scrtl-a,scrollTimelineName:scrtl-n,touchAction:tch-a,userSelect:us,overflow:ov,overflowWrap:ov-wrap,overflowX:ov-x,overflowY:ov-y,overflowAnchor:ov-a,overflowBlock:ov-b,overflowInline:ov-i,overflowClipBox:ovcp-bx,overflowClipMargin:ovcp-m,overscrollBehaviorBlock:ovs-bb,overscrollBehaviorInline:ovs-bi,fill:fill,stroke:stk,strokeWidth:stk-w,strokeDasharray:stk-dsh,strokeDashoffset:stk-do,strokeLinecap:stk-lc,strokeLinejoin:stk-lj,strokeMiterlimit:stk-ml,strokeOpacity:stk-op,srOnly:sr,debug:debug,appearance:ap,backfaceVisibility:bfv,clipPath:cp-path,hyphens:hy,mask:msk,maskImage:msk-i,maskSize:msk-s,textSizeAdjust:txt-adj,container:cq,containerName:cq-n,containerType:cq-t,cursor:cursor,textStyle:textStyle",Ss=new Map,_s=new Map;hE.split(",").forEach(e=>{const[t,r]=e.split(":"),[n,...a]=r.split("/");Ss.set(t,n),a.length&&a.forEach(s=>{_s.set(s==="1"?n:s,t)})});const fn=e=>_s.get(e)||e,Cs={conditions:{shift:pE,finalize:fE,breakpoints:{keys:["base","sm","md","lg","xl","2xl"]}},utility:{transform:(e,t)=>{const r=fn(e);return{className:`${Ss.get(r)||iE(r)}_${gs(t)}`}},hasShorthand:!0,toHash:(e,t)=>t(e.join(":")),resolveShorthand:fn}},mE=tE(Cs),E=(...e)=>mE($s(...e));E.raw=(...e)=>$s(...e);const{mergeCss:$s,assignCss:B1}=nE(Cs),pn={header:E({fontSize:"1.1rem !important"}),container:E({padding:"1rem"})},gE=({title:e,containerCmp:t})=>i.default.createElement("div",{className:pn.container},i.default.createElement(u.Header,{as:"h2",className:pn.header},e),i.default.createElement("div",null,t)),hn={checkboxContainer:E({display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",wordBreak:"break-all",marginInlineStart:"1rem","&:not(:last-child)":{marginBlockEnd:"0.5rem"}}),childAggContainer:E({marginInlineStart:"1.5rem",marginBlockStart:"0.5rem"})},yE=({bucket:e,label:t,onFilterClicked:r,isSelected:n,childAggCmps:a})=>i.default.createElement("div",{className:hn.checkboxContainer},i.default.createElement(u.Checkbox,{checked:n,onChange:()=>r(e.key),label:t}),i.default.createElement(u.Label,{circular:!0,size:"mini"},e.doc_count),a&&a.length>0&&i.default.createElement("div",{className:hn.childAggContainer},a)),xs=i.default.createContext(null),bE=({config:e,children:t,updateQueryState:r,currentQueryState:n})=>{const a=g.useCallback(()=>{r({...n,queryString:n.queryString})},[r,n]);return i.default.createElement(xs.Provider,{value:{config:e,refreshSearch:a}},t)},vE=dr(bE),Ae=()=>{const e=i.default.useContext(xs);if(!e)throw new Error("useSearchConfig must be used within a SearchProvider");return e},EE={spinnerIcon:E({marginInlineEnd:"0.5rem"})},hr=({progress:e,showPercentage:t=!1})=>i.default.createElement(g.Fragment,null,Object.entries(e).map(([r,n])=>i.default.createElement(u.Segment.Inline,{basic:!0,key:r},i.default.createElement(u.Icon,{name:"spinner",loading:!0,className:EE.spinnerIcon}),i.default.createElement("strong",null,r)," ",t?`${n}%`:null))),mr=()=>i.default.createElement(u.Segment,{basic:!0,padded:"very"},i.default.createElement(u.Dimmer,{active:!0,inverted:!0},i.default.createElement(u.Loader,{inverted:!0},"Loading"))),ws=({status:e,...t})=>e==="damaged"||e==="imported with failures"||e==="validated with failures"||e==="serializer validation failed"||e==="validation failed"||e==="import failed"?i.default.createElement(u.Icon,{name:"close",color:"red",...t}):e==="success"||e==="created"?i.default.createElement(u.Icon,{name:"check circle",color:"green",...t}):e==="importing"||e==="validating"?i.default.createElement(u.Icon,{name:"spinner",loading:!0,...t}):e==="validated"?i.default.createElement(u.Icon,{name:"check circle",color:"blue",...t}):i.default.createElement(u.Icon,{...t}),gr=({status:e,children:t,...r})=>e==="damaged"||e==="imported with failures"||e==="validated with failures"||e==="serializer validation failed"||e==="validation failed"||e==="import failed"?i.default.createElement(u.Label,{color:"red",...r},i.default.createElement(u.Icon,{name:"warning sign"}),t):e==="success"||e==="validated"||e==="created"?i.default.createElement(u.Label,{color:"green",...r},i.default.createElement(u.Icon,{name:"check circle"}),t):e==="importing"||e==="validating"?i.default.createElement(u.Label,{color:"blue",...r},i.default.createElement(u.Icon,{name:"spinner",loading:!0}),t):i.default.createElement(u.Label,{...r},t),oe=e=>(e==null?void 0:e.charAt(0).toUpperCase())+(e==null?void 0:e.slice(1))||"";var Ts={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=a(s,n(l)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=a(o,l));return o}function a(s,o){return o?s?s+" "+o:s+o:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Ts);var SE=Ts.exports;const Is=O(SE),yr=e=>e.reduce((t,r)=>t+r.file.size,0),br=e=>dt(yr(e)),dt=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${Number.parseFloat((e/t**n).toFixed(2))} ${r[n]}`},Ve=e=>new Date(e).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});var Fs={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(e,t){(function(r){var n;if(e.exports=r(),n=!0,!n){var a=window.Cookies,s=window.Cookies=r();s.noConflict=function(){return window.Cookies=a,s}}})(function(){function r(){for(var s=0,o={};s<arguments.length;s++){var l=arguments[s];for(var c in l)o[c]=l[c]}return o}function n(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(s){function o(){}function l(d,f,p){if(!(typeof document>"u")){p=r({path:"/"},o.defaults,p),typeof p.expires=="number"&&(p.expires=new Date(new Date*1+p.expires*864e5)),p.expires=p.expires?p.expires.toUTCString():"";try{var h=JSON.stringify(f);/^[\{\[]/.test(h)&&(f=h)}catch{}f=s.write?s.write(f,d):encodeURIComponent(String(f)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),d=encodeURIComponent(String(d)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var m="";for(var v in p)p[v]&&(m+="; "+v,p[v]!==!0&&(m+="="+p[v].split(";")[0]));return document.cookie=d+"="+f+m}}function c(d,f){if(!(typeof document>"u")){for(var p={},h=document.cookie?document.cookie.split("; "):[],m=0;m<h.length;m++){var v=h[m].split("="),y=v.slice(1).join("=");!f&&y.charAt(0)==='"'&&(y=y.slice(1,-1));try{var _=n(v[0]);if(y=(s.read||s)(y,_)||n(y),f)try{y=JSON.parse(y)}catch{}if(p[_]=y,d===_)break}catch{}}return d?p[d]:p}}return o.set=l,o.get=function(d){return c(d,!1)},o.getJSON=function(d){return c(d,!0)},o.remove=function(d,f){l(d,"",r(f,{expires:-1}))},o.defaults={},o.withConverter=a,o}return a(function(){})})})(Fs);var _E=Fs.exports;const CE=O(_E),As=()=>CE.get("csrftoken")||null,Os=e=>{switch(e){case"success":return"green";case"validation failed":case"serializer validation failed":case"import failed":case"imported with failures":case"validated with failures":case"damaged":return"red";case"validated":case"created":return"blue";case"importing":case"validating":return"yellow";default:return"grey"}},$E=e=>new ya(e),xE=(e,t={},r=!0)=>({axios:{url:e,headers:{Accept:"application/vnd.inveniordm.v1+json",...t},withCredentials:r}}),L=Ne.default.create({baseURL:"",timeout:3e4,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}});L.interceptors.request.use(e=>{const t=As();return t&&(e.headers["X-CSRFTOKEN"]=t),e},e=>Promise.reject(e));const ks=async(e,t)=>{try{const r=await L.put(`/api/importer-tasks/${e}/metadata`,t,{headers:{"content-type":"application/octet-stream","X-Filename":`${t.name}`}});if(r.status===200)return r.data;throw new Error(`Failed to create task: ${r.statusText}`)}catch(r){throw new Error(`Error creating task: ${r instanceof Error?r.message:"Unknown error"}`)}},wE=async(e,t)=>{try{const r=await L.post(`/api/importer-tasks/${e}/files/${t}/commit`,{});if(r.status!==200)throw new Error(`Failed to commit file: ${r.statusText}`)}catch(r){throw console.error("Error committing file:",r),new Error(`Failed to commit file: ${r instanceof Error?r.message:"Unknown error"}`)}},TE=async e=>{const t={title:e.title,description:e.description,mode:e.mode,status:e.status,record_type:e.recordType,serializer:e.serializer,start_time:e.startTime,end_time:e.endTime};try{const r=await L.post("/api/importer-tasks",t);if(r.status===201)return r.data;throw new Error(`Failed to create task: ${r.statusText}`)}catch(r){throw new Error(`Error creating task: ${r instanceof Error?r.message:"Unknown error"}`)}},IE=async e=>{try{const t=await L.delete(`/api/importer-tasks/${e}`);return t.status===204?!0:(console.error(`Failed to delete task: ${t.statusText}`),!1)}catch(t){return console.error(`Error deleting task: ${t instanceof Error?t.message:"Unknown error"}`),!1}},Rs=async e=>{try{const t=await L.post(`/api/importer-tasks/${e}/load`);if(t.status===200)return t.data;throw new Error(`Unexpected response status: ${t.status}`)}catch(t){throw console.error("Error executing bulk import:",t),new Error("Failed to execute bulk import")}},FE=async()=>{try{const e=await L.get("/api/importer-tasks/config");return e.status===200?e.data:(console.error("Failed to fetch record types:",e.statusText),[])}catch(e){return console.error("Error fetching record types:",e),[]}},AE=async e=>{try{const t=await L.get(`/api/importer-tasks/config/${e}`);if(t.status===200)return t.data;throw new Error(`Unexpected response status: ${t.status}`)}catch(t){throw console.error("Error fetching serializers:",t),new Error("Failed to fetch serializers")}},_e=async e=>{try{const t=await L.put(`/api/importer-tasks/${e}/status`,{});if(t.status===200)return t.data;throw new Error(`Failed to get status of importer task: ${t.statusText}`)}catch(t){throw new Error(`Error getting status of importer task: ${t instanceof Error?t.message:"Unknown error"}`)}},OE=async(e,t)=>{const r=t.map(n=>({key:n}));try{const n=await L.post(`/api/importer-tasks/${e}/files`,r);if(n.status!==201)throw new Error(`Failed to initialize files: ${n.statusText}`)}catch(n){throw console.error("Error initializing files:",n),new Error(`Failed to initialize files: ${n instanceof Error?n.message:"Unknown error"}`)}},kE=async(e,t,r)=>{try{const n=await L.put(`/api/importer-tasks/${e}/files/${t}/content`,r,{headers:{"Content-Type":"application/octet-stream"}});if(n.status!==200)throw new Error(`Failed to upload file content: ${n.statusText}`)}catch(n){throw console.error("Error uploading file content:",n),new Error(`Failed to upload file content: ${n instanceof Error?n.message:"Unknown error"}`)}},Ps=async e=>{try{const t=await L.post(`/api/importer-tasks/${e}/validate`,{});if(t.status===200)return t.data;throw new Error(`Failed to validate task: ${t.statusText}`)}catch(t){throw new Error(`Error validating task: ${t instanceof Error?t.message:"Unknown error"}`)}},Ds=async(e,t={})=>{const{autoExecute:r=!1,onProgress:n,onError:a}=t;try{n==null||n("Validating",0),await Ps(e),n==null||n("Validating",50);let s=await _e(e);return n==null||n("Validating",100),r&&(s.status==="validated"||s.status==="validated with failures")&&(n==null||n("Executing",0),await Rs(e),n==null||n("Executing",50),s=await _e(e),n==null||n("Executing",100)),s}catch(s){const o=s instanceof Error?s:new Error("Unknown error during workflow execution");throw a==null||a(o,"Executing"),o}},Ls=async(e,t,r)=>{if(!t||t.length===0)return;const n=t.map(a=>a.name);await OE(e,n);for(const a of t)try{r==null||r({fileName:a.name,loaded:0,total:a.size,percentage:0}),await kE(e,a.name,a),r==null||r({fileName:a.name,loaded:a.size,total:a.size,percentage:90}),await wE(e,a.name),r==null||r({fileName:a.name,loaded:a.size,total:a.size,percentage:100})}catch(s){throw new Error(`Failed to upload file ${a.name}: ${s instanceof Error?s.message:"Unknown error"}`)}},RE=async(e,t,r,n={})=>{const{autoValidate:a=!1,autoExecute:s=!1,onProgress:o,onError:l}=n;try{o==null||o("Creating Task",0);const c=await TE(e);if(!c)throw new Error("Failed to create import task");return o==null||o("Creating Task",100),t&&(o==null||o("Uploading Metadata",0),await ks(c.id,t),o==null||o("Uploading Metadata",100)),r&&r.length>0&&await Ls(c.id,r,d=>{o==null||o("Uploading Files",d.percentage)}),a&&t&&await Ds(c.id,{autoExecute:s,onProgress:o,onError:l}),c}catch(c){const d=c instanceof Error?c:new Error("Unknown error during task creation");throw l==null||l(d,"Creating Task"),d}},PE=async(e,t,r,n={})=>{const{onProgress:a,onError:s}=n;try{a==null||a("Updating",0),t&&(a==null||a("Updating Metadata",0),await ks(e,t),a==null||a("Updating Metadata",100)),r&&r.length>0&&await Ls(e,r,o=>{a==null||a("Updating Files",o.percentage)}),a==null||a("Updating",100)}catch(o){const l=o instanceof Error?o:new Error("Unknown error during task update");throw s==null||s(l,"Updating"),l}},DE=async e=>{try{const t=await L.post(`/api/importer-records/${e}/run`,{});if(t.status===200)return t.data;throw new Error(`Failed to fetch import records: ${t.statusText}`)}catch(t){throw console.error("Failed to fetch import records:",t),t}},Bs=(e,t={})=>{const[r,n]=g.useState({isDeleting:!1,isValidating:!1,isBulkImporting:!1,isGettingStatus:!1,error:null}),{onDeleteSuccess:a,onDeleteError:s,onValidateSuccess:o,onValidateError:l,onBulkImportSuccess:c,onBulkImportError:d,onStatusChangeSuccess:f,onStatusChangeError:p}=t,h=g.useCallback(()=>{n(b=>({...b,error:null}))},[]),m=g.useCallback(async()=>{n(b=>({...b,isDeleting:!0,error:null}));try{if(!await IE(e))throw new Error(`Failed to delete task ${e}`);a==null||a()}catch(b){const C=b instanceof Error?b:new Error("Unknown error");throw n(I=>({...I,error:C})),s==null||s(C),C}finally{n(b=>({...b,isDeleting:!1}))}},[e,a,s]),v=g.useCallback(async()=>{n(b=>({...b,isValidating:!0,error:null}));try{const b=await Ps(e);if(!b)throw new Error(`Validation failed for task ${e}`);return o==null||o(b),await _e(e),b}catch(b){const C=b instanceof Error?b:new Error("Unknown error");throw n(I=>({...I,error:C})),l==null||l(C),C}finally{n(b=>({...b,isValidating:!1}))}},[e,o,l]),y=g.useCallback(async()=>{n(b=>({...b,isBulkImporting:!0,error:null}));try{const b=await Rs(e);if(!b)throw new Error(`Failed to execute bulk import for task ${e}`);return c==null||c(b),await _e(e),b}catch(b){const C=b instanceof Error?b:new Error("Unknown error");throw n(I=>({...I,error:C})),d==null||d(C),C}finally{n(b=>({...b,isBulkImporting:!1}))}},[e,c,d]),_=g.useCallback(async()=>{n(b=>({...b,isGettingStatus:!0,error:null}));try{const b=await _e(e);if(!b)throw new Error(`Failed to retrieve status for task ${e}`);return n(C=>({...C,error:null})),f==null||f(b),b}catch(b){const C=b instanceof Error?b:new Error("Unknown error");throw n(I=>({...I,error:C})),p==null||p(C),C}finally{n(b=>({...b,isGettingStatus:!1}))}},[e,f,p]);return{isDeleting:r.isDeleting,isValidating:r.isValidating,isBulkImporting:r.isBulkImporting,isGettingStatus:r.isGettingStatus,error:r.error,deleteTask:m,validateTask:v,runBulkImport:y,getStatus:_,clearError:h}},Pe={actionsCell:E({inlineSize:"15rem"}),errorContainer:E({display:"flex",alignItems:"center",gap:"0.3125rem",color:"red",fontSize:"0.75rem",marginBlockEnd:"0.3125rem"}),clearErrorButton:E({marginInlineStart:"0.3125rem",fontSize:"0.625rem"}),actionsContainer:E({display:"flex",alignItems:"center",gap:"0.625rem"})},LE=({result:e,index:t})=>{var v;const{config:r,refreshSearch:n}=Ae(),{deleteTask:a,runBulkImport:s,getStatus:o,isDeleting:l,isValidating:c,isBulkImporting:d,isGettingStatus:f,error:p,clearError:h}=Bs(e.id,{onDeleteSuccess:()=>{n()},onBulkImportSuccess:()=>{n()},onStatusChangeSuccess:()=>{n()}});if(!e)return null;const m=l||c||d||f;return i.default.createElement(u.TableRow,{key:t},i.default.createElement(u.TableCell,null,i.default.createElement("a",{href:`${r.resultPath}/${e.id}`},e.title||"No title")),i.default.createElement(u.TableCell,null,Ve(e.created)),i.default.createElement(u.TableCell,null,i.default.createElement(gr,{status:e.status},oe(e.status))),i.default.createElement(u.TableCell,null,i.default.createElement(u.Label,null,oe(e.record_type))),i.default.createElement(u.TableCell,null,((v=e.records_status)==null?void 0:v.total_records)??0),i.default.createElement(u.TableCell,null,e.serializer),i.default.createElement(u.TableCell,null,oe(e.mode)),i.default.createElement(u.TableCell,{className:Pe.actionsCell},p&&i.default.createElement("div",{className:Pe.errorContainer},p.message,i.default.createElement(u.Button,{onClick:h,className:Pe.clearErrorButton,size:"mini",basic:!0},"Clear")),i.default.createElement("div",{className:Pe.actionsContainer},i.default.createElement(u.Dropdown,{text:m?"Processing...":"Select Action",floating:!0,labeled:!0,className:"icon",disabled:m,options:[{key:"load",text:"Run",value:"load",disabled:m,onClick:()=>s()},{key:"status",text:"Refresh Status",value:"status",disabled:m,onClick:()=>o()},{key:"delete",text:"Delete",value:"delete",disabled:m,onClick:()=>a()}]}),i.default.createElement(u.Button,{basic:!0,size:"tiny",disabled:m,as:"a",href:`${r.resultPath}/${e.id}`},i.default.createElement(u.Icon,{name:"eye"}),"View"))))},BE=({children:e})=>i.default.createElement(u.Table,{padded:!0,size:"small",comp:!0},i.default.createElement(u.TableHeader,null,i.default.createElement(u.TableRow,null,i.default.createElement(u.TableHeaderCell,null,"Title"),i.default.createElement(u.TableHeaderCell,null,"Date Created"),i.default.createElement(u.TableHeaderCell,null,"Status"),i.default.createElement(u.TableHeaderCell,null,"Type"),i.default.createElement(u.TableHeaderCell,null,"Items"),i.default.createElement(u.TableHeaderCell,null,"Serializer"),i.default.createElement(u.TableHeaderCell,null,"Mode"),i.default.createElement(u.TableHeaderCell,null,"Actions"))),i.default.createElement(u.TableBody,null,e)),NE={container:E({display:"flex",alignItems:"center",gap:"0.5rem"})},UE=({currentResultsState:e,currentQueryState:t})=>{const r=e.data.total,n=t.size;return r?n?n>r?i.default.createElement(u.Label,null,"Showing ",i.default.createElement("strong",null,r)," result(s) found"):i.default.createElement(u.Label,{className:NE.container},"Showing ",i.default.createElement("strong",null,n)," of ",i.default.createElement("strong",null,r)," ","result(s) found"):null:i.default.createElement(u.Label,null,"No results found")},ME=dr(UE),zE=[{text:"Newest",value:"newest"},{text:"Oldest",value:"oldest"}],mn={container:E({display:"flex",justifyContent:"space-between",gap:"2rem",flexWrap:"wrap",alignItems:"center"}),sortByContainer:E({display:"flex",alignItems:"center",gap:"0.5rem"})},jE=()=>i.default.createElement("div",{className:mn.container},i.default.createElement(ME,null),i.default.createElement("div",{className:mn.sortByContainer},i.default.createElement(Lv,{values:zE}))),V={aggs:[],appId:"search",defaultSortingOnEmptyQueryString:[{sortBy:"newest"}],initialQueryState:{filters:[],hiddenParams:null,layout:"list",page:1,size:10,sortBy:"newest"},layoutOptions:{gridView:!1,listView:!0},paginationOptions:{defaultValue:10,maxTotalResults:1e4,resultsPerPage:[{text:"10",value:10},{text:"20",value:20},{text:"50",value:50}]},searchApi:{axios:{headers:{Accept:"application/vnd.inveniordm.v1+json"},url:"/api/importer-tasks",withCredentials:!0},invenio:{requestSerializer:"InvenioRecordsResourcesRequestSerializer"}},sortOptions:[{sortBy:"newest",text:"Newest"},{sortBy:"oldest",text:"Oldest"}],sortOrderDisabled:!0,resultPath:"/administration/importer-tasks"},gn={searchLayout:E({display:"flex",flexDirection:["column","row"],gap:"1rem"}),searchContent:E({flex:1,minInlineSize:0})},ye={fileInput:E({marginBlockStart:"0.5rem"}),helpText:E({marginBlockStart:"0.5rem",fontSize:"0.75rem",color:"#666"}),buttonContainer:E({display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"0.5rem"})},QE=()=>{const[e,t]=g.useState({}),[r,n]=g.useState(!0),{values:a,submitForm:s,isSubmitting:o,isValid:l,setFieldValue:c}=Di.useFormikContext(),d=g.useCallback(async()=>{try{const h=await FE(),m={};for(const v of h){const y=await AE(v);y&&(m[v]=y)}t(m)}catch(h){console.error("Error fetching record types:",h)}finally{n(!1)}},[]),f=h=>{var v;const m=((v=h.target.files)==null?void 0:v[0])||null;c("metadata",m)},p=h=>{c("files",h)};return g.useEffect(()=>{d()},[d]),{configs:e,isLoading:r,values:a,submitForm:s,setFieldValue:c,handleFileChange:f,handleFilesChange:p,isSubmitting:o,isValid:l}},qE=({progress:e})=>{const{configs:t,isLoading:r,submitForm:n,handleFileChange:a,handleFilesChange:s,values:o,isSubmitting:l,isValid:c}=QE();return r?i.default.createElement(mr,null):!t||Object.keys(t).length===0?i.default.createElement("p",null,"No record types available."):i.default.createElement(g.Fragment,null,i.default.createElement(ne.TextField,{fieldPath:"task.title",label:"Title",placeholder:"Enter a title for the import task",required:!0}),i.default.createElement(u.Form.Group,{widths:"equal"},i.default.createElement(ne.SelectField,{fieldPath:"task.recordType",label:"Record Type",options:Object.keys(t).map(d=>({key:d,value:d,text:d})),placeholder:"Select Record Type",required:!0}),i.default.createElement(ne.SelectField,{fieldPath:"task.serializer",label:"Serializer",options:o.task.recordType&&t[o.task.recordType]?t[o.task.recordType].serializers.map(d=>({key:d,value:d,text:d})):[],placeholder:"Select Serializer",disabled:!o.task.recordType,required:!0}),i.default.createElement(ne.SelectField,{fieldPath:"task.mode",label:"Mode",options:[{key:"import",value:"import",text:"Import"},{key:"delete",value:"delete",text:"Delete"}],placeholder:"Select Mode",disabled:!o.task.recordType||!o.task.serializer,required:!0})),i.default.createElement(u.Form.Field,null,i.default.createElement("label",{htmlFor:"file-input"},"Metadata File"),i.default.createElement("input",{id:"file-input",type:"file",accept:".csv",onChange:a,className:ye.fileInput}),o.metadata&&i.default.createElement("p",{className:ye.helpText},"Selected: ",o.metadata.name),i.default.createElement("p",{className:ye.helpText},"Upload a CSV file containing the records metadata to be imported or deleted.")),i.default.createElement(u.Form.Field,null,i.default.createElement(Cr,{value:o.files||[],onChange:s,accept:"*",skipEmptyFiles:!0,maxTotalSize:10*1024*1024*1024,maxFiles:100}),i.default.createElement("p",{className:ye.helpText},"Upload files related to the records. You can upload multiple files, and they will be associated with the import task.")),i.default.createElement(ne.TextAreaField,{fieldPath:"task.description",label:"Notes",placeholder:"Enter a description for the import task",rows:3}),i.default.createElement("div",{className:ye.buttonContainer},e&&i.default.createElement(hr,{progress:e}),i.default.createElement(u.Button,{type:"button",primary:!0,onClick:n,disabled:!c||l,loading:l},"Submit")))};var Ot;try{Ot=Map}catch{}var kt;try{kt=Set}catch{}function Ns(e,t,r){if(!e||typeof e!="object"||typeof e=="function")return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(Rt);if(Ot&&e instanceof Ot)return new Map(Array.from(e.entries()));if(kt&&e instanceof kt)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var n=Object.create(e);r.push(n);for(var a in e){var s=t.findIndex(function(o){return o===e[a]});n[a]=s>-1?r[s]:Ns(e[a],t,r)}return n}return e}function Rt(e){return Ns(e,[],[])}const GE=Object.prototype.toString,VE=Error.prototype.toString,HE=RegExp.prototype.toString,YE=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",WE=/^Symbol\((.*)\)(.*)$/;function KE(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function yn(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const r=typeof e;if(r==="number")return KE(e);if(r==="string")return t?`"${e}"`:e;if(r==="function")return"[Function "+(e.name||"anonymous")+"]";if(r==="symbol")return YE.call(e).replace(WE,"Symbol($1)");const n=GE.call(e).slice(8,-1);return n==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):n==="Error"||e instanceof Error?"["+VE.call(e)+"]":n==="RegExp"?HE.call(e):null}function Ce(e,t){let r=yn(e,t);return r!==null?r:JSON.stringify(e,function(n,a){let s=yn(this[n],t);return s!==null?s:a},2)}let J={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{let a=n!=null&&n!==r,s=`${e} must be a \`${t}\` type, but the final value was: \`${Ce(r,!0)}\``+(a?` (cast from the value \`${Ce(n,!0)}\`).`:".");return r===null&&(s+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),s},defined:"${path} must be defined"},U={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},XE={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Pt={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ZE={isValue:"${path} field must be ${value}"},Dt={noUnknown:"${path} field has unspecified keys: ${unknown}"},JE={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:J,string:U,number:XE,date:Pt,object:Dt,array:JE,boolean:ZE});var eS=Object.prototype,tS=eS.hasOwnProperty;function rS(e,t){return e!=null&&tS.call(e,t)}var nS=rS,aS=nS,sS=Zn;function iS(e,t){return e!=null&&sS(e,t,aS)}var oS=iS;const He=O(oS),Us=e=>e&&e.__isYupSchema__;class lS{constructor(t,r){if(this.fn=void 0,this.refs=t,this.refs=t,typeof r=="function"){this.fn=r;return}if(!He(r,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,o=typeof n=="function"?n:(...l)=>l.every(c=>c===n);this.fn=function(...l){let c=l.pop(),d=l.pop(),f=o(...l)?a:s;if(f)return typeof f=="function"?f(d):d.concat(f.resolve(c))}}resolve(t,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn.apply(t,n.concat(t,r));if(a===void 0||a===t)return t;if(!Us(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}function Ms(e){return e==null?[]:[].concat(e)}function Lt(){return Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lt.apply(this,arguments)}let uS=/\$\{\s*(\w+)\s*\}/g;class P extends Error{static formatError(t,r){const n=r.label||r.path||"this";return n!==r.path&&(r=Lt({},r,{path:n})),typeof t=="string"?t.replace(uS,(a,s)=>Ce(r[s])):typeof t=="function"?t(r):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,r,n,a){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],Ms(t).forEach(s=>{P.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,P)}}const cS=e=>{let t=!1;return(...r)=>{t||(t=!0,e(...r))}};function Bt(e,t){let{endEarly:r,tests:n,args:a,value:s,errors:o,sort:l,path:c}=e,d=cS(t),f=n.length;const p=[];if(o=o||[],!f)return o.length?d(new P(o,s,c)):d(null,s);for(let h=0;h<n.length;h++){const m=n[h];m(a,function(y){if(y){if(!P.isError(y))return d(y,s);if(r)return y.value=s,d(y,s);p.push(y)}if(--f<=0){if(p.length&&(l&&p.sort(l),o.length&&p.push(...o),o=p),o.length){d(new P(o,s,c),s);return}d(null,s)}})}}function dS(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var fS=dS,pS=fS,hS=pS(),mS=hS,gS=mS,yS=Ie;function bS(e,t){return e&&gS(e,t,yS)}var zs=bS,vS="__lodash_hash_undefined__";function ES(e){return this.__data__.set(e,vS),this}var SS=ES;function _S(e){return this.__data__.has(e)}var CS=_S,$S=Yt,xS=SS,wS=CS;function Ye(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $S;++t<r;)this.add(e[t])}Ye.prototype.add=Ye.prototype.push=xS;Ye.prototype.has=wS;var TS=Ye;function IS(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var FS=IS;function AS(e,t){return e.has(t)}var OS=AS,kS=TS,RS=FS,PS=OS,DS=1,LS=2;function BS(e,t,r,n,a,s){var o=r&DS,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var p=-1,h=!0,m=r&LS?new kS:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var v=e[p],y=t[p];if(n)var _=o?n(y,v,p,t,e,s):n(v,y,p,e,t,s);if(_!==void 0){if(_)continue;h=!1;break}if(m){if(!RS(t,function(b,C){if(!PS(m,C)&&(v===b||a(v,b,r,n,s)))return m.push(C)})){h=!1;break}}else if(!(v===y||a(v,y,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var js=BS;function NS(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var US=NS;function MS(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var zS=MS,bn=ce,vn=ua,jS=rt,QS=js,qS=US,GS=zS,VS=1,HS=2,YS="[object Boolean]",WS="[object Date]",KS="[object Error]",XS="[object Map]",ZS="[object Number]",JS="[object RegExp]",e0="[object Set]",t0="[object String]",r0="[object Symbol]",n0="[object ArrayBuffer]",a0="[object DataView]",En=bn?bn.prototype:void 0,gt=En?En.valueOf:void 0;function s0(e,t,r,n,a,s,o){switch(r){case a0:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case n0:return!(e.byteLength!=t.byteLength||!s(new vn(e),new vn(t)));case YS:case WS:case ZS:return jS(+e,+t);case KS:return e.name==t.name&&e.message==t.message;case JS:case t0:return e==t+"";case XS:var l=qS;case e0:var c=n&VS;if(l||(l=GS),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=HS,o.set(e,t);var f=QS(l(e),l(t),n,a,s,o);return o.delete(e),f;case r0:if(gt)return gt.call(e)==gt.call(t)}return!1}var i0=s0,Sn=la,o0=1,l0=Object.prototype,u0=l0.hasOwnProperty;function c0(e,t,r,n,a,s){var o=r&o0,l=Sn(e),c=l.length,d=Sn(t),f=d.length;if(c!=f&&!o)return!1;for(var p=c;p--;){var h=l[p];if(!(o?h in t:u0.call(t,h)))return!1}var m=s.get(e),v=s.get(t);if(m&&v)return m==t&&v==e;var y=!0;s.set(e,t),s.set(t,e);for(var _=o;++p<c;){h=l[p];var b=e[h],C=t[h];if(n)var I=o?n(C,b,h,t,e,s):n(b,C,h,e,t,s);if(!(I===void 0?b===C||a(b,C,r,n,s):I)){y=!1;break}_||(_=h=="constructor")}if(y&&!_){var k=e.constructor,j=t.constructor;k!=j&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof j=="function"&&j instanceof j)&&(y=!1)}return s.delete(e),s.delete(t),y}var d0=c0,yt=tr,f0=js,p0=i0,h0=d0,_n=$e,Cn=D,$n=et,m0=Gt,g0=1,xn="[object Arguments]",wn="[object Array]",De="[object Object]",y0=Object.prototype,Tn=y0.hasOwnProperty;function b0(e,t,r,n,a,s){var o=Cn(e),l=Cn(t),c=o?wn:_n(e),d=l?wn:_n(t);c=c==xn?De:c,d=d==xn?De:d;var f=c==De,p=d==De,h=c==d;if(h&&$n(e)){if(!$n(t))return!1;o=!0,f=!1}if(h&&!f)return s||(s=new yt),o||m0(e)?f0(e,t,r,n,a,s):p0(e,t,c,r,n,a,s);if(!(r&g0)){var m=f&&Tn.call(e,"__wrapped__"),v=p&&Tn.call(t,"__wrapped__");if(m||v){var y=m?e.value():e,_=v?t.value():t;return s||(s=new yt),a(y,_,r,n,s)}}return h?(s||(s=new yt),h0(e,t,r,n,a,s)):!1}var v0=b0,E0=v0,In=q;function Qs(e,t,r,n,a){return e===t?!0:e==null||t==null||!In(e)&&!In(t)?e!==e&&t!==t:E0(e,t,r,n,Qs,a)}var qs=Qs,S0=tr,_0=qs,C0=1,$0=2;function x0(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],d=e[c],f=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var p=new S0;if(n)var h=n(d,f,c,e,t,p);if(!(h===void 0?_0(f,d,C0|$0,n,p):h))return!1}}return!0}var w0=x0,T0=H;function I0(e){return e===e&&!T0(e)}var Gs=I0,F0=Gs,A0=Ie;function O0(e){for(var t=A0(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,F0(a)]}return t}var k0=O0;function R0(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Vs=R0,P0=w0,D0=k0,L0=Vs;function B0(e){var t=D0(e);return t.length==1&&t[0][2]?L0(t[0][0],t[0][1]):function(r){return r===e||P0(r,e,t)}}var N0=B0,U0=qs,M0=Xn,z0=Xt,j0=Ht,Q0=Gs,q0=Vs,G0=we,V0=1,H0=2;function Y0(e,t){return j0(e)&&Q0(t)?q0(G0(e),t):function(r){var n=M0(r,e);return n===void 0&&n===t?z0(r,e):U0(t,n,V0|H0)}}var W0=Y0;function K0(e){return function(t){return t==null?void 0:t[e]}}var X0=K0,Z0=Kt;function J0(e){return function(t){return Z0(t,e)}}var e_=J0,t_=X0,r_=e_,n_=Ht,a_=we;function s_(e){return n_(e)?t_(a_(e)):r_(e)}var i_=s_,o_=N0,l_=W0,u_=Jt,c_=D,d_=i_;function f_(e){return typeof e=="function"?e:e==null?u_:typeof e=="object"?c_(e)?l_(e[0],e[1]):o_(e):d_(e)}var Hs=f_,p_=lt,h_=zs,m_=Hs;function g_(e,t){var r={};return t=m_(t),h_(e,function(n,a,s){p_(r,a,t(n,a,s))}),r}var y_=g_;const Ys=O(y_);function te(e){this._maxSize=e,this.clear()}te.prototype.clear=function(){this._size=0,this._values=Object.create(null)};te.prototype.get=function(e){return this._values[e]};te.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var b_=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Ws=/^\d+$/,v_=/^\d/,E_=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,S_=/^\s*(['"]?)(.*?)(\1)\s*$/,vr=512,Fn=new te(vr),An=new te(vr),On=new te(vr),ft={Cache:te,split:Nt,normalizePath:bt,setter:function(e){var t=bt(e);return An.get(e)||An.set(e,function(n,a){for(var s=0,o=t.length,l=n;s<o-1;){var c=t[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[t[s++]]}l[t[s]]=a})},getter:function(e,t){var r=bt(e);return On.get(e)||On.set(e,function(a){for(var s=0,o=r.length;s<o;)if(a!=null||!t)a=a[r[s++]];else return;return a})},join:function(e){return e.reduce(function(t,r){return t+(Er(r)||Ws.test(r)?"["+r+"]":(t?".":"")+r)},"")},forEach:function(e,t,r){__(Array.isArray(e)?e:Nt(e),t,r)}};function bt(e){return Fn.get(e)||Fn.set(e,Nt(e).map(function(t){return t.replace(S_,"$2")}))}function Nt(e){return e.match(b_)||[""]}function __(e,t,r){var n=e.length,a,s,o,l;for(s=0;s<n;s++)a=e[s],a&&(x_(a)&&(a='"'+a+'"'),l=Er(a),o=!l&&/^\d+$/.test(a),t.call(r,a,l,o,s,e))}function Er(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function C_(e){return e.match(v_)&&!e.match(Ws)}function $_(e){return E_.test(e)}function x_(e){return!Er(e)&&(C_(e)||$_(e))}const Le={context:"$",value:"."};class W{constructor(t,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Le.context,this.isValue=this.key[0]===Le.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Le.context:this.isValue?Le.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&ft.getter(this.path,!0),this.map=r.map}getValue(t,r,n){let a=this.isContext?n:this.isValue?t:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(t,r){return this.getValue(t,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}W.prototype.__isYupRef=!0;function We(){return We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},We.apply(this,arguments)}function w_(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Be(e){function t(r,n){let{value:a,path:s="",label:o,options:l,originalValue:c,sync:d}=r,f=w_(r,["value","path","label","options","originalValue","sync"]);const{name:p,test:h,params:m,message:v}=e;let{parent:y,context:_}=l;function b(F){return W.isRef(F)?F.getValue(a,y,_):F}function C(F={}){const X=Ys(We({value:a,originalValue:c,label:o,path:F.path||s},m,F.params),b),Oe=new P(P.formatError(F.message||v,X),a,X.path,F.type||p);return Oe.params=X,Oe}let I=We({path:s,parent:y,type:p,createError:C,resolve:b,options:l,originalValue:c},f);if(!d){try{Promise.resolve(h.call(I,a,I)).then(F=>{P.isError(F)?n(F):F?n(null,F):n(C())}).catch(n)}catch(F){n(F)}return}let k;try{var j;if(k=h.call(I,a,I),typeof((j=k)==null?void 0:j.then)=="function")throw new Error(`Validation test of type: "${I.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(F){n(F);return}P.isError(k)?n(k):k?n(null,k):n(C())}return t.OPTIONS=e,t}let T_=e=>e.substr(0,e.length-1).substr(1);function I_(e,t,r,n=r){let a,s,o;return t?(ft.forEach(t,(l,c,d)=>{let f=c?T_(l):l;if(e=e.resolve({context:n,parent:a,value:r}),e.innerType){let p=d?parseInt(f,10):0;if(r&&p>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${t}. because there is no value at that index. `);a=r,r=r&&r[p],e=e.innerType}if(!d){if(!e.fields||!e.fields[f])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e._type}")`);a=r,r=r&&r[f],e=e.fields[f]}s=f,o=c?"["+l+"]":"."+l}),{schema:e,parent:a,parentPath:s}):{parent:a,parentPath:t,schema:e}}class Ke{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const t=[];for(const r of this.list)t.push(r);for(const[,r]of this.refs)t.push(r.describe());return t}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(t){return this.toArray().reduce((r,n)=>r.concat(W.isRef(n)?t(n):n),[])}add(t){W.isRef(t)?this.refs.set(t.key,t):this.list.add(t)}delete(t){W.isRef(t)?this.refs.delete(t.key):this.list.delete(t)}clone(){const t=new Ke;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}merge(t,r){const n=this.clone();return t.list.forEach(a=>n.add(a)),t.refs.forEach(a=>n.add(a)),r.list.forEach(a=>n.delete(a)),r.refs.forEach(a=>n.delete(a)),n}}function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B.apply(this,arguments)}class R{constructor(t){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new Ke,this._blacklist=new Ke,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(J.notType)}),this.type=(t==null?void 0:t.type)||"mixed",this.spec=B({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},t==null?void 0:t.spec)}get _type(){return this.type}_typeCheck(t){return!0}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeError=this._typeError,r._whitelistError=this._whitelistError,r._blacklistError=this._blacklistError,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.exclusiveTests=B({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Rt(B({},this.spec,t)),r}label(t){let r=this.clone();return r.spec.label=t,r}meta(...t){if(t.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},t[0]),r}withMutation(t){let r=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=r,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let r=this,n=t.clone();const a=B({},r.spec,n.spec);return n.spec=a,n._typeError||(n._typeError=r._typeError),n._whitelistError||(n._whitelistError=r._whitelistError),n._blacklistError||(n._blacklistError=r._blacklistError),n._whitelist=r._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=r._blacklist.merge(t._blacklist,t._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{t.tests.forEach(o=>{s.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(t){return this.spec.nullable&&t===null?!0:this._typeCheck(t)}resolve(t){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,t),r),r=r.resolve(t)}return r}cast(t,r={}){let n=this.resolve(B({value:t},r)),a=n._cast(t,r);if(t!==void 0&&r.assert!==!1&&n.isType(a)!==!0){let s=Ce(t),o=Ce(a);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n._type}". 

attempted value: ${s} 
`+(o!==s?`result of cast: ${o}`:""))}return a}_cast(t,r){let n=t===void 0?t:this.transforms.reduce((a,s)=>s.call(this,a,t,this),t);return n===void 0&&(n=this.getDefault()),n}_validate(t,r={},n){let{sync:a,path:s,from:o=[],originalValue:l=t,strict:c=this.spec.strict,abortEarly:d=this.spec.abortEarly}=r,f=t;c||(f=this._cast(f,B({assert:!1},r)));let p={value:f,path:s,options:r,originalValue:l,schema:this,label:this.spec.label,sync:a,from:o},h=[];this._typeError&&h.push(this._typeError);let m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),Bt({args:p,value:f,path:s,sync:a,tests:h,endEarly:d},v=>{if(v)return void n(v,f);Bt({tests:this.tests.concat(m),args:p,path:s,sync:a,value:f,endEarly:d},n)})}validate(t,r,n){let a=this.resolve(B({},r,{value:t}));return typeof n=="function"?a._validate(t,r,n):new Promise((s,o)=>a._validate(t,r,(l,c)=>{l?o(l):s(c)}))}validateSync(t,r){let n=this.resolve(B({},r,{value:t})),a;return n._validate(t,B({},r,{sync:!0}),(s,o)=>{if(s)throw s;a=o}),a}isValid(t,r){return this.validate(t,r).then(()=>!0,n=>{if(P.isError(n))return!1;throw n})}isValidSync(t,r){try{return this.validateSync(t,r),!0}catch(n){if(P.isError(n))return!1;throw n}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):Rt(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){let r=this.clone();return r.spec.strict=t,r}_isPresent(t){return t!=null}defined(t=J.defined){return this.test({message:t,name:"defined",exclusive:!0,test(r){return r!==void 0}})}required(t=J.required){return this.clone({presence:"required"}).withMutation(r=>r.test({message:t,name:"required",exclusive:!0,test(n){return this.schema._isPresent(n)}}))}notRequired(){let t=this.clone({presence:"optional"});return t.tests=t.tests.filter(r=>r.OPTIONS.name!=="required"),t}nullable(t=!0){return this.clone({nullable:t!==!1})}transform(t){let r=this.clone();return r.transforms.push(t),r}test(...t){let r;if(t.length===1?typeof t[0]=="function"?r={test:t[0]}:r=t[0]:t.length===2?r={name:t[0],test:t[1]}:r={name:t[0],message:t[1],test:t[2]},r.message===void 0&&(r.message=J.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=Be(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(s||o.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(t,r){!Array.isArray(t)&&typeof t!="string"&&(r=t,t=".");let n=this.clone(),a=Ms(t).map(s=>new W(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(new lS(a,r)),n}typeError(t){let r=this.clone();return r._typeError=Be({message:t,name:"typeError",test(n){return n!==void 0&&!this.schema.isType(n)?this.createError({params:{type:this.schema._type}}):!0}}),r}oneOf(t,r=J.oneOf){let n=this.clone();return t.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n._whitelistError=Be({message:r,name:"oneOf",test(a){if(a===void 0)return!0;let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(a)?!0:this.createError({params:{values:s.toArray().join(", "),resolved:o}})}}),n}notOneOf(t,r=J.notOneOf){let n=this.clone();return t.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n._blacklistError=Be({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(a)?this.createError({params:{values:s.toArray().join(", "),resolved:o}}):!0}}),n}strip(t=!0){let r=this.clone();return r.spec.strip=t,r}describe(){const t=this.clone(),{label:r,meta:n}=t.spec;return{meta:n,label:r,type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(s=>({name:s.OPTIONS.name,params:s.OPTIONS.params})).filter((s,o,l)=>l.findIndex(c=>c.name===s.name)===o)}}}R.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])R.prototype[`${e}At`]=function(t,r,n={}){const{parent:a,parentPath:s,schema:o}=I_(this,t,r,n.context);return o[e](a&&a[s],B({},n,{parent:a,path:t}))};for(const e of["equals","is"])R.prototype[e]=R.prototype.oneOf;for(const e of["not","nope"])R.prototype[e]=R.prototype.notOneOf;R.prototype.optional=R.prototype.notRequired;const F_=R;F_.prototype;const M=e=>e==null;let A_=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,O_=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,k_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,R_=e=>M(e)||e===e.trim(),P_={}.toString();function Se(){return new Ks}class Ks extends R{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(t){if(this.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===P_?t:r})})}_typeCheck(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}_isPresent(t){return super._isPresent(t)&&!!t.length}length(t,r=U.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:t},test(n){return M(n)||n.length===this.resolve(t)}})}min(t,r=U.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:t},test(n){return M(n)||n.length>=this.resolve(t)}})}max(t,r=U.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:t},test(n){return M(n)||n.length<=this.resolve(t)}})}matches(t,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||U.matches,params:{regex:t},test:o=>M(o)||o===""&&n||o.search(t)!==-1})}email(t=U.email){return this.matches(A_,{name:"email",message:t,excludeEmptyString:!0})}url(t=U.url){return this.matches(O_,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=U.uuid){return this.matches(k_,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=U.trim){return this.transform(r=>r!=null?r.trim():r).test({message:t,name:"trim",test:R_})}lowercase(t=U.lowercase){return this.transform(r=>M(r)?r:r.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,test:r=>M(r)||r===r.toLowerCase()})}uppercase(t=U.uppercase){return this.transform(r=>M(r)?r:r.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,test:r=>M(r)||r===r.toUpperCase()})}}Se.prototype=Ks.prototype;var D_=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function L_(e){var t=[1,4,5,6,7,10,11],r=0,n,a;if(a=D_.exec(e)){for(var s=0,o;o=t[s];++s)a[o]=+a[o]||0;a[2]=(+a[2]||1)-1,a[3]=+a[3]||1,a[7]=a[7]?String(a[7]).substr(0,3):0,(a[8]===void 0||a[8]==="")&&(a[9]===void 0||a[9]==="")?n=+new Date(a[1],a[2],a[3],a[4],a[5],a[6],a[7]):(a[8]!=="Z"&&a[9]!==void 0&&(r=a[10]*60+a[11],a[9]==="+"&&(r=0-r)),n=Date.UTC(a[1],a[2],a[3],a[4],a[5]+r,a[6],a[7]))}else n=Date.parse?Date.parse(e):NaN;return n}let Xs=new Date(""),B_=e=>Object.prototype.toString.call(e)==="[object Date]";class Zs extends R{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(t){return this.isType(t)?t:(t=L_(t),isNaN(t)?Xs:new Date(t))})})}_typeCheck(t){return B_(t)&&!isNaN(t.getTime())}prepareParam(t,r){let n;if(W.isRef(t))n=t;else{let a=this.cast(t);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(t,r=Pt.min){let n=this.prepareParam(t,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:t},test(a){return M(a)||a>=this.resolve(n)}})}max(t,r=Pt.max){let n=this.prepareParam(t,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:t},test(a){return M(a)||a<=this.resolve(n)}})}}Zs.INVALID_DATE=Xs;Zs.prototype;function N_(e,t,r,n){var a=-1,s=e==null?0:e.length;for(n&&s&&(r=e[++a]);++a<s;)r=t(r,e[a],a,e);return r}var U_=N_;function M_(e){return function(t){return e==null?void 0:e[t]}}var z_=M_,j_=z_,Q_={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},q_=j_(Q_),G_=q_,V_=G_,H_=xe,Y_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,W_="\\u0300-\\u036f",K_="\\ufe20-\\ufe2f",X_="\\u20d0-\\u20ff",Z_=W_+K_+X_,J_="["+Z_+"]",eC=RegExp(J_,"g");function tC(e){return e=H_(e),e&&e.replace(Y_,V_).replace(eC,"")}var rC=tC,nC=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function aC(e){return e.match(nC)||[]}var sC=aC,iC=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function oC(e){return iC.test(e)}var lC=oC,Js="\\ud800-\\udfff",uC="\\u0300-\\u036f",cC="\\ufe20-\\ufe2f",dC="\\u20d0-\\u20ff",fC=uC+cC+dC,ei="\\u2700-\\u27bf",ti="a-z\\xdf-\\xf6\\xf8-\\xff",pC="\\xac\\xb1\\xd7\\xf7",hC="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mC="\\u2000-\\u206f",gC=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ri="A-Z\\xc0-\\xd6\\xd8-\\xde",yC="\\ufe0e\\ufe0f",ni=pC+hC+mC+gC,ai="['’]",kn="["+ni+"]",bC="["+fC+"]",si="\\d+",vC="["+ei+"]",ii="["+ti+"]",oi="[^"+Js+ni+si+ei+ti+ri+"]",EC="\\ud83c[\\udffb-\\udfff]",SC="(?:"+bC+"|"+EC+")",_C="[^"+Js+"]",li="(?:\\ud83c[\\udde6-\\uddff]){2}",ui="[\\ud800-\\udbff][\\udc00-\\udfff]",ae="["+ri+"]",CC="\\u200d",Rn="(?:"+ii+"|"+oi+")",$C="(?:"+ae+"|"+oi+")",Pn="(?:"+ai+"(?:d|ll|m|re|s|t|ve))?",Dn="(?:"+ai+"(?:D|LL|M|RE|S|T|VE))?",ci=SC+"?",di="["+yC+"]?",xC="(?:"+CC+"(?:"+[_C,li,ui].join("|")+")"+di+ci+")*",wC="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",TC="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",IC=di+ci+xC,FC="(?:"+[vC,li,ui].join("|")+")"+IC,AC=RegExp([ae+"?"+ii+"+"+Pn+"(?="+[kn,ae,"$"].join("|")+")",$C+"+"+Dn+"(?="+[kn,ae+Rn,"$"].join("|")+")",ae+"?"+Rn+"+"+Pn,ae+"+"+Dn,TC,wC,si,FC].join("|"),"g");function OC(e){return e.match(AC)||[]}var kC=OC,RC=sC,PC=lC,DC=xe,LC=kC;function BC(e,t,r){return e=DC(e),t=r?void 0:t,t===void 0?PC(e)?LC(e):RC(e):e.match(t)||[]}var NC=BC,UC=U_,MC=rC,zC=NC,jC="['’]",QC=RegExp(jC,"g");function qC(e){return function(t){return UC(zC(MC(t).replace(QC,"")),e,"")}}var fi=qC,GC=fi,VC=GC(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),HC=VC;const Ln=O(HC);function YC(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var WC=YC,KC=WC;function XC(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:KC(e,t,r)}var ZC=XC,JC="\\ud800-\\udfff",e$="\\u0300-\\u036f",t$="\\ufe20-\\ufe2f",r$="\\u20d0-\\u20ff",n$=e$+t$+r$,a$="\\ufe0e\\ufe0f",s$="\\u200d",i$=RegExp("["+s$+JC+n$+a$+"]");function o$(e){return i$.test(e)}var pi=o$;function l$(e){return e.split("")}var u$=l$,hi="\\ud800-\\udfff",c$="\\u0300-\\u036f",d$="\\ufe20-\\ufe2f",f$="\\u20d0-\\u20ff",p$=c$+d$+f$,h$="\\ufe0e\\ufe0f",m$="["+hi+"]",Ut="["+p$+"]",Mt="\\ud83c[\\udffb-\\udfff]",g$="(?:"+Ut+"|"+Mt+")",mi="[^"+hi+"]",gi="(?:\\ud83c[\\udde6-\\uddff]){2}",yi="[\\ud800-\\udbff][\\udc00-\\udfff]",y$="\\u200d",bi=g$+"?",vi="["+h$+"]?",b$="(?:"+y$+"(?:"+[mi,gi,yi].join("|")+")"+vi+bi+")*",v$=vi+bi+b$,E$="(?:"+[mi+Ut+"?",Ut,gi,yi,m$].join("|")+")",S$=RegExp(Mt+"(?="+Mt+")|"+E$+v$,"g");function _$(e){return e.match(S$)||[]}var C$=_$,$$=u$,x$=pi,w$=C$;function T$(e){return x$(e)?w$(e):$$(e)}var I$=T$,F$=ZC,A$=pi,O$=I$,k$=xe;function R$(e){return function(t){t=k$(t);var r=A$(t)?O$(t):void 0,n=r?r[0]:t.charAt(0),a=r?F$(r,1).join(""):t.slice(1);return n[e]()+a}}var P$=R$,D$=P$,L$=D$("toUpperCase"),B$=L$,N$=xe,U$=B$;function M$(e){return U$(N$(e).toLowerCase())}var z$=M$,j$=z$,Q$=fi,q$=Q$(function(e,t,r){return t=t.toLowerCase(),e+(r?j$(t):t)}),G$=q$;const V$=O(G$);var H$=lt,Y$=zs,W$=Hs;function K$(e,t){var r={};return t=W$(t),Y$(e,function(n,a,s){H$(r,t(n,a,s),n)}),r}var X$=K$;const Z$=O(X$);var Sr={exports:{}};Sr.exports=function(e){return Ei(J$(e),e)};Sr.exports.array=Ei;function Ei(e,t){var r=e.length,n=new Array(r),a={},s=r,o=e1(t),l=t1(e);for(t.forEach(function(d){if(!l.has(d[0])||!l.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(e[s],s,new Set);return n;function c(d,f,p){if(p.has(d)){var h;try{h=", node was:"+JSON.stringify(d)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!l.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!a[f]){a[f]=!0;var m=o.get(d)||new Set;if(m=Array.from(m),f=m.length){p.add(d);do{var v=m[--f];c(v,l.get(v),p)}while(f);p.delete(d)}n[--r]=d}}}function J$(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var a=e[r];t.add(a[0]),t.add(a[1])}return Array.from(t)}function e1(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var a=e[r];t.has(a[0])||t.set(a[0],new Set),t.has(a[1])||t.set(a[1],new Set),t.get(a[0]).add(a[1])}return t}function t1(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}var r1=Sr.exports;const n1=O(r1);function a1(e,t=[]){let r=[],n=new Set,a=new Set(t.map(([o,l])=>`${o}-${l}`));function s(o,l){let c=ft.split(o)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const o in e)if(He(e,o)){let l=e[o];n.add(o),W.isRef(l)&&l.isSibling?s(l.path,o):Us(l)&&"deps"in l&&l.deps.forEach(c=>s(c,o))}return n1.array(Array.from(n),r).reverse()}function Bn(e,t){let r=1/0;return e.some((n,a)=>{var s;if(((s=t.path)==null?void 0:s.indexOf(n))!==-1)return r=a,!0}),r}function Si(e){return(t,r)=>Bn(e,t)-Bn(e,r)}function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},se.apply(this,arguments)}let Nn=e=>Object.prototype.toString.call(e)==="[object Object]";function s1(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(n=>r.indexOf(n)===-1)}const i1=Si([]);class _i extends R{constructor(t){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=i1,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(n){if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}return this.isType(n)?n:null}),t&&this.shape(t)})}_typeCheck(t){return Nn(t)||typeof t=="function"}_cast(t,r={}){var n;let a=super._cast(t,r);if(a===void 0)return this.getDefault();if(!this._typeCheck(a))return a;let s=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=this._nodes.concat(Object.keys(a).filter(p=>this._nodes.indexOf(p)===-1)),c={},d=se({},r,{parent:c,__validating:r.__validating||!1}),f=!1;for(const p of l){let h=s[p],m=He(a,p);if(h){let v,y=a[p];d.path=(r.path?`${r.path}.`:"")+p,h=h.resolve({value:y,context:r.context,parent:c});let _="spec"in h?h.spec:void 0,b=_==null?void 0:_.strict;if(_!=null&&_.strip){f=f||p in a;continue}v=!r.__validating||!b?h.cast(a[p],d):a[p],v!==void 0&&(c[p]=v)}else m&&!o&&(c[p]=a[p]);c[p]!==a[p]&&(f=!0)}return f?c:a}_validate(t,r={},n){let a=[],{sync:s,from:o=[],originalValue:l=t,abortEarly:c=this.spec.abortEarly,recursive:d=this.spec.recursive}=r;o=[{schema:this,value:l},...o],r.__validating=!0,r.originalValue=l,r.from=o,super._validate(t,r,(f,p)=>{if(f){if(!P.isError(f)||c)return void n(f,p);a.push(f)}if(!d||!Nn(p)){n(a[0]||null,p);return}l=l||p;let h=this._nodes.map(m=>(v,y)=>{let _=m.indexOf(".")===-1?(r.path?`${r.path}.`:"")+m:`${r.path||""}["${m}"]`,b=this.fields[m];if(b&&"validate"in b){b.validate(p[m],se({},r,{path:_,from:o,strict:!0,parent:p,originalValue:l[m]}),y);return}y(null)});Bt({sync:s,tests:h,value:p,errors:a,endEarly:c,sort:this._sortErrors,path:r.path},n)})}clone(t){const r=super.clone(t);return r.fields=se({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(t){let r=super.concat(t),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const o=n[a];o===void 0?n[a]=s:o instanceof R&&s instanceof R&&(n[a]=s.concat(o))}return r.withMutation(()=>r.shape(n,this._excludedEdges))}getDefaultFromShape(){let t={};return this._nodes.forEach(r=>{const n=this.fields[r];t[r]="default"in n?n.getDefault():void 0}),t}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(t,r=[]){let n=this.clone(),a=Object.assign(n.fields,t);return n.fields=a,n._sortErrors=Si(Object.keys(a)),r.length&&(Array.isArray(r[0])||(r=[r]),n._excludedEdges=[...n._excludedEdges,...r]),n._nodes=a1(a,n._excludedEdges),n}pick(t){const r={};for(const n of t)this.fields[n]&&(r[n]=this.fields[n]);return this.clone().withMutation(n=>(n.fields={},n.shape(r)))}omit(t){const r=this.clone(),n=r.fields;r.fields={};for(const a of t)delete n[a];return r.withMutation(()=>r.shape(n))}from(t,r,n){let a=ft.getter(t,!0);return this.transform(s=>{if(s==null)return s;let o=s;return He(s,t)&&(o=se({},s),n||delete o[t],o[r]=a(s)),o})}noUnknown(t=!0,r=Dt.noUnknown){typeof t=="string"&&(r=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=s1(this.schema,a);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,r=Dt.noUnknown){return this.noUnknown(!t,r)}transformKeys(t){return this.transform(r=>r&&Z$(r,(n,a)=>t(a)))}camelCase(){return this.transformKeys(V$)}snakeCase(){return this.transformKeys(Ln)}constantCase(){return this.transformKeys(t=>Ln(t).toUpperCase())}describe(){let t=super.describe();return t.fields=Ys(this.fields,r=>r.describe()),t}}function Me(e){return new _i(e)}Me.prototype=_i.prototype;const o1={task:{title:"",description:"",mode:"import",status:"created",startTime:null,endTime:null,recordType:"",serializer:""},metadata:null,files:[]},l1=Me({task:Me({title:Se().required("Title is required"),recordType:Se().required("Record type is required"),serializer:Se().required("Serializer is required"),mode:Se().required("Mode is required")}),metadata:Me().nullable()}),u1=({onSubmit:e})=>{const[t,r]=g.useState(void 0),n=async a=>{try{await RE(a.task,a.metadata,a.files,{autoValidate:!!a.metadata,onProgress(s,o){r({[s]:o})}}),e==null||e()}catch(s){throw console.error("Error creating import task:",s),s}};return i.default.createElement(ne.BaseForm,{formik:{initialValues:o1,validationSchema:l1,onSubmit:n}},i.default.createElement(qE,{progress:t}))},Ci=()=>{const[e,t]=g.useState(!1),{refreshSearch:r}=Ae(),n=g.useCallback(()=>{r(),t(!1)},[r]);return i.default.createElement(u.Modal,{closeIcon:!0,onClose:()=>t(!1),onOpen:()=>t(!0),open:e,trigger:i.default.createElement(u.Button,{color:"green",icon:!0,labelPosition:"left"},i.default.createElement(u.Icon,{name:"add"}),"New Import")},i.default.createElement(u.ModalHeader,null,"New Import Task"),i.default.createElement(u.ModalContent,null,i.default.createElement(u1,{onSubmit:n})))},vt={searchBarRow:E({display:"flex !important",flexWrap:"wrap",alignItems:"center",gap:"1rem",paddingBlock:"0.5rem",minBlockSize:"3rem"}),facets:E({flex:"0 0 auto"}),search:E({flex:"1 1 auto",minInlineSize:"15rem"}),visuallyHidden:E({srOnly:!0})},c1=({appId:e="search"})=>{const{showImportModal:t}=Ae().config;return i.default.createElement(S.default,{id:`${e}.SearchBarRow`},i.default.createElement("section",{className:vt.searchBarRow,"aria-label":"Records search and filters"},i.default.createElement("div",{className:vt.search},i.default.createElement(Ov,{autofocus:!0,actionProps:{icon:"search",content:"Search",className:"search","aria-label":"Submit search",type:"submit"},placeholder:"Search…","aria-describedby":"search-instructions"})),t&&i.default.createElement("div",{className:vt.facets},i.default.createElement(Ci,null))))},d1=({currentResultsState:e})=>{var a;const t=((a=e==null?void 0:e.data)==null?void 0:a.aggregations)||{},r=g.useCallback(s=>s.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase()),[]);return{availableAggregations:g.useMemo(()=>Object.keys(t).filter(s=>{var l;return(((l=t[s])==null?void 0:l.buckets)||[]).length>0}),[t]),formatTitle:r}},f1={container:E({minInlineSize:"20rem",paddingInlineEnd:"1rem",paddingBlock:".5rem",flex:0})},p1=e=>{const{config:t}=Ae(),{availableAggregations:r,formatTitle:n}=d1(e);return!t.showFacets||r.length===0?null:i.default.createElement("aside",{className:f1.container,"aria-label":"Search Facets"},r.map(a=>i.default.createElement(ov,{key:a,title:n(a),agg:{field:a,aggName:a}})))},h1=dr(p1),m1=()=>{const{config:e}=Ae();return i.default.createElement(u.Grid,null,i.default.createElement(u.Grid.Row,{verticalAlign:"middle"},i.default.createElement(u.Grid.Column,{width:14,textAlign:"center"},i.default.createElement(yv,{options:{size:"mini"}})),i.default.createElement(u.Grid.Column,{width:2,textAlign:"right"},i.default.createElement(Iv,{values:e.paginationOptions.resultsPerPage,label:t=>i.default.createElement("p",null,t," results per page")}))))},_r=({config:e={},overriddenComponents:t={}})=>{var s,o,l,c,d;const r={...V,...e,initialQueryState:{...V.initialQueryState,...e.initialQueryState},layoutOptions:{...V.layoutOptions,...e.layoutOptions},paginationOptions:{...V.paginationOptions,...e.paginationOptions,resultsPerPage:((s=e.paginationOptions)==null?void 0:s.resultsPerPage)||V.paginationOptions.resultsPerPage},searchApi:{...V.searchApi,...e.searchApi,axios:{...V.searchApi.axios,...(o=e.searchApi)==null?void 0:o.axios,headers:{...V.searchApi.axios.headers,...(c=(l=e.searchApi)==null?void 0:l.axios)==null?void 0:c.headers}},invenio:{...V.searchApi.invenio,...(d=e.searchApi)==null?void 0:d.invenio}},showFacets:e.showFacets??!0,showImportModal:e.showImportModal??!0,showSearchFooter:e.showSearchFooter??!0},n=new ya(r.searchApi),a={[`${r.appId}.ResultsList.item`]:LE,[`${r.appId}.ResultsList.container`]:BE,[`${r.appId}.BucketAggregation.element`]:gE,[`${r.appId}.BucketAggregationValues.element`]:yE,...t};return i.default.createElement(Un.OverridableContext.Provider,{value:a},i.default.createElement(Hb,{appName:r.appId,searchApi:n,initialQueryState:r.initialQueryState},i.default.createElement(vE,{config:r},i.default.createElement("div",{className:gn.searchLayout},i.default.createElement(h1,null),i.default.createElement("div",{className:gn.searchContent},i.default.createElement(c1,{appId:r.appId}),i.default.createElement(jE,null),i.default.createElement($v,null,i.default.createElement(dv,null),i.default.createElement(Ja,null)),r.showSearchFooter&&i.default.createElement(m1,null))))))},g1=e=>g.useMemo(()=>{const{totalRecords:t,validatedRecords:r,errorRecords:n,successRecords:a}=e,s=t>0?r/t*100:0,o=t>0?n/t*100:0,l=t>0?a/t*100:0;return[{color:"blue",icon:"check circle",title:"Validation",value:r,label:`of ${t} Validated`,progress:s,progressLabel:`${s.toFixed(1)}% Complete`},{color:"red",icon:"exclamation triangle",title:"Errors",value:n,label:"with Errors",progress:o,progressLabel:`${o.toFixed(1)}% of Total`},{color:"green",icon:"upload",title:"Import",value:a,label:"Successfully Imported",progress:l,progressLabel:`${l.toFixed(1)}% Complete`}]},[e]),Et={statistic:E({marginBlock:"1rem"}),progressLabel:E({marginBlockEnd:"0.5rem"}),progress:E({marginBlockEnd:"0.5rem"})},y1=({totalRecords:e=0,validatedRecords:t=0,errorRecords:r=0,successRecords:n=0,showWhenEmpty:a=!1,className:s="",style:o={}})=>{const l=g1({totalRecords:e,validatedRecords:t,errorRecords:r,successRecords:n});return e===0&&!a?null:i.default.createElement(u.Segment,{basic:!0,className:s,style:o},i.default.createElement(u.Grid,{columns:3,stackable:!0},l.map(c=>i.default.createElement(u.Grid.Column,{key:c.title},i.default.createElement(u.Card,{fluid:!0},i.default.createElement(u.Card.Content,null,i.default.createElement(u.Card.Header,{textAlign:"center"},c.title),i.default.createElement(u.Card.Description,{textAlign:"center"},i.default.createElement(u.Statistic,{size:"large",color:c.color,className:Et.statistic},i.default.createElement(u.Statistic.Value,null,c.value),i.default.createElement(u.Statistic.Label,null,c.label)),i.default.createElement(u.Segment,{basic:!0,textAlign:"center"},i.default.createElement(u.Segment.Inline,{basic:!0,size:"small",className:Et.progressLabel},c.progressLabel),i.default.createElement(u.Progress,{percent:c.progress,color:c.color,size:"small",className:Et.progress})))))))))},b1={container:E({paddingBlockStart:"1rem",display:"flex",flexDirection:"column",gap:"1rem"})},$i=g.createContext(void 0),v1=({taskId:e,children:t})=>i.default.createElement($i.Provider,{value:{taskId:e}},i.default.createElement("div",{className:b1.container},t)),xi=()=>{const e=g.useContext($i);if(!e)throw new Error("useTaskDetails must be used within a TaskDetailsProvider");return e},St={headerContainer:E({display:"flex",alignItems:"flex-start",gap:"0.5rem"}),headerContent:E({display:"flex",flexDirection:"column",alignItems:"flex-start"}),actionsContainer:E({display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center",gap:"1rem"})},E1=({children:e})=>i.default.createElement(u.Table,{padded:!0,size:"small",compact:!0},i.default.createElement(u.TableHeader,null,i.default.createElement(u.TableRow,null,i.default.createElement(u.TableHeaderCell,null,"ID"),i.default.createElement(u.TableHeaderCell,null,"Title"),i.default.createElement(u.TableHeaderCell,null,"Status"),i.default.createElement(u.TableHeaderCell,null))),i.default.createElement(u.TableBody,null,e)),S1={headerContainer:E({display:"flex",alignItems:"center",justifyContent:"space-between"})},_1=({record:e})=>i.default.createElement(u.Segment,{basic:!0},i.default.createElement(u.List,null,i.default.createElement(u.List.Item,null,i.default.createElement(u.List.Icon,{name:"tag"}),i.default.createElement(u.List.Content,null,i.default.createElement(u.List.Header,null,"Record ID"),i.default.createElement(u.List.Description,null,e.id))),i.default.createElement(u.List.Item,null,i.default.createElement(u.List.Icon,{name:"calendar"}),i.default.createElement(u.List.Content,null,i.default.createElement(u.List.Header,null,"Created"),i.default.createElement(u.List.Description,null,Ve(e.created)))),i.default.createElement(u.List.Item,null,i.default.createElement(u.List.Icon,{name:"edit"}),i.default.createElement(u.List.Content,null,i.default.createElement(u.List.Header,null,"Updated"),i.default.createElement(u.List.Description,null,Ve(e.updated)))),e.generated_record_id&&i.default.createElement(u.List.Item,null,i.default.createElement(u.List.Icon,{name:"file alternate"}),i.default.createElement(u.List.Content,null,i.default.createElement(u.List.Header,null,"Generated Record ID"),i.default.createElement(u.List.Description,null,i.default.createElement("a",{href:`/records/${e.generated_record_id}`,target:"_blank",rel:"noopener noreferrer"},"/",e.generated_record_id)))))),C1=({record:e})=>i.default.createElement(u.Segment,{basic:!0},e.errors.map((t,r)=>i.default.createElement(u.Message,{key:`error-${r}-${t.type}`,negative:!0},i.default.createElement(u.Message.Header,null,t.type),i.default.createElement("p",null,i.default.createElement("strong",null,"Location:")," ",t.loc),i.default.createElement("p",null,i.default.createElement("strong",null,"Message:")," ",t.msg)))),$1={pathCell:E({wordBreak:"break-all"})},x1=({record:e})=>{var r,n;return(((r=e.record_files)==null?void 0:r.length)??0)>0||(((n=e.validated_record_files)==null?void 0:n.length)??0)>0?i.default.createElement(u.Segment,{basic:!0},e.record_files&&e.record_files.length>0&&i.default.createElement(i.default.Fragment,null,i.default.createElement(u.Header,{as:"h4"},i.default.createElement(u.Icon,{name:"file"}),"File List"),i.default.createElement(u.List,{bulleted:!0},e.record_files.map(a=>i.default.createElement(u.List.Item,{key:`file-${a}`},i.default.createElement(u.List.Content,null,a))))),e.validated_record_files&&e.validated_record_files.length>0&&i.default.createElement(i.default.Fragment,null,i.default.createElement(u.Header,{as:"h4"},i.default.createElement(u.Icon,{name:"checkmark"}),"Validated Files"),i.default.createElement(u.Table,{celled:!0},i.default.createElement(u.Table.Header,null,i.default.createElement(u.Table.Row,null,i.default.createElement(u.Table.HeaderCell,null,"File"),i.default.createElement(u.Table.HeaderCell,null,"Size"),i.default.createElement(u.Table.HeaderCell,null,"Origin"),i.default.createElement(u.Table.HeaderCell,null,"Path"))),i.default.createElement(u.Table.Body,null,e.validated_record_files.map((a,s)=>i.default.createElement(u.Table.Row,{key:`validated-${a.key}-${s}`},i.default.createElement(u.Table.Cell,null,i.default.createElement(u.Icon,{name:"file"}),a.key),i.default.createElement(u.Table.Cell,null,(a.size/1024).toFixed(2)," KB"),i.default.createElement(u.Table.Cell,null,a.origin),i.default.createElement(u.Table.Cell,{className:$1.pathCell},a.full_path))))))):i.default.createElement(u.Message,{info:!0},i.default.createElement(u.Message.Header,null,"No Files"),i.default.createElement("p",null,"No files are associated with this record."))},w1={valueCell:E({wordBreak:"break-word"})},T1=({record:e})=>i.default.createElement(u.Table,{celled:!0,striped:!0},i.default.createElement(u.Table.Header,null,i.default.createElement(u.Table.Row,null,i.default.createElement(u.Table.HeaderCell,null,"Field"),i.default.createElement(u.Table.HeaderCell,null,"Value"))),i.default.createElement(u.Table.Body,null,Object.entries(e.src_data).filter(([t,r])=>r&&r.trim()!=="").map(([t,r])=>i.default.createElement(u.Table.Row,{key:t},i.default.createElement(u.Table.Cell,null,i.default.createElement("strong",null,t)),i.default.createElement(u.Table.Cell,{className:w1.valueCell},r))))),I1=({record:e,open:t,onClose:r,initialTab:n=0})=>{const[a,s]=g.useState(n);g.useEffect(()=>{t&&s(n)},[t,n]);const o=(d,f)=>{const p=typeof f.activeIndex=="number"?f.activeIndex:0;s(p)},l=[{menuItem:{key:"basic",icon:"info circle",content:"Basic Info"},render:()=>i.default.createElement(u.Tab.Pane,null,i.default.createElement(_1,{record:e}))},{menuItem:{key:"source",icon:"database",content:"Source Data"},render:()=>i.default.createElement(u.Tab.Pane,null,i.default.createElement(T1,{record:e}))},...e.errors&&e.errors.length>0?[{menuItem:{key:"errors",icon:"exclamation triangle",content:`Errors (${e.errors.length})`},render:()=>i.default.createElement(u.Tab.Pane,null,i.default.createElement(C1,{record:e}))}]:[],{menuItem:{key:"files",icon:"file",content:"Files"},render:()=>i.default.createElement(u.Tab.Pane,null,i.default.createElement(x1,{record:e}))}],c=()=>{var d,f,p,h,m;return((f=(d=e.serializer_data)==null?void 0:d.metadata)==null?void 0:f.title)||((h=(p=e.transformed_data)==null?void 0:p.metadata)==null?void 0:h.title)||((m=e.src_data)==null?void 0:m.title)||`Record ${e.id}`};return i.default.createElement(u.Modal,{centered:!1,open:t,onClose:r,size:"large",closeIcon:!0},i.default.createElement(u.Modal.Header,null,i.default.createElement("div",{className:S1.headerContainer},i.default.createElement("div",null,i.default.createElement(u.Icon,{name:"file alternate outline"}),c()),i.default.createElement(ws,{status:e.status}))),i.default.createElement(u.Modal.Content,{scrolling:!0},i.default.createElement(u.Tab,{panes:l,activeIndex:a,onTabChange:o})),i.default.createElement(u.Modal.Actions,null,i.default.createElement(u.Button,{onClick:r},i.default.createElement(u.Icon,{name:"close"}),"Close")))},be={idContainer:E({display:"flex",alignItems:"center",gap:"0.5rem"}),codeElement:E({fontSize:"0.9em",color:"#666"}),titleContainer:E({maxInlineSize:"18.75rem"}),noTitle:E({color:"#999"}),errorIcon:E({marginInlineStart:"0.5rem !important",cursor:"help"})},wi=({result:e,index:t})=>{var v;const[r,n]=g.useState("idle"),[a,s]=g.useState(!1),[o,l]=g.useState(0);if(!e)return null;const c=async()=>{try{n("copying"),await navigator.clipboard.writeText(e.id),n("copied"),setTimeout(()=>{n("idle")},2e3)}catch{n("idle")}},d=e.errors&&e.errors.length>0,f=Os(e.status),p=()=>d?2:-1,h=y=>y==="red"?"times":y==="green"||y==="blue"?"check":"question",m=[...d?[{key:"view-errors",text:"View Errors",value:"view-errors",icon:"exclamation triangle",onClick:()=>{l(p()),s(!0)}}]:[],{key:"run",disabled:e.status==="success",text:"Run Record",value:"run",icon:"play",onClick:async()=>{try{await DE(e.id),console.log(`Record ${e.id} is being processed.`)}catch(y){console.error("Error running record:",y)}}},{key:"view-details",text:"View Details",value:"view-details",icon:"info circle",onClick:()=>{l(0),s(!0)}}];return i.default.createElement(u.TableRow,{key:t},i.default.createElement(u.TableCell,null,i.default.createElement("div",{className:be.idContainer},i.default.createElement("code",{className:be.codeElement},e.id.length>20?`${e.id.substring(0,20)}…`:e.id),i.default.createElement(u.Popup,{content:r==="copied"?"Copied!":"Copy ID",trigger:i.default.createElement(u.Button,{size:"mini",circular:!0,icon:!0,loading:r==="copying",onClick:c,color:r==="copied"?"green":void 0},i.default.createElement(u.Icon,{name:r==="copied"?"check":"copy"})),position:"top center",size:"mini"}))),i.default.createElement(u.TableCell,null,i.default.createElement("div",{className:be.titleContainer},((v=e.src_data)==null?void 0:v.title)||i.default.createElement("em",{className:be.noTitle},"No Title Available"))),i.default.createElement(u.TableCell,null,i.default.createElement(u.Label,{color:f,size:"small"},i.default.createElement(u.Icon,{name:h(f)}),oe(e.status)),d&&i.default.createElement(u.Popup,{content:`${e.errors.length} error${e.errors.length>1?"s":""} found`,trigger:i.default.createElement(u.Icon,{name:"exclamation triangle",color:"red",className:be.errorIcon}),position:"top center",size:"mini"})),i.default.createElement(u.TableCell,{textAlign:"right"},i.default.createElement(u.Dropdown,{button:!0,className:"icon",floating:!0,labeled:!0,icon:"ellipsis horizontal",text:"Actions",size:"mini"},i.default.createElement(u.Dropdown.Menu,null,m.map(y=>i.default.createElement(u.Dropdown.Item,{key:y.key,icon:y.icon,text:y.text,disabled:y.disabled,onClick:y.onClick})))),i.default.createElement(I1,{record:e,open:a,onClose:()=>s(!1),initialTab:o})))},F1=()=>{const{taskId:e}=xi(),t={"search.SearchBarRow":()=>null,"search.ResultsList.container":E1,"search.ResultsList.item":wi};return i.default.createElement("div",null,i.default.createElement(u.Header,{as:"h3"},"Task Records"),i.default.createElement(_r,{config:{searchApi:{axios:{url:"/api/importer-records",withCredentials:!0}},initialQueryState:{hiddenParams:[["q",`task.id:${e}`]]},showFacets:!0,showImportModal:!1},overriddenComponents:t}))},Y={hiddenInput:E({display:"none"}),dropZone:E({minBlockSize:"7.5rem",border:"2px dashed #d4d4d5 !important",backgroundColor:"transparent !important",cursor:"pointer",opacity:1}),dropZoneActive:E({border:"2px dashed #2185d0 !important",backgroundColor:"#f8f9fa !important"}),dropZoneDisabled:E({cursor:"not-allowed",opacity:.6}),contentContainer:E({textAlign:"center",paddingBlock:"1.25rem",paddingInline:"1.25rem"}),textContainer:E({marginBlockStart:"0.625rem"}),smallText:E({fontSize:"0.75rem",color:"#666"}),selectedFilesText:E({fontSize:"0.75rem",color:"#2185d0",marginBlockStart:"0.5rem"})},A1=({fileInputRef:e,accept:t,maxFiles:r,maxTotalSize:n,disabled:a=!1,isDragOver:s,uploadFiles:o,onInputChange:l,onDragOver:c,onDragLeave:d,onDrop:f,onFileDialogOpen:p})=>i.default.createElement(g.Fragment,null,i.default.createElement("input",{ref:e,type:"file",multiple:!0,accept:t,onChange:l,className:Y.hiddenInput,disabled:a}),i.default.createElement(u.Segment,{placeholder:!0,className:Is("file-drop-zone",Y.dropZone,{[Y.dropZoneActive]:s,[Y.dropZoneDisabled]:a}),onDragOver:c,onDragLeave:d,onDrop:f,onClick:p},i.default.createElement("div",{className:Y.contentContainer},i.default.createElement(u.Icon,{name:"cloud upload",size:"huge",color:s?"blue":"grey"}),i.default.createElement("div",{className:Y.textContainer},i.default.createElement("p",null,i.default.createElement("strong",null,"Drop files here or click to select")),i.default.createElement("p",{className:Y.smallText},"Max files: ",r," | Max total: ",dt(n)),o.length>0&&i.default.createElement("p",{className:Y.selectedFilesText},i.default.createElement("strong",null,o.length," files selected •"," ",br(o)," total")))))),Ti=({onUploadError:e}={})=>{const[t,r]=g.useState([]),[n]=g.useState(!1),a=g.useCallback((c,d,f)=>f&&c.size===0?"Empty files are not allowed":d&&!d.split(",").map(m=>m.trim()).some(m=>m.startsWith(".")?c.name.toLowerCase().endsWith(m.toLowerCase()):c.type.match(new RegExp(m.replace("*",".*"))))?`File type not accepted. Accepted types: ${d}`:null,[]),s=g.useCallback((c,d,f,p,h)=>{const m=[],v=[];for(const y of c){if(f&&t.length+m.length>=f){v.push(`Maximum ${f} files allowed`);break}const _=a(y,d,h);if(_){v.push(`${y.name}: ${_}`);continue}if(t.some(C=>C.file.name===y.name&&C.file.size===y.size)){v.push(`${y.name}: File already selected`);continue}if(p&&yr([...t,...m])+y.size>p){v.push(`Total size would exceed maximum of ${(p/1024/1024).toFixed(2)}MB`);break}m.push({file:y,id:`${y.name}-${y.size}-${Date.now()}`})}return v.length>0&&(e==null||e(v.join(", "))),r(y=>[...y,...m]),m},[t,a,e]),o=g.useCallback(c=>{r(d=>d.filter(f=>f.id!==c))},[]),l=g.useCallback(()=>{r([])},[]);return{uploadFiles:t,isUploading:n,addFiles:s,removeFile:o,clearFiles:l}},ve={headerContainer:E({display:"flex",justifyContent:"space-between",alignItems:"center",marginBlockEnd:"0.625rem"}),listItemContainer:E({display:"flex",justifyContent:"space-between",alignItems:"center"}),fileContentContainer:E({flex:"1 1 auto"}),fileInfoContainer:E({display:"flex",alignItems:"center",gap:"0.5rem"}),errorMessage:E({marginBlockStart:"0.3125rem"})},O1=({uploadFiles:e,isUploading:t,handleRemoveFile:r,handleClearFiles:n})=>i.default.createElement(u.Segment,null,i.default.createElement("div",{className:ve.headerContainer},i.default.createElement("strong",null,"Selected Files (",e.length,") •"," ",br(e)),i.default.createElement(u.Button,{size:"mini",basic:!0,icon:"trash",content:"Clear All",onClick:n,disabled:t})),i.default.createElement(u.List,{divided:!0},e.map(a=>i.default.createElement(u.List.Item,{key:a.id},i.default.createElement(u.List.Content,null,i.default.createElement("div",{className:ve.listItemContainer},i.default.createElement("div",{className:ve.fileContentContainer},i.default.createElement("div",{className:ve.fileInfoContainer},i.default.createElement(u.Icon,{name:"file"}),i.default.createElement("span",null,a.file.name),i.default.createElement(u.Label,{size:"mini",basic:!0},dt(a.file.size))),a.error&&i.default.createElement(u.Message,{negative:!0,size:"mini",className:ve.errorMessage},a.error)),i.default.createElement(u.Button,{size:"mini",basic:!0,icon:"close",onClick:()=>r(a.id),disabled:t}))))))),Cr=({onChange:e,accept:t=".csv,.json,.xlsx,.txt",maxFiles:r=5,maxTotalSize:n=50*1024*1024,skipEmptyFiles:a=!0,disabled:s=!1,error:o})=>{const l=g.useRef(null),[c,d]=i.default.useState(!1),[f,p]=i.default.useState(null),{uploadFiles:h,isUploading:m,addFiles:v,removeFile:y,clearFiles:_}=Ti({onUploadComplete:T=>{e(T)},onUploadError:T=>{console.error("Upload error:",T),p(T)}}),b=g.useCallback(T=>{if(!T||T.length===0)return;p(null);const pt=Array.from(T),re=v(pt,t,r,n,a);if(re.length>0){const Fi=[...h,...re].map(Ai=>Ai.file);e(Fi)}},[v,t,r,n,a,e,h]),C=g.useCallback(T=>{b(T.target.files),l.current&&(l.current.value="")},[b]),I=g.useCallback(T=>{T.preventDefault(),s||d(!0)},[s]),k=g.useCallback(T=>{T.preventDefault(),d(!1)},[]),j=g.useCallback(T=>{T.preventDefault(),d(!1),!s&&b(T.dataTransfer.files)},[s,b]),F=g.useCallback(()=>{var T;s||(T=l.current)==null||T.click()},[s]),X=g.useCallback(T=>{y(T),p(null);const pt=h.filter(re=>re.id!==T).map(re=>re.file);e(pt)},[y,h,e]),Oe=g.useCallback(()=>{_(),p(null),e([])},[_,e]);return i.default.createElement("div",null,i.default.createElement(A1,{fileInputRef:l,accept:t,maxFiles:r,maxTotalSize:n,isDragOver:c,disabled:s,uploadFiles:h,onInputChange:C,onDragOver:I,onDragLeave:k,onDrop:j,onFileDialogOpen:F}),(o||f)&&i.default.createElement(u.Message,{negative:!0,size:"small"},i.default.createElement(u.Icon,{name:"exclamation triangle"}),o||f),h.length>0&&i.default.createElement(O1,{uploadFiles:h,isUploading:m,handleRemoveFile:X,handleClearFiles:Oe}))},_t={selectedFileInfo:E({marginBlockStart:"0.5rem",color:"#666"}),fieldLabel:E({marginBlockEnd:"0.5rem",fontSize:"0.875rem",fontWeight:"bold"}),actionsContainer:E({display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"0.5rem"})},k1=()=>{const{taskId:e}=xi(),[t,r]=g.useState(null),[n,a]=g.useState([]),[s,o]=g.useState(!1),[l,c]=g.useState(null),d=m=>{var y;const v=((y=m.target.files)==null?void 0:y[0])||null;r(v||null)},f=m=>{a(m)},p=()=>{o(!1),r(null),a([]),c(null)},h=async()=>{if(!(!t&&n.length===0))try{await PE(e,t,n.length>0?n:void 0,{onProgress:(m,v)=>c({[m]:v}),onError:(m,v)=>{console.error(`Error during ${v}:`,m)}}),t&&await Ds(e,{autoExecute:!0,onProgress:(m,v)=>c({[m]:v}),onError:(m,v)=>{console.error(`Error during ${v}:`,m)}}),o(!1),r(null),a([])}catch(m){console.error("Error uploading content:",m)}};return i.default.createElement(u.Modal,{open:s,onOpen:()=>o(!0),onClose:p,size:"small",closeIcon:!0,trigger:i.default.createElement(u.Button,{icon:"upload",size:"tiny",content:"Upload Content"})},i.default.createElement(u.Header,{icon:!0},i.default.createElement(u.Icon,{name:"upload"}),"Upload Metadata & Files"),i.default.createElement(u.Modal.Content,null,i.default.createElement(u.Form,{onSubmit:h},i.default.createElement(u.Form.Field,null,i.default.createElement("label",{htmlFor:"fileInput"},"Select Metadata File (Optional)"),i.default.createElement("input",{id:"fileInput",type:"file",onChange:d,accept:".csv"}),t&&i.default.createElement("div",{className:_t.selectedFileInfo},"Selected: ",t.name)),i.default.createElement(u.Form.Field,null,i.default.createElement("div",{className:_t.fieldLabel},"Additional Files (Optional)"),i.default.createElement(Cr,{value:n,onChange:f,accept:"*",maxTotalSize:10*1024*1024*1024,maxFiles:100})))),i.default.createElement(u.Modal.Actions,null,i.default.createElement("div",{className:_t.actionsContainer},l&&i.default.createElement(hr,{progress:l}),i.default.createElement(u.Button,{onClick:p,color:"grey",disabled:!!l},i.default.createElement(u.Icon,{name:"cancel"}),"Cancel"),i.default.createElement(u.Button,{onClick:h,color:"blue",loading:!!l,disabled:!t&&n.length===0},i.default.createElement(u.Icon,{name:"upload"}),"Upload"))))},Ii=({taskId:e})=>{var h,m,v,y,_,b;const[t,r]=g.useState(null),{getStatus:n,isGettingStatus:a,runBulkImport:s,isBulkImporting:o,error:l}=Bs(e,{onStatusChangeSuccess:r});if(g.useEffect(()=>{n()},[n]),a||o)return i.default.createElement(mr,null);if(!t)return i.default.createElement(u.Message,{warning:!0,icon:!0},i.default.createElement(u.Icon,{name:"search"}),i.default.createElement(u.Message.Content,null,i.default.createElement(u.Message.Header,null,"Task Not Found"),"The requested task could not be found."));const c=((h=t.records_status)==null?void 0:h.total_records)||0,d=((m=t.records_status)==null?void 0:m.validated)||0,f=((v=t.records_status)==null?void 0:v.success)||0,p=(((y=t.records_status)==null?void 0:y["import failed"])||0)+(((_=t.records_status)==null?void 0:_["validation failed"])||0)+(((b=t.records_status)==null?void 0:b["serializer validation failed"])||0);return i.default.createElement(v1,{taskId:e},i.default.createElement(u.Container,{fluid:!0,verticalAlign:"top"},l&&i.default.createElement(u.Message,{negative:!0,icon:!0},i.default.createElement(u.Icon,{name:"exclamation triangle"}),i.default.createElement(u.Message.Content,null,i.default.createElement(u.Message.Header,null,"Error"),(l==null?void 0:l.message)||"An unknown error occurred")),i.default.createElement(u.Grid,null,i.default.createElement(u.Grid.Row,{verticalAlign:"top"},i.default.createElement(u.Grid.Column,{width:8,verticalAlign:"middle"},i.default.createElement("div",{className:St.headerContainer},i.default.createElement(u.Icon,{name:"tasks",circular:!0,size:"big"}),i.default.createElement("div",{className:St.headerContent},i.default.createElement(u.Header,{as:"h2"},i.default.createElement(u.Header.Content,null,t.title)),t.status&&i.default.createElement(gr,{size:"large",status:t.status},oe(t.status))))),i.default.createElement(u.Grid.Column,{width:8,textAlign:"right"},i.default.createElement("div",{className:St.actionsContainer},i.default.createElement("div",null,i.default.createElement(u.Button,{size:"tiny",color:"blue",icon:"refresh",content:"Refresh",onClick:()=>n(),loading:a}),i.default.createElement(k1,null),i.default.createElement(u.Button,{size:"tiny",color:"green",icon:"play",onClick:async()=>{await s(),await n()},loading:o,content:"Run Task"}))))),t.description&&i.default.createElement(u.Grid.Row,null,i.default.createElement(u.Grid.Column,{width:16},i.default.createElement(u.Message,{info:!0,icon:!0,size:"small"},i.default.createElement(u.Icon,{name:"info circle"}),i.default.createElement(u.Message.Content,null,i.default.createElement(u.Message.Header,null,"Notes"),t.description))))),c>0&&i.default.createElement(u.Segment,{basic:!0},i.default.createElement(y1,{totalRecords:c,validatedRecords:d,errorRecords:p,successRecords:f}))),i.default.createElement(F1,null))},R1={Search:_r,TaskDetails:Ii},P1={CREATED:"created",VALIDATING:"validating",SERIALIZER_VALIDATION_FAILED:"serializer validation failed",VALIDATION_FAILED:"validation failed",VALIDATED:"validated",IMPORT_FAILED:"import failed",IMPORTED:"success"},D1={CREATED:"created",VALIDATING:"validating",VALIDATION_FAILED:"validated with failures",VALIDATED:"validated",IMPORTING:"importing",IMPORT_FAILED:"imported with failures",SUCCESS:"success",DAMAGED:"damaged"},L1={CREATING_TASK:"Creating Task",UPLOADING_METADATA:"Uploading Metadata",UPLOADING_FILES:"Uploading Files",UPDATING_METADATA:"Updating Metadata",UPDATING_FILES:"Updating Files",VALIDATING:"Validating",EXECUTING:"Executing",UPDATING:"Updating"};exports.BulkImporter=R1;exports.FileUploader=Cr;exports.ImportModal=Ci;exports.ImporterTaskStates=D1;exports.InvenioImporterRecordStatus=P1;exports.OrchestrationStepsEnum=L1;exports.ProgressLoading=hr;exports.Search=_r;exports.Spinner=mr;exports.StatusIcon=ws;exports.StatusLabel=gr;exports.TaskDetails=Ii;exports.TaskRecordItem=wi;exports.capitalizeFirstLetter=oe;exports.cn=Is;exports.createSearchApi=$E;exports.createSearchApiConfig=xE;exports.formatDate=Ve;exports.formatFileSize=dt;exports.getCsrfToken=As;exports.getStatusColor=Os;exports.getTotalSize=yr;exports.getTotalSizeFormatted=br;exports.useFileUploader=Ti;
