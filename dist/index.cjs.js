"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const m=require("react"),fn=require("react-overridable"),Ws=require("axios"),Zs=require("qs"),w=require("react-redux"),u=require("semantic-ui-react"),ut=require("redux"),Js=require("redux-thunk"),Xs=require("lodash"),ee=require("react-invenio-forms"),ei=require("formik"),ae=e=>e&&e.__esModule?e:{default:e},i=ae(m),b=ae(fn),Fe=ae(Ws),se=ae(Zs),ti=ae(Js),ri=ae(Xs);var _e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ni=Object.prototype;function ai(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ni;return e===r}var ze=ai;function si(e,t){return function(r){return e(t(r))}}var pn=si,ii=pn,li=ii(Object.keys,Object),oi=li,ui=ze,ci=oi,di=Object.prototype,fi=di.hasOwnProperty;function pi(e){if(!ui(e))return ci(e);var t=[];for(var r in Object(e))fi.call(e,r)&&r!="constructor"&&t.push(r);return t}var hn=pi,hi=typeof _e=="object"&&_e&&_e.Object===Object&&_e,gn=hi,gi=gn,mi=typeof self=="object"&&self&&self.Object===Object&&self,yi=gi||mi||Function("return this")(),z=yi,vi=z,Ei=vi.Symbol,ie=Ei,ar=ie,mn=Object.prototype,bi=mn.hasOwnProperty,Si=mn.toString,fe=ar?ar.toStringTag:void 0;function $i(e){var t=bi.call(e,fe),r=e[fe];try{e[fe]=void 0;var n=!0}catch{}var a=Si.call(e);return n&&(t?e[fe]=r:delete e[fe]),a}var _i=$i,Ci=Object.prototype,xi=Ci.toString;function Ti(e){return xi.call(e)}var wi=Ti,sr=ie,Fi=_i,Ii=wi,Ai="[object Null]",Oi="[object Undefined]",ir=sr?sr.toStringTag:void 0;function Ri(e){return e==null?e===void 0?Oi:Ai:ir&&ir in Object(e)?Fi(e):Ii(e)}var Y=Ri;function Pi(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var H=Pi;const ki=I(H);var Di=Y,Li=H,Ui="[object AsyncFunction]",Ni="[object Function]",Bi="[object GeneratorFunction]",Mi="[object Proxy]";function zi(e){if(!Li(e))return!1;var t=Di(e);return t==Ni||t==Bi||t==Ui||t==Mi}var yn=zi,Qi=z,ji=Qi["__core-js_shared__"],qi=ji,at=qi,lr=function(){var e=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Gi(e){return!!lr&&lr in e}var Vi=Gi,Hi=Function.prototype,Ki=Hi.toString;function Yi(e){if(e!=null){try{return Ki.call(e)}catch{}try{return e+""}catch{}}return""}var vn=Yi,Wi=yn,Zi=Vi,Ji=H,Xi=vn,el=/[\\^$.*+?()[\]{}|]/g,tl=/^\[object .+?Constructor\]$/,rl=Function.prototype,nl=Object.prototype,al=rl.toString,sl=nl.hasOwnProperty,il=RegExp("^"+al.call(sl).replace(el,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ll(e){if(!Ji(e)||Zi(e))return!1;var t=Wi(e)?il:tl;return t.test(Xi(e))}var ol=ll;function ul(e,t){return e==null?void 0:e[t]}var cl=ul,dl=ol,fl=cl;function pl(e,t){var r=fl(e,t);return dl(r)?r:void 0}var J=pl,hl=J,gl=z,ml=hl(gl,"DataView"),yl=ml,vl=J,El=z,bl=vl(El,"Map"),wt=bl,Sl=J,$l=z,_l=Sl($l,"Promise"),Cl=_l,xl=J,Tl=z,wl=xl(Tl,"Set"),Fl=wl,Il=J,Al=z,Ol=Il(Al,"WeakMap"),Rl=Ol,ct=yl,dt=wt,ft=Cl,pt=Fl,ht=Rl,En=Y,le=vn,or="[object Map]",Pl="[object Object]",ur="[object Promise]",cr="[object Set]",dr="[object WeakMap]",fr="[object DataView]",kl=le(ct),Dl=le(dt),Ll=le(ft),Ul=le(pt),Nl=le(ht),W=En;(ct&&W(new ct(new ArrayBuffer(1)))!=fr||dt&&W(new dt)!=or||ft&&W(ft.resolve())!=ur||pt&&W(new pt)!=cr||ht&&W(new ht)!=dr)&&(W=function(e){var t=En(e),r=t==Pl?e.constructor:void 0,n=r?le(r):"";if(n)switch(n){case kl:return fr;case Dl:return or;case Ll:return ur;case Ul:return cr;case Nl:return dr}return t});var ye=W;function Bl(e){return e!=null&&typeof e=="object"}var Q=Bl,Ml=Y,zl=Q,Ql="[object Arguments]";function jl(e){return zl(e)&&Ml(e)==Ql}var ql=jl,pr=ql,Gl=Q,bn=Object.prototype,Vl=bn.hasOwnProperty,Hl=bn.propertyIsEnumerable,Kl=pr(function(){return arguments}())?pr:function(e){return Gl(e)&&Vl.call(e,"callee")&&!Hl.call(e,"callee")},Qe=Kl,Yl=Array.isArray,P=Yl;const Sn=I(P);var Wl=9007199254740991;function Zl(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Wl}var Ft=Zl,Jl=yn,Xl=Ft;function eo(e){return e!=null&&Xl(e.length)&&!Jl(e)}var je=eo,Oe={exports:{}};function to(){return!1}var ro=to;Oe.exports;(function(e,t){var r=z,n=ro,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===a,o=l?r.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||n;e.exports=d})(Oe,Oe.exports);var qe=Oe.exports,no=Y,ao=Ft,so=Q,io="[object Arguments]",lo="[object Array]",oo="[object Boolean]",uo="[object Date]",co="[object Error]",fo="[object Function]",po="[object Map]",ho="[object Number]",go="[object Object]",mo="[object RegExp]",yo="[object Set]",vo="[object String]",Eo="[object WeakMap]",bo="[object ArrayBuffer]",So="[object DataView]",$o="[object Float32Array]",_o="[object Float64Array]",Co="[object Int8Array]",xo="[object Int16Array]",To="[object Int32Array]",wo="[object Uint8Array]",Fo="[object Uint8ClampedArray]",Io="[object Uint16Array]",Ao="[object Uint32Array]",T={};T[$o]=T[_o]=T[Co]=T[xo]=T[To]=T[wo]=T[Fo]=T[Io]=T[Ao]=!0;T[io]=T[lo]=T[bo]=T[oo]=T[So]=T[uo]=T[co]=T[fo]=T[po]=T[ho]=T[go]=T[mo]=T[yo]=T[vo]=T[Eo]=!1;function Oo(e){return so(e)&&ao(e.length)&&!!T[no(e)]}var Ro=Oo;function Po(e){return function(t){return e(t)}}var It=Po,Re={exports:{}};Re.exports;(function(e,t){var r=gn,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,l=s&&r.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}}();e.exports=o})(Re,Re.exports);var At=Re.exports,ko=Ro,Do=It,hr=At,gr=hr&&hr.isTypedArray,Lo=gr?Do(gr):ko,Ot=Lo,Uo=hn,No=ye,Bo=Qe,Mo=P,zo=je,Qo=qe,jo=ze,qo=Ot,Go="[object Map]",Vo="[object Set]",Ho=Object.prototype,Ko=Ho.hasOwnProperty;function Yo(e){if(e==null)return!0;if(zo(e)&&(Mo(e)||typeof e=="string"||typeof e.splice=="function"||Qo(e)||qo(e)||Bo(e)))return!e.length;var t=No(e);if(t==Go||t==Vo)return!e.size;if(jo(e))return!Uo(e).length;for(var r in e)if(Ko.call(e,r))return!1;return!0}var Wo=Yo;const j=I(Wo);var Zo=Y,Jo=Q,Xo="[object Symbol]";function eu(e){return typeof e=="symbol"||Jo(e)&&Zo(e)==Xo}var Rt=eu,tu=P,ru=Rt,nu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,au=/^\w*$/;function su(e,t){if(tu(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ru(e)?!0:au.test(e)||!nu.test(e)||t!=null&&e in Object(t)}var Pt=su,iu=J,lu=iu(Object,"create"),Ge=lu,mr=Ge;function ou(){this.__data__=mr?mr(null):{},this.size=0}var uu=ou;function cu(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var du=cu,fu=Ge,pu="__lodash_hash_undefined__",hu=Object.prototype,gu=hu.hasOwnProperty;function mu(e){var t=this.__data__;if(fu){var r=t[e];return r===pu?void 0:r}return gu.call(t,e)?t[e]:void 0}var yu=mu,vu=Ge,Eu=Object.prototype,bu=Eu.hasOwnProperty;function Su(e){var t=this.__data__;return vu?t[e]!==void 0:bu.call(t,e)}var $u=Su,_u=Ge,Cu="__lodash_hash_undefined__";function xu(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_u&&t===void 0?Cu:t,this}var Tu=xu,wu=uu,Fu=du,Iu=yu,Au=$u,Ou=Tu;function oe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}oe.prototype.clear=wu;oe.prototype.delete=Fu;oe.prototype.get=Iu;oe.prototype.has=Au;oe.prototype.set=Ou;var Ru=oe;function Pu(){this.__data__=[],this.size=0}var ku=Pu;function Du(e,t){return e===t||e!==e&&t!==t}var Ve=Du,Lu=Ve;function Uu(e,t){for(var r=e.length;r--;)if(Lu(e[r][0],t))return r;return-1}var He=Uu,Nu=He,Bu=Array.prototype,Mu=Bu.splice;function zu(e){var t=this.__data__,r=Nu(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Mu.call(t,r,1),--this.size,!0}var Qu=zu,ju=He;function qu(e){var t=this.__data__,r=ju(t,e);return r<0?void 0:t[r][1]}var Gu=qu,Vu=He;function Hu(e){return Vu(this.__data__,e)>-1}var Ku=Hu,Yu=He;function Wu(e,t){var r=this.__data__,n=Yu(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Zu=Wu,Ju=ku,Xu=Qu,ec=Gu,tc=Ku,rc=Zu;function ue(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ue.prototype.clear=Ju;ue.prototype.delete=Xu;ue.prototype.get=ec;ue.prototype.has=tc;ue.prototype.set=rc;var Ke=ue,yr=Ru,nc=Ke,ac=wt;function sc(){this.size=0,this.__data__={hash:new yr,map:new(ac||nc),string:new yr}}var ic=sc;function lc(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var oc=lc,uc=oc;function cc(e,t){var r=e.__data__;return uc(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ye=cc,dc=Ye;function fc(e){var t=dc(this,e).delete(e);return this.size-=t?1:0,t}var pc=fc,hc=Ye;function gc(e){return hc(this,e).get(e)}var mc=gc,yc=Ye;function vc(e){return yc(this,e).has(e)}var Ec=vc,bc=Ye;function Sc(e,t){var r=bc(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var $c=Sc,_c=ic,Cc=pc,xc=mc,Tc=Ec,wc=$c;function ce(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ce.prototype.clear=_c;ce.prototype.delete=Cc;ce.prototype.get=xc;ce.prototype.has=Tc;ce.prototype.set=wc;var kt=ce,$n=kt,Fc="Expected a function";function Dt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Fc);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var l=e.apply(this,n);return r.cache=s.set(a,l)||s,l};return r.cache=new(Dt.Cache||$n),r}Dt.Cache=$n;var Ic=Dt,Ac=Ic,Oc=500;function Rc(e){var t=Ac(e,function(n){return r.size===Oc&&r.clear(),n}),r=t.cache;return t}var Pc=Rc,kc=Pc,Dc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lc=/\\(\\)?/g,Uc=kc(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Dc,function(r,n,a,s){t.push(a?s.replace(Lc,"$1"):n||r)}),t}),Nc=Uc;function Bc(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Mc=Bc,vr=ie,zc=Mc,Qc=P,jc=Rt,qc=1/0,Er=vr?vr.prototype:void 0,br=Er?Er.toString:void 0;function _n(e){if(typeof e=="string")return e;if(Qc(e))return zc(e,_n)+"";if(jc(e))return br?br.call(e):"";var t=e+"";return t=="0"&&1/e==-qc?"-0":t}var Gc=_n,Vc=Gc;function Hc(e){return e==null?"":Vc(e)}var ve=Hc,Kc=P,Yc=Pt,Wc=Nc,Zc=ve;function Jc(e,t){return Kc(e)?e:Yc(e,t)?[e]:Wc(Zc(e))}var We=Jc,Xc=Rt,ed=1/0;function td(e){if(typeof e=="string"||Xc(e))return e;var t=e+"";return t=="0"&&1/e==-ed?"-0":t}var Ee=td,rd=We,nd=Ee;function ad(e,t){t=rd(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[nd(t[r++])];return r&&r==n?e:void 0}var Lt=ad,sd=Lt;function id(e,t,r){var n=e==null?void 0:sd(e,t);return n===void 0?r:n}var Cn=id;const pe=I(Cn);function ld(e,t){return e!=null&&t in Object(e)}var od=ld,ud=9007199254740991,cd=/^(?:0|[1-9]\d*)$/;function dd(e,t){var r=typeof e;return t=t??ud,!!t&&(r=="number"||r!="symbol"&&cd.test(e))&&e>-1&&e%1==0&&e<t}var Ze=dd,fd=We,pd=Qe,hd=P,gd=Ze,md=Ft,yd=Ee;function vd(e,t,r){t=fd(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var l=yd(t[n]);if(!(s=e!=null&&r(e,l)))break;e=e[l]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&md(a)&&gd(l,a)&&(hd(e)||pd(e)))}var xn=vd,Ed=od,bd=xn;function Sd(e,t){return e!=null&&bd(e,t,Ed)}var Ut=Sd;const $d=I(Ut);var _d=J,Cd=function(){try{var e=_d(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Tn=Cd,Sr=Tn;function xd(e,t,r){t=="__proto__"&&Sr?Sr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Je=xd,Td=Je,wd=Ve,Fd=Object.prototype,Id=Fd.hasOwnProperty;function Ad(e,t,r){var n=e[t];(!(Id.call(e,t)&&wd(n,r))||r===void 0&&!(t in e))&&Td(e,t,r)}var Nt=Ad,Od=Nt,Rd=Je;function Pd(e,t,r,n){var a=!r;r||(r={});for(var s=-1,l=t.length;++s<l;){var o=t[s],c=n?n(r[o],e[o],o,r,e):void 0;c===void 0&&(c=e[o]),a?Rd(r,o,c):Od(r,o,c)}return r}var be=Pd;function kd(e){return e}var Bt=kd;function Dd(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Ld=Dd,Ud=Ld,$r=Math.max;function Nd(e,t,r){return t=$r(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=$r(n.length-t,0),l=Array(s);++a<s;)l[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(l),Ud(e,this,o)}}var wn=Nd;function Bd(e){return function(){return e}}var Md=Bd,zd=Md,_r=Tn,Qd=Bt,jd=_r?function(e,t){return _r(e,"toString",{configurable:!0,enumerable:!1,value:zd(t),writable:!0})}:Qd,qd=jd,Gd=800,Vd=16,Hd=Date.now;function Kd(e){var t=0,r=0;return function(){var n=Hd(),a=Vd-(n-r);if(r=n,a>0){if(++t>=Gd)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Yd=Kd,Wd=qd,Zd=Yd,Jd=Zd(Wd),Fn=Jd,Xd=Bt,ef=wn,tf=Fn;function rf(e,t){return tf(ef(e,t,Xd),e+"")}var nf=rf,af=Ve,sf=je,lf=Ze,of=H;function uf(e,t,r){if(!of(r))return!1;var n=typeof t;return(n=="number"?sf(r)&&lf(t,r.length):n=="string"&&t in r)?af(r[t],e):!1}var cf=uf,df=nf,ff=cf;function pf(e){return df(function(t,r){var n=-1,a=r.length,s=a>1?r[a-1]:void 0,l=a>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(a--,s):void 0,l&&ff(r[0],r[1],l)&&(s=a<3?void 0:s,a=1),t=Object(t);++n<a;){var o=r[n];o&&e(t,o,n,s)}return t})}var hf=pf;function gf(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var mf=gf,yf=mf,vf=Qe,Ef=P,bf=qe,Sf=Ze,$f=Ot,_f=Object.prototype,Cf=_f.hasOwnProperty;function xf(e,t){var r=Ef(e),n=!r&&vf(e),a=!r&&!n&&bf(e),s=!r&&!n&&!a&&$f(e),l=r||n||a||s,o=l?yf(e.length,String):[],c=o.length;for(var d in e)(t||Cf.call(e,d))&&!(l&&(d=="length"||a&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Sf(d,c)))&&o.push(d);return o}var In=xf;function Tf(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var wf=Tf,Ff=H,If=ze,Af=wf,Of=Object.prototype,Rf=Of.hasOwnProperty;function Pf(e){if(!Ff(e))return Af(e);var t=If(e),r=[];for(var n in e)n=="constructor"&&(t||!Rf.call(e,n))||r.push(n);return r}var kf=Pf,Df=In,Lf=kf,Uf=je;function Nf(e){return Uf(e)?Df(e,!0):Lf(e)}var Xe=Nf,Bf=be,Mf=hf,zf=Xe,Qf=Mf(function(e,t){Bf(t,zf(t),e)}),jf=Qf,qf=jf;const Pe=I(qf);function Gf(e){return e&&e.length?e[0]:void 0}var Vf=Gf;const Hf=I(Vf);var Kf=Nt,Yf=We,Wf=Ze,Cr=H,Zf=Ee;function Jf(e,t,r,n){if(!Cr(e))return e;t=Yf(t,e);for(var a=-1,s=t.length,l=s-1,o=e;o!=null&&++a<s;){var c=Zf(t[a]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=l){var f=o[c];d=n?n(f,c,o):void 0,d===void 0&&(d=Cr(f)?f:Wf(t[a+1])?[]:{})}Kf(o,c,d),o=o[c]}return e}var Xf=Jf,ep=Lt,tp=Xf,rp=We;function np(e,t,r){for(var n=-1,a=t.length,s={};++n<a;){var l=t[n],o=ep(e,l);r(o,l)&&tp(s,rp(l,e),o)}return s}var ap=np,sp=ap,ip=Ut;function lp(e,t){return sp(e,t,function(r,n){return ip(e,n)})}var op=lp;function up(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Mt=up,xr=ie,cp=Qe,dp=P,Tr=xr?xr.isConcatSpreadable:void 0;function fp(e){return dp(e)||cp(e)||!!(Tr&&e&&e[Tr])}var pp=fp,hp=Mt,gp=pp;function An(e,t,r,n,a){var s=-1,l=e.length;for(r||(r=gp),a||(a=[]);++s<l;){var o=e[s];t>0&&r(o)?t>1?An(o,t-1,r,n,a):hp(a,o):n||(a[a.length]=o)}return a}var mp=An,yp=mp;function vp(e){var t=e==null?0:e.length;return t?yp(e,1):[]}var Ep=vp,bp=Ep,Sp=wn,$p=Fn;function _p(e){return $p(Sp(e,void 0,bp),e+"")}var Cp=_p,xp=op,Tp=Cp,wp=Tp(function(e,t){return e==null?{}:xp(e,t)}),Fp=wp;const Ip=I(Fp);var Ap=Ke;function Op(){this.__data__=new Ap,this.size=0}var Rp=Op;function Pp(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var kp=Pp;function Dp(e){return this.__data__.get(e)}var Lp=Dp;function Up(e){return this.__data__.has(e)}var Np=Up,Bp=Ke,Mp=wt,zp=kt,Qp=200;function jp(e,t){var r=this.__data__;if(r instanceof Bp){var n=r.__data__;if(!Mp||n.length<Qp-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zp(n)}return r.set(e,t),this.size=r.size,this}var qp=jp,Gp=Ke,Vp=Rp,Hp=kp,Kp=Lp,Yp=Np,Wp=qp;function de(e){var t=this.__data__=new Gp(e);this.size=t.size}de.prototype.clear=Vp;de.prototype.delete=Hp;de.prototype.get=Kp;de.prototype.has=Yp;de.prototype.set=Wp;var zt=de;function Zp(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Jp=Zp,Xp=In,eh=hn,th=je;function rh(e){return th(e)?Xp(e):eh(e)}var Se=rh,nh=be,ah=Se;function sh(e,t){return e&&nh(t,ah(t),e)}var ih=sh,lh=be,oh=Xe;function uh(e,t){return e&&lh(t,oh(t),e)}var ch=uh,ke={exports:{}};ke.exports;(function(e,t){var r=z,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,l=s?r.Buffer:void 0,o=l?l.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var p=d.length,h=o?o(p):new d.constructor(p);return d.copy(h),h}e.exports=c})(ke,ke.exports);var dh=ke.exports;function fh(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var ph=fh;function hh(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var l=e[r];t(l,r,e)&&(s[a++]=l)}return s}var gh=hh;function mh(){return[]}var On=mh,yh=gh,vh=On,Eh=Object.prototype,bh=Eh.propertyIsEnumerable,wr=Object.getOwnPropertySymbols,Sh=wr?function(e){return e==null?[]:(e=Object(e),yh(wr(e),function(t){return bh.call(e,t)}))}:vh,Qt=Sh,$h=be,_h=Qt;function Ch(e,t){return $h(e,_h(e),t)}var xh=Ch,Th=pn,wh=Th(Object.getPrototypeOf,Object),Rn=wh,Fh=Mt,Ih=Rn,Ah=Qt,Oh=On,Rh=Object.getOwnPropertySymbols,Ph=Rh?function(e){for(var t=[];e;)Fh(t,Ah(e)),e=Ih(e);return t}:Oh,Pn=Ph,kh=be,Dh=Pn;function Lh(e,t){return kh(e,Dh(e),t)}var Uh=Lh,Nh=Mt,Bh=P;function Mh(e,t,r){var n=t(e);return Bh(e)?n:Nh(n,r(e))}var kn=Mh,zh=kn,Qh=Qt,jh=Se;function qh(e){return zh(e,jh,Qh)}var Dn=qh,Gh=kn,Vh=Pn,Hh=Xe;function Kh(e){return Gh(e,Hh,Vh)}var Yh=Kh,Wh=Object.prototype,Zh=Wh.hasOwnProperty;function Jh(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Zh.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Xh=Jh,eg=z,tg=eg.Uint8Array,Ln=tg,Fr=Ln;function rg(e){var t=new e.constructor(e.byteLength);return new Fr(t).set(new Fr(e)),t}var jt=rg,ng=jt;function ag(e,t){var r=t?ng(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var sg=ag,ig=/\w*$/;function lg(e){var t=new e.constructor(e.source,ig.exec(e));return t.lastIndex=e.lastIndex,t}var og=lg,Ir=ie,Ar=Ir?Ir.prototype:void 0,Or=Ar?Ar.valueOf:void 0;function ug(e){return Or?Object(Or.call(e)):{}}var cg=ug,dg=jt;function fg(e,t){var r=t?dg(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var pg=fg,hg=jt,gg=sg,mg=og,yg=cg,vg=pg,Eg="[object Boolean]",bg="[object Date]",Sg="[object Map]",$g="[object Number]",_g="[object RegExp]",Cg="[object Set]",xg="[object String]",Tg="[object Symbol]",wg="[object ArrayBuffer]",Fg="[object DataView]",Ig="[object Float32Array]",Ag="[object Float64Array]",Og="[object Int8Array]",Rg="[object Int16Array]",Pg="[object Int32Array]",kg="[object Uint8Array]",Dg="[object Uint8ClampedArray]",Lg="[object Uint16Array]",Ug="[object Uint32Array]";function Ng(e,t,r){var n=e.constructor;switch(t){case wg:return hg(e);case Eg:case bg:return new n(+e);case Fg:return gg(e,r);case Ig:case Ag:case Og:case Rg:case Pg:case kg:case Dg:case Lg:case Ug:return vg(e,r);case Sg:return new n;case $g:case xg:return new n(e);case _g:return mg(e);case Cg:return new n;case Tg:return yg(e)}}var Bg=Ng,Mg=H,Rr=Object.create,zg=function(){function e(){}return function(t){if(!Mg(t))return{};if(Rr)return Rr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Qg=zg,jg=Qg,qg=Rn,Gg=ze;function Vg(e){return typeof e.constructor=="function"&&!Gg(e)?jg(qg(e)):{}}var Hg=Vg,Kg=ye,Yg=Q,Wg="[object Map]";function Zg(e){return Yg(e)&&Kg(e)==Wg}var Jg=Zg,Xg=Jg,em=It,Pr=At,kr=Pr&&Pr.isMap,tm=kr?em(kr):Xg,rm=tm,nm=ye,am=Q,sm="[object Set]";function im(e){return am(e)&&nm(e)==sm}var lm=im,om=lm,um=It,Dr=At,Lr=Dr&&Dr.isSet,cm=Lr?um(Lr):om,dm=cm,fm=zt,pm=Jp,hm=Nt,gm=ih,mm=ch,ym=dh,vm=ph,Em=xh,bm=Uh,Sm=Dn,$m=Yh,_m=ye,Cm=Xh,xm=Bg,Tm=Hg,wm=P,Fm=qe,Im=rm,Am=H,Om=dm,Rm=Se,Pm=Xe,km=1,Dm=2,Lm=4,Un="[object Arguments]",Um="[object Array]",Nm="[object Boolean]",Bm="[object Date]",Mm="[object Error]",Nn="[object Function]",zm="[object GeneratorFunction]",Qm="[object Map]",jm="[object Number]",Bn="[object Object]",qm="[object RegExp]",Gm="[object Set]",Vm="[object String]",Hm="[object Symbol]",Km="[object WeakMap]",Ym="[object ArrayBuffer]",Wm="[object DataView]",Zm="[object Float32Array]",Jm="[object Float64Array]",Xm="[object Int8Array]",ey="[object Int16Array]",ty="[object Int32Array]",ry="[object Uint8Array]",ny="[object Uint8ClampedArray]",ay="[object Uint16Array]",sy="[object Uint32Array]",C={};C[Un]=C[Um]=C[Ym]=C[Wm]=C[Nm]=C[Bm]=C[Zm]=C[Jm]=C[Xm]=C[ey]=C[ty]=C[Qm]=C[jm]=C[Bn]=C[qm]=C[Gm]=C[Vm]=C[Hm]=C[ry]=C[ny]=C[ay]=C[sy]=!0;C[Mm]=C[Nn]=C[Km]=!1;function Ie(e,t,r,n,a,s){var l,o=t&km,c=t&Dm,d=t&Lm;if(r&&(l=a?r(e,n,a,s):r(e)),l!==void 0)return l;if(!Am(e))return e;var f=wm(e);if(f){if(l=Cm(e),!o)return vm(e,l)}else{var p=_m(e),h=p==Nn||p==zm;if(Fm(e))return ym(e,o);if(p==Bn||p==Un||h&&!a){if(l=c||h?{}:Tm(e),!o)return c?bm(e,mm(l,e)):Em(e,gm(l,e))}else{if(!C[p])return a?e:{};l=xm(e,p,o)}}s||(s=new fm);var g=s.get(e);if(g)return g;s.set(e,l),Om(e)?e.forEach(function(S){l.add(Ie(S,t,r,S,e,s))}):Im(e)&&e.forEach(function(S,v){l.set(v,Ie(S,t,r,v,e,s))});var y=d?c?$m:Sm:c?Pm:Rm,E=f?void 0:y(e);return pm(E||e,function(S,v){E&&(v=S,S=e[v]),hm(l,v,Ie(S,t,r,v,e,s))}),l}var iy=Ie,ly=iy,oy=1,uy=4;function cy(e){return ly(e,oy|uy)}var dy=cy;const ne=I(dy);var fy=Y,py=Q,hy="[object Boolean]";function gy(e){return e===!0||e===!1||py(e)&&fy(e)==hy}var my=gy;const yy=I(my);var vy=Y,Ey=P,by=Q,Sy="[object String]";function $y(e){return typeof e=="string"||!Ey(e)&&by(e)&&vy(e)==Sy}var _y=$y;const Cy=I(_y);var xy=Y,Ty=Q,wy="[object Number]";function Fy(e){return typeof e=="number"||Ty(e)&&xy(e)==wy}var Iy=Fy;const Ay=I(Iy);function qt(){}qt.prototype=new Error;class Ur{constructor(){this._addFilter=(t,r)=>{if(!Array.isArray(t))throw new Error(`Filter value "${t}" in query state must be an array.`);if(!(t.length===2||t.length===3))throw new Error(`Filter value "${t}" in query state must be an array of 2 or 3 elements`);const n=t.length===3;var a=t[0],s=t[1];if(n){if(!Array.isArray(t[2]))throw new Error(`Filter value "${t[2]}" in query state must be an array.`);s=s+"::"+t[2][1]}a in r?r[a].push(s):r[a]=[s]},this._addFilters=t=>{if(!Array.isArray(t))throw new Error(`Filters query state "${t}" must be an array.`);const r={};return t.forEach(n=>{this._addFilter(n,r)}),r},this.serialize=this.serialize.bind(this)}serialize(t){const{queryString:r,sortBy:n,sortOrder:a,page:s,size:l,filters:o,hiddenParams:c}=t;let d={};r!==null&&(d.q=r),n!==null&&(d.sort=n,a!==null&&(d.sort=a==="desc"?`-${n}`:n)),s>0&&(d.page=s),l>0&&(d.size=l),j(c)||Pe(d,this._addFilters(c));const f=this._addFilters(o);return Pe(d,f),se.default.stringify(d,{arrayFormat:"repeat"})}}class Oy{constructor(){this.serialize=this.serialize.bind(this)}serialize(t){const{aggregations:r,hits:n,...a}=t;return{aggregations:r||{},hits:n.hits,total:n.total,extras:a}}}function Ce(e,t){return e.indexOf(t)===0&&(e.length===t.length||e.indexOf(t+"&")===0)}function st(e){return se.default.stringify({q:e})}function Ry(e){return se.default.parse(e).q}function Mn(e){if(e.length===3){const r=[e[0],e[1]],n=Mn(e[2]);return n.length&&r.push(n),r}return[]}function Nr(e,t){const r=st(e),n=t.map(l=>st(l));let a=!1;const s=n.filter(l=>{const o=Ce(l,r),c=Ce(r,l);return o&&!a&&(a=!0),!o&&!c});if(!a)s.push(r);else if(e.length===3){const o=Mn(e),c=st(o),d=s.some(f=>{const p=Ce(f,c),h=Ce(c,f);return p||h});(j(s)||!d)&&s.push(c)}return s.map(l=>Ry(l))}const zn=(e,t)=>{if(j(e))return;if(!Sn(Hf(e)))return Nr(e,t);let r=t;for(const n of e)r=Nr(n,r);return r},Qn=(e,t,r)=>{let n=Ip(t,r);return j(n.filters)||(n.filters=zn(n.filters,e.filters)),n},De={queryString:"",suggestions:[],sortBy:null,sortOrder:null,page:-1,size:-1,filters:[],hiddenParams:[],layout:null},jn=Object.keys(De),Py={loading:!1,data:{hits:[],total:0,aggregations:{}},error:{}},ky={hasUserChangedSorting:!1,initialSortBy:null,initialSortOrder:null};class Dy{constructor(){this._checkFilter=t=>{if(!Array.isArray(t))throw new Error(`Filter value "${t}" in query state must be an array.`);if(!(t.length===2||t.length===3))throw new Error(`Filter value "${t}" in query state must be an array of 2 or 3 elements`)},this._addFilter=(t,r)=>{this._checkFilter(t);const n=t[0],a=t[1],s=t.length===3;s&&this._checkFilter(t[2]),n in r?s?r[n].push(a+"::"+t[2][1]):r[n].push(a):s?r[n]=[a+"::"+t[2][1]]:r[n]=[a]},this._addFilters=t=>{if(!Array.isArray(t))throw new Error(`Filters query state "${t}" must be an array.`);const r={};return t.forEach(n=>{this._addFilter(n,r)}),r},this.serialize=this.serialize.bind(this)}serialize(t){const{queryString:r,sortBy:n,sortOrder:a,page:s,size:l,filters:o,hiddenParams:c}=t;let d={};r!==null&&(d.q=r),n!==null&&(d.sort=n,a!==null&&(d.sort=a==="desc"?`-${n}`:n)),s>0&&(d.page=s),l>0&&(d.size=l),j(c)||Pe(d,this._addFilters(c));const f=this._addFilters(o);return Pe(d,f),se.default.stringify(d,{arrayFormat:"repeat"})}}class qn{constructor(t){this.axiosConfig=pe(t,"axios",{}),this.validateAxiosConfig(),this.initSerializers(t),this.initInterceptors(t),this.initAxios(),this.search=this.search.bind(this),this.axiosCancelToken=Fe.default.CancelToken}validateAxiosConfig(){if(!$d(this.axiosConfig,"url"))throw new Error("InvenioSearchApi config: `url` field is required.")}initInterceptors(t){this.requestInterceptor=pe(t,"interceptors.request",void 0),this.responseInterceptor=pe(t,"interceptors.response",void 0)}getSerializer(t){const r={InvenioRecordsResourcesRequestSerializer:Dy,InvenioRequestSerializer:Ur};return typeof t=="string"?r[t]:t||Ur}initSerializers(t){var r;const n=this.getSerializer((r=t.invenio)===null||r===void 0?void 0:r.requestSerializer),a=pe(t,"invenio.responseSerializer",Oy);this.requestSerializer=new n,this.responseSerializer=new a}initAxios(){const t={paramsSerializer:this.requestSerializer.serialize,...this.axiosConfig};this.http=Fe.default.create(t),this.addInterceptors()}addInterceptors(){this.requestInterceptor&&this.http.interceptors.request.use(this.requestInterceptor.resolve,this.requestInterceptor.reject),this.responseInterceptor&&this.http.interceptors.request.use(this.responseInterceptor.resolve,this.responseInterceptor.reject)}async search(t){this.axiosCancel&&this.axiosCancel.cancel(),this.axiosCancel=this.axiosCancelToken.source();try{let r=await this.http.request({url:this.axiosConfig.url,params:t,cancelToken:this.axiosCancel.token});r=this.responseSerializer.serialize(r.data);const n=Qn(t,r.extras,jn);return j(n)||(r.newQueryState=n),delete r.extras,r}catch(r){throw Fe.default.isCancel(r)?new qt:r}}}class Ly{constructor(){this.isValid=(t,r,n)=>{switch(r){case"queryString":case"sortBy":return!0;case"sortOrder":return["asc","desc"].includes(n);case"page":case"size":return Ay(n)&&n>0;case"layout":return["grid","list"].includes(n);case"filters":case"hiddenParams":{const a=Sn(n)?n:[n],s=":",l=t.urlFilterSeparator,o=`[^\\${s}\\${l}]*`,c=`${o}\\${s}${o}`,d=`${c}(\\${l}${c})*`,f=new RegExp(`^${d}$`);return a.every(p=>String(p).match(f))}default:return!1}}}}const Uy=e=>{window.history.pushState&&window.history.pushState({path:e},"",e)},Br=e=>{window.history.replaceState&&window.history.replaceState({path:e},"",e)};class Ny{constructor(){this._convertValue=(t,r)=>{switch(t){case this.paramsMapping.page:case this.paramsMapping.size:return parseInt(r);default:return r}},this.parse=this.parse.bind(this),this.paramsMapping={}}set urlParamsMapping(t){this.paramsMapping=t}parse(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=se.default.parse(t,{ignoreQueryPrefix:!0}),n={};return Object.entries(r).forEach(a=>{const s=a[0],l=a[1];n[s]=this._convertValue(s,l)}),n}}class By{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._filterListToString=r=>{const n=r.length===3?this.urlFilterSeparator.concat(this._filterListToString(r[2])):"";return`${r[0]}:${r[1]}${n}`},this._mapQueryStateToUrlParams=r=>{const n={};Object.keys(r).filter(s=>s in this.urlParamsMapping).filter(s=>(s==="page"||s==="size")&&r[s]<=0||s==="hiddenParams"?!1:r[s]!==null).forEach(s=>{const l=this.urlParamsMapping[s];s==="filters"?n[l]=r[s].map(o=>this._filterListToString(o)):n[l]=r[s]});const a=(s,l)=>{const o="q";return s===o?-1:l===o?1:s.localeCompare(l)};return se.default.stringify(n,{addQueryPrefix:!0,skipNulls:!0,indices:!1,sort:a})},this._filterStringToList=r=>{const n=r.indexOf(this.urlFilterSeparator),a=n>-1,s=r.indexOf(":");if(s===-1)throw new Error(`Filter "${r}" not parsable. Format expected: "<agg name>:<value>"`);const l=r.slice(0,s),o=a?n:r.length,c=r.slice(s+1,o);let d=[l,c];if(a){const f=r.slice(n+1,r.length);d.push(this._filterStringToList(f))}return d},this._mapUrlParamsToQueryState=r=>{const n={};return Object.keys(r).forEach(a=>{const s=this.fromUrlParamsMapping[a];this.urlParamValidator.isValid(this,s,r[a])?(n[s]=r[a],s==="filters"&&(Array.isArray(r[a])||(r[a]=[r[a]]),n[s]=r[a].map(l=>this._filterStringToList(l)))):console.warn(`URL parameter '${a}' with value '${r[a]}' is incorrect and was ignored.`)}),n},this._mergeParamsIntoState=(r,n)=>{const a=ne(n);return Object.keys(r).forEach(s=>{a[s]=r[s]}),a},this.urlParamsMapping=ki(t.urlParamsMapping)?t.urlParamsMapping:{queryString:"q",sortBy:"sort",sortOrder:"order",page:"p",size:"s",layout:"l",filters:"f",hiddenParams:"hp"},this.keepHistory=t.keepHistory!==void 0?t.keepHistory:!0,!yy(this.keepHistory))throw new Error(`"keepHistory configuration must be a boolean, ${this.keepHistory} provided.`);if(this.urlFilterSeparator=t.urlFilterSeparator!==void 0?t.urlFilterSeparator:"+",!Cy(this.urlFilterSeparator))throw new Error(`"urlFilterSeparator configuration must be a string, ${this.urlFilterSeparator} provided.`);this.urlParamValidator=t.urlParamValidator||new Ly,this.urlParser=t.urlParser||new Ny,this.urlParser.urlParamsMapping=this.urlParamsMapping,this.fromUrlParamsMapping={},Object.keys(this.urlParamsMapping).forEach(r=>{this.fromUrlParamsMapping[this.urlParamsMapping[r]]=r}),this.get=this.get.bind(this),this.set=this.set.bind(this),this.replace=this.replace.bind(this)}get(t){const r=this.urlParser.parse(window.location.search),n=this._mapUrlParamsToQueryState(r),a=this._mergeParamsIntoState(n,t),s=this._mapQueryStateToUrlParams(a);return Br(s),a}set(t){if(this.keepHistory){const r=this._mapQueryStateToUrlParams(t);Uy(r)}else this.replace(t)}replace(t){const r=this._mapQueryStateToUrlParams(t);Br(r)}}const My="SET_QUERY_COMPONENT_INITIAL_STATE",Gn="SET_QUERY_STRING",Gt="SET_QUERY_SORTING",Vt="SET_QUERY_SORT_BY",Ht="SET_QUERY_SORT_ORDER",$e="SET_QUERY_STATE",Vn="SET_QUERY_PAGINATION_PAGE",Hn="SET_QUERY_PAGINATION_SIZE",Kn="SET_QUERY_FILTERS",Yn="SET_QUERY_SUGGESTIONS",Wn="SET_SUGGESTION_STRING",Zn="CLEAR_QUERY_SUGGESTIONS",Jn="RESULTS_LOADING",Xn="RESULTS_FETCH_SUCCESS",ea="RESULTS_FETCH_ERROR",gt="RESULTS_UPDATE_LAYOUT",ta="RESET_QUERY",zy=e=>t=>{e&&t(B({shouldUpdateUrlQueryString:!1,shouldReplaceUrlQueryString:!0}))},ra=e=>t=>{t({type:$e,payload:e}),t(B())},na=e=>t=>{t({type:Gn,payload:e}),t(B())},Qy=(e,t)=>r=>{r({type:Gt,payload:{sortBy:e,sortOrder:t}}),r(B())},jy=e=>t=>{t({type:Vt,payload:e}),t(B())},qy=e=>t=>{t({type:Ht,payload:e}),t(B())},Gy=e=>t=>{t({type:Vn,payload:e}),t(B())},Vy=e=>t=>{t({type:Hn,payload:e}),t(B())},Kt=e=>t=>{t({type:Kn,payload:e}),t(B())},Hy=e=>async(t,r,n)=>{const a=n.urlHandlerApi;if(a){await t({type:gt,payload:e});const s=r().query;a.set(s)}else t({type:gt,payload:e})},Ky=()=>(e,t,r)=>{e({type:ta,payload:{queryString:"",page:1,filters:[],...r.initialQueryState}}),e(B())},Yy=(e,t,r,n)=>{const a=t.urlHandlerApi;a&&(r?a.replace(e):n&&a.set(e))},Wy=(e,t,r,n)=>{const a=r().query;t({type:$e,payload:{...a,...e.newQueryState}});const s=ne(r().query),l=n.urlHandlerApi;return l&&l.replace(s),delete e.newStateQuery,e},Zy=(e,t,r,n)=>{function a(o,c,d,f){o.queryString===""?(o.sortBy=d.defaultSortingOnEmptyQueryString.sortBy,o.sortOrder=d.defaultSortingOnEmptyQueryString.sortOrder):(o.sortBy=c.initialSortBy,o.sortOrder=c.initialSortOrder),f({type:$e,payload:o})}function s(o,c,d,f){c.hasUserChangedSorting||a(o,c,d,f)}!j(r.defaultSortingOnEmptyQueryString)&&s(e,t,r,n)},B=function(){let{shouldUpdateUrlQueryString:e=!0,shouldReplaceUrlQueryString:t=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return async(r,n,a)=>{const s=n().app;let l=ne(n().query);Zy(l,s,a,r),l=ne(n().query),Yy(l,a,t,e),r({type:Jn});try{let c=await a.searchApi.search(l);"newQueryState"in c&&(c=Wy(ne(c),r,n,a)),r({type:Xn,payload:{aggregations:c.aggregations,hits:c.hits,total:c.total}})}catch(o){if(o instanceof qt){console.debug(o);return}else console.error(o),r({type:ea,payload:{error:o}})}}},Jy=e=>t=>{t({type:Wn,payload:e}),t(Xy())},Xy=()=>async(e,t,r)=>{const n=ne(t().query),a=r.suggestionApi;try{const s=await a.search(n);e({type:Yn,payload:{suggestions:s.suggestions}})}catch(s){console.error("Could not load suggestions due to: "+s)}},ev=()=>e=>{e({type:Zn,payload:{suggestions:[]}})},tv=()=>(e,t,r)=>{if(r.urlHandlerApi){const n=r.urlHandlerApi.get(r.initialQueryState);e({type:$e,payload:n}),e(B({shouldReplaceUrlQueryString:!0}))}},x=i.default.createContext({}),rv=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case Gt:return{...e,hasUserChangedSorting:!0};case Vt:return{...e,hasUserChangedSorting:!0};case Ht:return{...e,hasUserChangedSorting:!0};default:return e}},nv=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gn:return{...e,queryString:t.payload,page:1};case Gt:return{...e,sortBy:t.payload.sortBy,sortOrder:t.payload.sortOrder,_sortUserChanged:!0,page:1};case Vt:return{...e,sortBy:t.payload,_sortUserChanged:!0,page:1};case Ht:return{...e,sortOrder:t.payload,_sortUserChanged:!0,page:1};case Vn:return{...e,page:t.payload};case Hn:return{...e,size:t.payload,page:1};case Kn:return{...e,page:1,filters:zn(t.payload,e.filters)};case Yn:return{...e,suggestions:t.payload.suggestions};case Zn:return{...e,suggestions:t.payload.suggestions};case Wn:return{...e,suggestionString:t.payload};case My:return{...e,...t.payload};case $e:return{...e,...De,...Qn(De,t.payload,jn)};case gt:return{...e,layout:t.payload};case ta:return{...e,...t.payload};default:return e}},av=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jn:return{...e,loading:!0,data:{...e.data}};case Xn:return{loading:!1,data:{...e.data,aggregations:t.payload.aggregations,hits:t.payload.hits,total:t.payload.total},error:{}};case ea:return{loading:!1,data:{...e.data,aggregations:{},hits:[],total:0},error:t.payload.error};default:return e}};var sv=ut.combineReducers({app:rv,query:nv,results:av});function Mr(e,t){let{sortBy:r,sortOrder:n}=e,{sortBy:a,sortOrder:s}=t;return r!==a||n!==s}function iv(e,t,r){const n=Mr(r,t),a=!j(e.defaultSortingOnEmptyQueryString);let s=!1;return a&&(s=Mr(r,e.defaultSortingOnEmptyQueryString)),n&&s}function lv(e){const t={...De,...e.initialQueryState},r=e.urlHandlerApi?e.urlHandlerApi.get(t):t,n=iv(e,t,r),a={...ky,hasUserChangedSorting:n,initialSortBy:t.sortBy,initialSortOrder:t.sortOrder},s={...Py,loading:e.searchOnInit};return{app:a,query:r,results:s}}function ov(e){const t=lv(e);return ut.createStore(sv,t,ut.applyMiddleware(ti.default.withExtraArgument(e)))}function zr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const n=t?`.${t}`:"";return`${r?`${r}.`:""}${e}${n}`}class Yt extends m.Component{constructor(t){super(t),this.updateQueryState=r=>{const{updateQueryState:n}=this.props;n(r)},this.onQueryChanged=r=>{let{detail:n}=r;const{appName:a}=this.context;if(!a)this.updateQueryState(n.searchQuery);else{const l=n.appName;l===a?this.updateQueryState(n.searchQuery):console.debug(`React-SearchKit '${a}': ignoring event sent for app '${l}'`)}},this.searchOnInit=t.searchOnInit,this.eventListenerEnabled=t.eventListenerEnabled,this.onAppInitialized=t.onAppInitialized,this.searchOnUrlQueryStringChanged=t.searchOnUrlQueryStringChanged}componentDidMount(){this.eventListenerEnabled&&window.addEventListener("queryChanged",this.onQueryChanged),window.onpopstate=()=>{this.searchOnUrlQueryStringChanged()},this.onAppInitialized(this.searchOnInit)}componentWillUnmount(){window.onpopstate=()=>{},window.removeEventListener("queryChanged",this.onQueryChanged)}render(){const{children:t}=this.props;return t}}Yt.defaultProps={searchOnInit:!0,eventListenerEnabled:!1};Yt.contextType=x;var uv=b.default.component("Bootstrap",Yt);const cv=e=>({onAppInitialized:t=>e(zy(t)),updateQueryState:t=>e(ra(t)),searchOnUrlQueryStringChanged:()=>e(tv())}),dv=w.connect(null,cv)(uv);class Wt extends m.Component{constructor(t){super(t);const r={searchApi:t.searchApi,suggestionApi:t.suggestionApi,urlHandlerApi:t.urlHandlerApi.enabled?t.urlHandlerApi.customHandler||new By(t.urlHandlerApi.overrideConfig):null,searchOnInit:t.searchOnInit,initialQueryState:t.initialQueryState,defaultSortingOnEmptyQueryString:t.defaultSortingOnEmptyQueryString};this.store=ov(r),this.appName=t.appName,this.eventListenerEnabled=t.eventListenerEnabled,this.componentIndex=0}render(){const{appName:t,children:r,eventListenerEnabled:n,overridableId:a,searchOnInit:s}=this.props,l={appName:t,buildUID:(c,d)=>zr(c,d,t),nextComponentIndex:()=>`${this.appName}_${this.componentIndex++}`},o=zr("ReactSearchKit.children",a,t);return i.default.createElement(x.Provider,{value:l},i.default.createElement(w.Provider,{store:this.store},i.default.createElement(dv,{searchOnInit:s,eventListenerEnabled:n},i.default.createElement(b.default,{id:o},r))))}}Wt.defaultProps={suggestionApi:null,urlHandlerApi:{enabled:!0,overrideConfig:{},customHandler:null},searchOnInit:!0,appName:"",eventListenerEnabled:!1,overridableId:"",initialQueryState:{},defaultSortingOnEmptyQueryString:{}};Wt.contextType=x;var fv=b.default.component("ReactSearchKit",Wt);class aa extends m.Component{constructor(t){super(t),this._getLabel=r=>{const n=r[0];let a=r[1],s=[n,a];if(r.length===3){const{label:o,activeFilter:c}=this._getLabel(r[2]);a=`${a}.${o}`,s.push(c)}return{label:a,activeFilter:s}},this.updateQueryFilters=t.updateQueryFilters}render(){const{filters:t,overridableId:r}=this.props;return!!t.length&&i.default.createElement(sa,{filters:t,removeActiveFilter:this.updateQueryFilters,getLabel:this._getLabel,overridableId:r})}}aa.defaultProps={overridableId:""};const sa=e=>{let{overridableId:t,filters:r,removeActiveFilter:n,getLabel:a}=e;const{buildUID:s}=m.useContext(x);return i.default.createElement(b.default,{id:s("ActiveFilters.element",t),filters:r,removeActiveFilter:n,getLabel:a},i.default.createElement(i.default.Fragment,null,r.map((l,o)=>{const{label:c,activeFilter:d}=a(l);return i.default.createElement(u.Label,{image:!0,key:o,onClick:()=>n(d)},c,i.default.createElement(u.Icon,{name:"delete"}))})))};sa.defaultProps={overridableId:""};var pv=b.default.component("ActiveFilters",aa);const hv=e=>({updateQueryFilters:t=>e(Kt(t))});w.connect(e=>({filters:e.query.filters}),hv)(pv);function gv(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(!e||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var mv=`.AutoCompleteText{position:relative;z-index:100}.AutoCompleteText .input button,.AutoCompleteText .input input{border:none;border-radius:0}.AutoCompleteText ul{background-color:#fff;border:1px solid #e0e1e2;border-radius:0 0 .3rem .3rem;color:#000;list-style-type:none;margin:0;padding:0;position:absolute;text-align:left;width:100%}.AutoCompleteText ul:before{content:""}.AutoCompleteText li{cursor:pointer;padding:.3em 1em}.AutoCompleteText li:hover{background-color:#e0e1e2;border-radius:.3rem;text-decoration:underline}
/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vaG9tZS9ydW5uZXIvd29yay9yZWFjdC1zZWFyY2hraXQvcmVhY3Qtc2VhcmNoa2l0L3NyYy9saWIvY29tcG9uZW50cy9BdXRvY29tcGxldGVTZWFyY2hCYXIvQXV0b2NvbXBsZXRlU2VhcmNoQmFyLnNjc3MiLCJBdXRvY29tcGxldGVTZWFyY2hCYXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQkFDRSxpQkFBQSxDQUNBLFdDQ0YsQ0RPQSwrREFDRSxXQUFBLENBQ0EsZUNDRixDREVBLHFCQU1FLHFCQUFBLENBR0Esd0JBQUEsQ0FDQSw2QkFBQSxDQUxBLFVBQUEsQ0FGQSxvQkFBQSxDQUlBLFFBQUEsQ0FDQSxTQUFBLENBTkEsaUJBQUEsQ0FFQSxlQUFBLENBSEEsVUNVRixDREVBLDRCQUNFLFVDQ0YsQ0RFQSxxQkFFRSxjQUFBLENBREEsZ0JDRUYsQ0RFQSwyQkFFRSx3QkFBQSxDQUNBLG1CQUFBLENBRkEseUJDR0YiLCJmaWxlIjoiQXV0b2NvbXBsZXRlU2VhcmNoQmFyLnNjc3MifQ== */`;gv(mv);class ia extends m.Component{constructor(t){super(t),this._handleAutocompleteChange=r=>{r.length>=this.minCharsToAutocomplete&&this.updateSuggestions(r)},this.onInputChange=async r=>{await this.setState({currentValue:r}),this.handleAutocompleteChange(this.state.currentValue)},this.executeSearch=()=>{this.updateQueryString(this.state.currentValue)},this.updateQueryString=this.props.updateQueryString,this.updateSuggestions=this.props.debounce?ri.default.debounce(this.props.updateSuggestions,this.props.debounceTime,{leading:!0}):this.props.updateSuggestions,this.clearSuggestions=this.props.clearSuggestions,this.minCharsToAutocomplete=this.props.minCharsToAutocomplete,this.state={currentValue:this.props.queryString||""},this.handleAutocompleteChange=t.handleAutocompleteChange||this._handleAutocompleteChange}render(){const{placeholder:t,suggestions:r,overridableId:n}=this.props;return i.default.createElement(vv,{placeholder:t,queryString:this.state.currentValue,querySuggestions:r,onInputChange:this.onInputChange,executeSearch:this.executeSearch,overridableId:n})}}ia.defaultProps={handleAutocompleteChange:null,placeholder:"Type something",minCharsToAutocomplete:3,overridableId:""};const yv=e=>i.default.createElement(ia,Object.assign({key:e.queryString},e)),vv=e=>{let{overridableId:t,placeholder:r,queryString:n,querySuggestions:a,onInputChange:s,executeSearch:l,...o}=e;const{buildUID:c}=m.useContext(x),d=(p,h)=>{l()},f=(p,h)=>{p.key==="Enter"&&l()};return i.default.createElement(b.default,Object.assign({id:c("AutocompleteSearchBar.element",t)},o),i.default.createElement("div",{className:"AutoCompleteText"},i.default.createElement(u.Input,{action:{content:"Search",onClick:d},fluid:!0,placeholder:r,onChange:(p,h)=>{let{value:g}=h;s(g)},value:n,onKeyPress:f}),i.default.createElement(Ev,{querySuggestions:a,overridableId:t})))},Ev=e=>{let{overridableId:t,...r}=e;const{querySuggestions:n}=r,{buildUID:a}=m.useContext(x),s=async l=>{await(void 0).setState({currentValue:l}),(void 0).clearSuggestions(),(void 0).executeSearch()};return n.length===0?null:i.default.createElement(b.default,Object.assign({id:a("AutocompleteSearchBar.suggestions",t)},r),i.default.createElement("ul",null,n.map(l=>i.default.createElement(u.Button,{as:"li",onClick:()=>s(l),key:l},l))))};var bv=b.default.component("AutocompleteSearchBar",yv);const Sv=e=>({updateQueryString:t=>e(na(t)),updateSuggestions:t=>e(Jy(t)),clearSuggestions:()=>e(ev())}),$v=e=>({queryString:e.query.queryString,suggestions:e.query.suggestions});w.connect($v,Sv)(bv);class et extends m.Component{constructor(t){super(t),this._isSelected=(r,n,a)=>a.filter(s=>s[0]===r&&s[1]===n).length>=1,this.getChildAggCmps=(r,n)=>{const a=this.childAgg&&this.childAgg.aggName in r;let s=[];if(a){const l=r[this.childAgg.aggName].buckets;n.forEach(c=>{const d=c[0]===this.aggName,f=c[1]===r.key,p=c.length===3;d&&f&&p&&s.push(c[2])});const o=c=>{this.onFilterClicked([this.aggName,r.key,c])};return i.default.createElement(et,{buckets:l,selectedFilters:s,field:this.childAgg.field,aggName:this.childAgg.aggName,childAgg:this.childAgg.childAgg,onFilterClicked:o})}return null},this.field=t.field,this.aggName=t.aggName,this.childAgg=t.childAgg,this.onFilterClicked=t.onFilterClicked}render(){const{buckets:t,selectedFilters:r,overridableId:n}=this.props,a=t.map(s=>{const l=s.key_as_string?s.key_as_string:s.key,o=this._isSelected(this.aggName,l,r),c=f=>{this.onFilterClicked([this.aggName,f])},d=f=>this.getChildAggCmps(f,r);return i.default.createElement(oa,{key:s.key,bucket:s,keyField:l,isSelected:o,onFilterClicked:c,getChildAggCmps:d,overridableId:n})});return i.default.createElement(la,{valuesCmp:a,overridableId:n})}}et.defaultProps={childAgg:null,overridableId:""};const la=e=>{let{valuesCmp:t,overridableId:r}=e;const{buildUID:n}=m.useContext(x);return i.default.createElement(b.default,{id:n("BucketAggregationContainer.element",r),valuesCmp:t},i.default.createElement(u.List,null,t))};la.defaultProps={overridableId:""};const oa=e=>{let{bucket:t,isSelected:r,onFilterClicked:n,getChildAggCmps:a,overridableId:s,keyField:l}=e;const{buildUID:o,nextComponentIndex:c}=m.useContext(x),d=t.label?t.label:`${l} (${t.doc_count.toLocaleString("en-US")})`,f=a(t);return i.default.createElement(b.default,{id:o("BucketAggregationValues.element",s),bucket:t,label:d,onFilterClicked:n,isSelected:r,childAggCmps:f},i.default.createElement(u.List.Item,{key:t.key},i.default.createElement(u.Checkbox,{label:d,id:c(),value:t.key,onClick:()=>n(t.key),checked:r}),f))};oa.defaultProps={overridableId:""};var _v=b.default.component("BucketAggregationValues",et);class ua extends m.Component{constructor(t){super(t),this.onFilterClicked=r=>{this.updateQueryFilters(r)},this._renderValues=(r,n)=>{const{overridableId:a}=this.props;return i.default.createElement(_v,{buckets:r,selectedFilters:n,field:this.agg.field,aggName:this.agg.aggName,childAgg:this.agg.childAgg,onFilterClicked:this.onFilterClicked,overridableId:a})},this._getSelectedFilters=r=>r.filter(n=>n[0]===this.agg.aggName),this._getResultBuckets=r=>{const n=pe(r,this.agg.aggName,{});return"buckets"in n?(Array.isArray(n.buckets)||(n.buckets=Object.entries(n.buckets).map(a=>{let[s,l]=a;return{...l,key:s}})),n.buckets):[]},this.title=t.title,this.agg=t.agg,this.updateQueryFilters=t.updateQueryFilters}render(){const{userSelectionFilters:t,resultsAggregations:r,overridableId:n,...a}=this.props,s=this._getSelectedFilters(t),l=this._getResultBuckets(r),o=l.length?this._renderValues(l,s):null;return i.default.createElement(ca,Object.assign({title:this.title,containerCmp:o,overridableId:n},a))}}ua.defaultProps={overridableId:""};const ca=e=>{let{overridableId:t,agg:r,title:n,containerCmp:a,updateQueryFilters:s}=e;const{buildUID:l}=m.useContext(x);return a&&i.default.createElement(b.default,{id:l("BucketAggregation.element",t),agg:r,title:n,containerCmp:a,updateQueryFilters:s},i.default.createElement(u.Card,null,i.default.createElement(u.Card.Content,null,i.default.createElement(u.Card.Header,null,n)),i.default.createElement(u.Card.Content,null,a)))};ca.defaultProps={containerCmp:null,overridableId:""};var Cv=b.default.component("BucketAggregation",ua);const xv=e=>({updateQueryFilters:t=>e(Kt(t))});w.connect(e=>({userSelectionFilters:e.query.filters,resultsAggregations:e.results.data.aggregations}),xv)(Cv);class da extends m.Component{render(){const{children:t,condition:r}=this.props;return r?t:null}}da.defaultProps={condition:!0};var L=b.default.component("ShouldRender",da);class fa extends m.Component{render(){const{loading:t,totalResults:r,label:n,overridableId:a}=this.props;return i.default.createElement(L,{condition:!t&&r>0},n(i.default.createElement(pa,{totalResults:r,overridableId:a})))}}fa.defaultProps={label:e=>e,overridableId:""};const pa=e=>{let{totalResults:t,overridableId:r}=e;const{buildUID:n}=m.useContext(x),a=n("Count.element",r);return i.default.createElement(b.default,{id:a,totalResults:t},i.default.createElement(u.Label,{color:"blue"},t.toLocaleString("en-US")))};pa.defaultProps={overridableId:""};var Tv=b.default.component("Count",fa);const wv=w.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total}))(Tv);class ha extends m.Component{constructor(t){super(t),this.resetQuery=t.resetQuery}render(){const{loading:t,totalResults:r,error:n,queryString:a,extraContent:s,overridableId:l,userSelectionFilters:o,...c}=this.props;return i.default.createElement(L,{condition:!t&&j(n)&&r===0},i.default.createElement(ga,Object.assign({},c,{queryString:a,resetQuery:this.resetQuery,extraContent:s,userSelectionFilters:o,overridableId:l})))}}ha.defaultProps={queryString:"",extraContent:null,overridableId:""};const ga=e=>{let{overridableId:t,queryString:r,resetQuery:n,extraContent:a,userSelectionFilters:s}=e;const{buildUID:l}=m.useContext(x);return i.default.createElement(b.default,{id:l("EmptyResults.element",t),queryString:r,resetQuery:n,extraContent:a,userSelectionFilters:s},i.default.createElement(u.Segment,{placeholder:!0,textAlign:"center"},i.default.createElement(u.Header,{icon:!0},i.default.createElement(u.Icon,{name:"search"}),"No results found!"),r&&i.default.createElement("em",null,'Current search "',r,'"'),i.default.createElement("br",null),i.default.createElement(u.Button,{primary:!0,onClick:()=>n()},"Clear query"),a))};ga.defaultProps={queryString:"",extraContent:null,overridableId:""};var Fv=b.default.component("EmptyResults",ha);const Iv=e=>({resetQuery:()=>e(Ky())}),Av=w.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,error:e.results.error,queryString:e.query.queryString,userSelectionFilters:e.query.filters}),Iv)(Fv);function ma(e){let{loading:t,error:r,overridableId:n}=e;return i.default.createElement(L,{condition:!t&&!j(r)},i.default.createElement(ya,{error:r,overridableId:n}))}ma.defaultProps={overridableId:""};const ya=e=>{let{error:t,overridableId:r}=e;const{buildUID:n}=m.useContext(x);return i.default.createElement(b.default,{id:n("Error.element",r),error:t},i.default.createElement("div",null,"Oops! Something went wrong while fetching results."))};ya.defaultProps={overridableId:""};var Ov=b.default.component("Error",ma);w.connect(e=>({loading:e.results.loading,error:e.results.error}))(Ov);function va(e){const t=a=>i.default.createElement(e,a),r=a=>({currentQueryState:a.query,currentResultsState:a.results}),n=a=>({updateQueryState:s=>a(ra(s))});return w.connect(r,n)(t)}class Ea extends m.Component{constructor(t){super(t),this.onLayoutChange=r=>{this.updateLayout(r)},this.updateLayout=t.updateLayout}render(){const{currentLayout:t,loading:r,totalResults:n,overridableId:a}=this.props;return i.default.createElement(L,{condition:t!==null&&!r&&n>0},i.default.createElement(ba,{currentLayout:t,onLayoutChange:this.onLayoutChange,overridableId:a}))}}Ea.defaultProps={currentLayout:null,overridableId:""};const ba=e=>{let{overridableId:t,currentLayout:r,onLayoutChange:n}=e;const{buildUID:a}=m.useContext(x);return i.default.createElement(b.default,{id:a("LayoutSwitcher.element",t),currentLayout:r,onLayoutChange:n},i.default.createElement(u.Menu,{compact:!0,icon:!0},i.default.createElement(u.Menu.Item,{name:"list",active:r==="list",onClick:(s,l)=>{let{name:o}=l;return n(o)}},i.default.createElement(u.Icon,{name:"list layout"})),i.default.createElement(u.Menu.Item,{name:"grid",active:r==="grid",onClick:(s,l)=>{let{name:o}=l;return n(o)}},i.default.createElement(u.Icon,{name:"grid layout"}))))};ba.defaultProps={currentLayout:null,overridableId:""};var Rv=b.default.component("LayoutSwitcher",Ea);const Pv=e=>({updateLayout:t=>e(Hy(t))});w.connect(e=>({loading:e.results.loading,currentLayout:e.query.layout,totalResults:e.results.data.total}),Pv)(Rv);const Qr={boundaryRangeCount:1,siblingRangeCount:1,showEllipsis:!0,showFirst:!0,showLast:!0,showPrev:!0,showNext:!0,size:"large"};class Sa extends m.Component{constructor(t){super(t),this.onPageChange=r=>{const{currentPage:n}=this.props;r!==n&&this.updateQueryPage(r)},this.updateQueryPage=t.updateQueryPage,this.options=t.options?{...Qr,...t.options}:Qr}render(){const{loading:t,totalResults:r,currentPage:n,currentSize:a,overridableId:s,showWhenOnlyOnePage:l}=this.props;return i.default.createElement(L,{condition:!t&&n>-1&&a>-1&&l?r>0:r>a},i.default.createElement($a,{currentPage:n,currentSize:a,totalResults:r,onPageChange:this.onPageChange,options:this.options,overridableId:s,maxTotalResults:this.options.maxTotalResults}))}}Sa.defaultProps={options:{},overridableId:"",showWhenOnlyOnePage:!0};const $a=e=>{let{overridableId:t,currentPage:r,currentSize:n,totalResults:a,onPageChange:s,options:l,maxTotalResults:o,...c}=e;const d=l.boundaryRangeCount,f=l.siblingRangeCount,p=l.showEllipsis,h=l.showFirst,g=l.showLast,y=l.showPrev,E=l.showNext,S=l.size,v=Math.floor(o/n),_=Math.ceil(a/n),F=Math.min(_,v),{buildUID:A}=m.useContext(x);return r>_&&s(_),i.default.createElement(b.default,{id:A("Pagination.element",t),currentPage:r,currentSize:n,totalResults:a,options:l,onPageChange:s},i.default.createElement(u.Pagination,Object.assign({activePage:r,totalPages:F,onPageChange:(M,$)=>{let{activePage:q}=$;return s(q)},boundaryRange:d,siblingRange:f,ellipsisItem:p?void 0:null,firstItem:h?void 0:null,lastItem:g?void 0:null,prevItem:y?void 0:null,nextItem:E?void 0:null,size:S},c)))};$a.defaultProps={options:{},overridableId:"",maxTotalResults:1e4};var kv=b.default.component("Pagination",Sa);const Dv=e=>({updateQueryPage:t=>e(Gy(t))}),Lv=w.connect(e=>({currentPage:e.query.page,currentSize:e.query.size,loading:e.results.loading,totalResults:e.results.data.total}),Dv)(kv);function _a(e){let{loading:t,totalResults:r,results:n,resultsPerRow:a,overridableId:s,onResultsRendered:l}=e;return m.useEffect(()=>{l&&l()},[l]),i.default.createElement(L,{condition:!t&&r>0},i.default.createElement(Ca,{results:n,resultsPerRow:a,overridableId:s}))}_a.defaultProps={resultsPerRow:3,overridableId:"",onResultsRendered:()=>{}};const Uv=e=>{let{result:t,overridableId:r}=e;const{buildUID:n}=m.useContext(x);return i.default.createElement(b.default,{id:n("ResultsGrid.item",r),result:t},i.default.createElement(u.Card,{fluid:!0,href:`#${t.id}`},i.default.createElement(u.Image,{src:t.imgSrc||"http://placehold.it/200"}),i.default.createElement(u.Card.Content,null,i.default.createElement(u.Card.Header,null,t.title),i.default.createElement(u.Card.Description,null,t.description))))},Ca=e=>{let{overridableId:t,results:r,resultsPerRow:n}=e;const{buildUID:a}=m.useContext(x),s=r.map((l,o)=>i.default.createElement(Uv,{key:o,result:l,overridableId:t}));return i.default.createElement(b.default,{id:a("ResultsGrid.container",t),results:s,resultsPerRow:n},i.default.createElement(u.Card.Group,{itemsPerRow:n},s))};Ca.defaultProps={resultsPerRow:3,overridableId:""};var Nv=b.default.component("ResultsGrid",_a);const Bv=w.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,results:e.results.data.hits}))(Nv);function xa(e){let{loading:t,totalResults:r,results:n,overridableId:a,onResultsRendered:s}=e;return m.useEffect(()=>{s&&s()},[s]),i.default.createElement(L,{condition:!t&&r>0},i.default.createElement(Ta,{results:n,overridableId:a}))}xa.defaultProps={overridableId:"",onResultsRendered:()=>{}};const Mv=e=>{let{result:t,overridableId:r}=e;const{buildUID:n}=m.useContext(x);return i.default.createElement(b.default,{id:n("ResultsList.item",r),result:t},i.default.createElement(u.Item,{href:`#${t.id}`},i.default.createElement(u.Item.Image,{size:"small",src:t.imgSrc||"http://placehold.it/200"}),i.default.createElement(u.Item.Content,null,i.default.createElement(u.Item.Header,null,t.title),i.default.createElement(u.Item.Description,null,t.description))))},Ta=e=>{let{results:t,overridableId:r}=e;const{buildUID:n}=m.useContext(x),a=t.map((s,l)=>i.default.createElement(Mv,{result:s,key:l,overridableId:r}));return i.default.createElement(b.default,{id:n("ResultsList.container",r),results:a},i.default.createElement(u.Item.Group,{divided:!0,relaxed:!0,link:!0},a))};Ta.defaultProps={overridableId:""};var zv=b.default.component("ResultsList",xa);const wa=w.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,results:e.results.data.hits}))(zv);function Fa(e){let{children:t,loading:r,overridableId:n}=e;return r?i.default.createElement(Ia,{overridableId:n}):t}Fa.defaultProps={overridableId:""};const Ia=e=>{let{overridableId:t}=e;const{buildUID:r}=m.useContext(x);return i.default.createElement(b.default,{id:r("ResultsLoader.element",t)},i.default.createElement(u.Loader,{active:!0,size:"huge",inline:"centered"}))};Ia.defaultProps={overridableId:""};var Qv=b.default.component("ResultsLoader",Fa);const jv=w.connect(e=>({loading:e.results.loading}))(Qv);function Aa(e){let{loading:t,totalResults:r,currentLayout:n,overridableId:a,onResultsRendered:s}=e;return i.default.createElement(L,{condition:n!=null&&!t&&r>0},i.default.createElement(Oa,{layout:n,overridableId:a,onResultsRendered:s}))}Aa.defaultProps={currentLayout:null,overridableId:"",onResultsRendered:()=>{}};const Oa=e=>{let{layout:t,overridableId:r,onResultsRendered:n}=e;const{buildUID:a}=m.useContext(x);return i.default.createElement(b.default,{id:a("ResultsMultiLayout.element",r),layout:t,onResultsRendered:n},t==="list"?i.default.createElement(wa,{overridableId:r,onResultsRendered:n}):i.default.createElement(Bv,{overridableId:r,onResultsRendered:n}))};Oa.defaultProps={layout:"",overridableId:"",onResultsRendered:()=>{}};var qv=b.default.component("ResultsMultiLayout",Aa);w.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,currentLayout:e.query.layout}))(qv);class Ra extends m.Component{constructor(t){super(t),this.onChange=r=>{const{currentSize:n}=this.props;r!==n&&this.updateQuerySize(r)},this.options=t.values,this.updateQuerySize=t.updateQuerySize}render(){const{loading:t,currentSize:r,totalResults:n,label:a,overridableId:s,ariaLabel:l,selectOnNavigation:o,showWhenOnlyOnePage:c}=this.props;return i.default.createElement(L,{condition:!t&&r!==-1&&c?n>0:n>r},a(i.default.createElement(Pa,{currentSize:r,options:this.options,onValueChange:this.onChange,overridableId:s,ariaLabel:l,selectOnNavigation:o})))}}Ra.defaultProps={label:e=>e,overridableId:"",ariaLabel:"Results per page",selectOnNavigation:!1,showWhenOnlyOnePage:!0};const Pa=e=>{let{overridableId:t,currentSize:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:l}=e;const{buildUID:o}=m.useContext(x),c=n.map((d,f)=>({key:f,text:d.text,value:d.value}));return i.default.createElement(b.default,{id:o("ResultsPerPage.element",t),currentSize:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:l},i.default.createElement(u.Dropdown,{inline:!0,compact:!0,options:c,value:r,onChange:(d,f)=>{let{value:p}=f;return a(p)},"aria-label":s,selectOnNavigation:l}))};Pa.defaultProps={ariaLabel:"Results per page",selectOnNavigation:!1,overridableId:""};var Gv=b.default.component("ResultsPerPage",Ra);const Vv=e=>({updateQuerySize:t=>e(Vy(t))}),Hv=w.connect(e=>({loading:e.results.loading,currentSize:e.query.size,totalResults:e.results.data.total}),Vv)(Gv);class ka extends m.Component{constructor(t){super(t),this.onInputChange=r=>{this.setState({currentValue:r})},this.executeSearch=()=>{const{currentValue:r}=this.state;this.updateQueryString(r)},this.onBtnSearchClick=()=>{this.executeSearch()},this.onKeyPress=r=>{r.key==="Enter"&&this.executeSearch()},this.updateQueryString=t.updateQueryString,this.state={currentValue:t.queryString||""}}render(){const{actionProps:t,autofocus:r,executeSearch:n,onBtnSearchClick:a,onInputChange:s,onKeyPress:l,overridableId:o,placeholder:c,uiProps:d}=this.props,{currentValue:f}=this.state;return i.default.createElement(Zt,{actionProps:t,autofocus:r,executeSearch:n||this.executeSearch,onBtnSearchClick:a||this.onBtnSearchClick,onInputChange:s||this.onInputChange,onKeyPress:l||this.onKeyPress,overridableId:o,placeholder:c,queryString:f,uiProps:d})}}ka.defaultProps={actionProps:null,autofocus:!1,executeSearch:null,onBtnSearchClick:null,onInputChange:null,onKeyPress:null,overridableId:"",placeholder:"",queryString:"",uiProps:null};const Da=e=>{const{queryString:t}=e;return i.default.createElement(ka,Object.assign({key:t},e))};Da.defaultProps={queryString:""};class Zt extends m.Component{componentDidMount(){const{autofocus:t}=this.props;t&&this.focusInput&&this.focusInput.focus()}render(){const{actionProps:t,onBtnSearchClick:r,onInputChange:n,onKeyPress:a,overridableId:s,placeholder:l,queryString:o,uiProps:c}=this.props,{buildUID:d}=this.context;return i.default.createElement(b.default,{id:d("SearchBar.element",s),queryString:o,onBtnSearchClick:r,onInputChange:n,onKeyPress:a,placeholder:l,actionProps:t,uiProps:c},i.default.createElement(u.Input,Object.assign({action:{content:"Search",onClick:r,...t},fluid:!0},c,{placeholder:l||"Type something",onChange:(f,p)=>{let{value:h}=p;n(h)},value:o,onKeyPress:a,ref:f=>{this.focusInput=f}})))}}Zt.defaultProps={actionProps:null,autofocus:!1,onBtnSearchClick:null,onInputChange:null,onKeyPress:null,overridableId:"",placeholder:"",queryString:"",uiProps:null};Zt.contextType=x;var Kv=b.default.component("SearchBar",Da);const Yv=e=>({updateQueryString:t=>e(na(t))}),Wv=w.connect(e=>({queryString:e.query.queryString}),Yv)(Kv);class La extends m.Component{constructor(t){super(t),this._computeValue=(r,n)=>n?`${r}-${n}`:r,this.onChange=r=>{const{currentSortBy:n,currentSortOrder:a}=this.props;if(r===this._computeValue(n,a))return;const s=this.options.find(l=>l.value===r);this.updateQuerySorting(s.sortBy,s.sortOrder)},this.options=t.values,this.updateQuerySorting=t.updateQuerySorting,this.options.forEach(r=>r.value=this._computeValue(r.sortBy,r.sortOrder))}render(){const{currentSortBy:t,currentSortOrder:r,loading:n,totalResults:a,label:s,overridableId:l,sortOrderDisabled:o,ariaLabel:c,selectOnNavigation:d}=this.props;return i.default.createElement(L,{condition:t!==null&&(o||t!==null)&&!n&&a>0},s(i.default.createElement(Ua,{currentSortBy:t,currentSortOrder:r,options:this.options,onValueChange:this.onChange,computeValue:this._computeValue,overridableId:l,ariaLabel:c,selectOnNavigation:d})))}}La.defaultProps={currentSortBy:null,currentSortOrder:null,label:e=>e,overridableId:"",sortOrderDisabled:!1,ariaLabel:"Sort",selectOnNavigation:!1};const Ua=e=>{let{overridableId:t,currentSortBy:r,currentSortOrder:n,options:a,onValueChange:s,computeValue:l,ariaLabel:o,selectOnNavigation:c}=e;const{buildUID:d}=m.useContext(x),f=l(r,n),p=a.map((h,g)=>({key:g,text:h.text,value:h.value}));return i.default.createElement(b.default,{id:d("Sort.element",t),options:a,currentSortBy:r,currentSortOrder:n,onValueChange:s,ariaLabel:o,selectOnNavigation:c},i.default.createElement(u.Dropdown,{selection:!0,options:p,value:f,onChange:(h,g)=>{let{value:y}=g;return s(y)},"aria-label":o,selectOnNavigation:c}))};Ua.defaultProps={currentSortBy:null,currentSortOrder:null,overridableId:"",ariaLabel:"Sort",selectOnNavigation:!1};var Zv=b.default.component("Sort",La);const Jv=e=>({updateQuerySorting:(t,r)=>e(Qy(t,r))});w.connect(e=>({currentSortBy:e.query.sortBy,currentSortOrder:e.query.sortOrder,loading:e.results.loading,totalResults:e.results.data.total}),Jv)(Zv);class Na extends m.Component{constructor(t){super(t),this.onChange=r=>{const{currentSortBy:n}=this.props;r!==n&&this.updateQuerySortBy(r)},this.options=t.values,this.updateQuerySortBy=t.updateQuerySortBy}render(){const{currentSortBy:t,loading:r,totalResults:n,label:a,overridableId:s,ariaLabel:l,selectOnNavigation:o}=this.props;return i.default.createElement(L,{condition:t!==null&&!r&&n>0},a(i.default.createElement(Ba,{currentSortBy:t,options:this.options,onValueChange:this.onChange,overridableId:s,ariaLabel:l,selectOnNavigation:o})))}}Na.defaultProps={currentSortBy:null,label:e=>e,overridableId:"",ariaLabel:"Sort Results By",selectOnNavigation:!1};const Ba=e=>{let{overridableId:t,currentSortBy:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:l}=e;const{buildUID:o}=m.useContext(x),c=n.map((d,f)=>({key:f,text:d.text,value:d.value}));return i.default.createElement(b.default,{id:o("SortBy.element",t),options:n,currentSortBy:r,onValueChange:a,ariaLabel:s,selectOnNavigation:l},i.default.createElement(u.Dropdown,{selection:!0,compact:!0,options:c,value:r,onChange:(d,f)=>{let{value:p}=f;return a(p)},"aria-label":s,selectOnNavigation:l}))};Ba.defaultProps={currentSortBy:null,overridableId:"",ariaLabel:"Sort Results By",selectOnNavigation:!1};var Xv=b.default.component("SortBy",Na);const eE=e=>({updateQuerySortBy:t=>e(jy(t))});w.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,currentSortBy:e.query.sortBy}),eE)(Xv);class Ma extends m.Component{constructor(t){super(t),this.onChange=r=>{const{currentSortOrder:n}=this.props;r!==n&&this.updateQuerySortOrder(r)},this.options=t.values,this.updateQuerySortOrder=t.updateQuerySortOrder}render(){const{currentSortOrder:t,loading:r,totalResults:n,label:a,overridableId:s,ariaLabel:l,selectOnNavigation:o}=this.props;return i.default.createElement(L,{condition:t!==null&&!r&&n>0},a(i.default.createElement(za,{currentSortOrder:t,options:this.options,onValueChange:this.onChange,overridableId:s,ariaLabel:l,selectOnNavigation:o})))}}Ma.defaultProps={currentSortOrder:null,label:e=>e,overridableId:"",ariaLabel:"Sort Order",selectOnNavigation:!1};const za=e=>{let{overridableId:t,currentSortOrder:r,options:n,onValueChange:a,ariaLabel:s,selectOnNavigation:l}=e;const{buildUID:o}=m.useContext(x),c=n.map((d,f)=>({key:f,text:d.text,value:d.value}));return i.default.createElement(b.default,{id:o("SortOrder.element",t),options:n,currentSortOrder:r,onValueChange:a,ariaLabel:s,selectOnNavigation:l},i.default.createElement(u.Dropdown,{selection:!0,compact:!0,options:c,value:r,onChange:(d,f)=>{let{value:p}=f;return a(p)},"aria-label":s,selectOnNavigation:l}))};za.defaultProps={currentSortOrder:null,overridableId:"",ariaLabel:"Sort Order",selectOnNavigation:!1};var tE=b.default.component("SortOrder",Ma);const rE=e=>({updateQuerySortOrder:t=>e(qy(t))});w.connect(e=>({loading:e.results.loading,totalResults:e.results.data.total,currentSortOrder:e.query.sortOrder}),rE)(tE);const Qa=e=>{let{overridableId:t,userSelectionFilters:r,title:n,label:a,filterValue:s,updateQueryFilters:l}=e;const o=p=>p.filter(g=>g[0]===s[0]).length>0,c=()=>{l(s)},{buildUID:d}=m.useContext(x),f=o(r);return i.default.createElement(b.default,{id:d("SearchFilters.Toggle.element",t),title:n,label:a,filterValue:s,userSelectionFilters:r,updateQueryFilters:l},i.default.createElement(u.Card,null,i.default.createElement(u.Card.Content,null,i.default.createElement(u.Card.Header,null,n)),i.default.createElement(u.Card.Content,null,i.default.createElement(u.Checkbox,{toggle:!0,label:a,onClick:c,checked:f}))))};Qa.defaultProps={overridableId:""};var nE=b.default.component("SearchFilters.Toggle",Qa);const aE=e=>({updateQueryFilters:t=>e(Kt(t))});w.connect(e=>({userSelectionFilters:e.query.filters}),aE)(nE);const ja=i.default.createContext(null),sE=({config:e,children:t,updateQueryState:r,currentQueryState:n})=>{const a=m.useCallback(()=>{r({...n,queryString:n.queryString})},[r,n]);return i.default.createElement(ja.Provider,{value:{config:e,refreshSearch:a}},t)},iE=va(sE),tt=()=>{const e=i.default.useContext(ja);if(!e)throw new Error("useSearchConfig must be used within a SearchProvider");return e},qa=({progress:e})=>i.default.createElement(m.Fragment,null,Object.entries(e).map(([t,r])=>i.default.createElement(u.Segment.Inline,{basic:!0,key:t},i.default.createElement(u.Icon,{name:"spinner",loading:!0,style:{marginInlineEnd:"0.5rem"}}),i.default.createElement("strong",null,t,":")," ",r,"%"))),lE=({status:e,...t})=>e==="damaged"||e==="imported with failures"||e==="validated with failures"||e==="serializer validation failed"||e==="validation failed"||e==="import failed"?i.default.createElement(u.Icon,{name:"close",color:"red",...t}):e==="success"||e==="validated"||e==="created"?i.default.createElement(u.Icon,{name:"check circle",color:"green",...t}):e==="importing"||e==="validating"?i.default.createElement(u.Icon,{name:"spinner",loading:!0,...t}):i.default.createElement(u.Icon,{...t}),Ga=({status:e,children:t,...r})=>e==="damaged"||e==="imported with failures"||e==="validated with failures"||e==="serializer validation failed"||e==="validation failed"||e==="import failed"?i.default.createElement(u.Label,{color:"red",...r},i.default.createElement(u.Icon,{name:"warning sign"}),t):e==="success"||e==="validated"||e==="created"?i.default.createElement(u.Label,{color:"green",...r},i.default.createElement(u.Icon,{name:"check circle"}),t):e==="importing"||e==="validating"?i.default.createElement(u.Label,{color:"blue",...r},i.default.createElement(u.Icon,{name:"spinner",loading:!0}),t):i.default.createElement(u.Label,{...r},t),ge=e=>(e==null?void 0:e.charAt(0).toUpperCase())+(e==null?void 0:e.slice(1))||"",Va=e=>e.reduce((t,r)=>t+r.file.size,0),Jt=e=>rt(Va(e)),rt=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${Number.parseFloat((e/t**n).toFixed(2))} ${r[n]}`},Le=e=>new Date(e).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});var Ha={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(e,t){(function(r){var n;if(e.exports=r(),n=!0,!n){var a=window.Cookies,s=window.Cookies=r();s.noConflict=function(){return window.Cookies=a,s}}})(function(){function r(){for(var s=0,l={};s<arguments.length;s++){var o=arguments[s];for(var c in o)l[c]=o[c]}return l}function n(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(s){function l(){}function o(d,f,p){if(!(typeof document>"u")){p=r({path:"/"},l.defaults,p),typeof p.expires=="number"&&(p.expires=new Date(new Date*1+p.expires*864e5)),p.expires=p.expires?p.expires.toUTCString():"";try{var h=JSON.stringify(f);/^[\{\[]/.test(h)&&(f=h)}catch{}f=s.write?s.write(f,d):encodeURIComponent(String(f)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),d=encodeURIComponent(String(d)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var g="";for(var y in p)p[y]&&(g+="; "+y,p[y]!==!0&&(g+="="+p[y].split(";")[0]));return document.cookie=d+"="+f+g}}function c(d,f){if(!(typeof document>"u")){for(var p={},h=document.cookie?document.cookie.split("; "):[],g=0;g<h.length;g++){var y=h[g].split("="),E=y.slice(1).join("=");!f&&E.charAt(0)==='"'&&(E=E.slice(1,-1));try{var S=n(y[0]);if(E=(s.read||s)(E,S)||n(E),f)try{E=JSON.parse(E)}catch{}if(p[S]=E,d===S)break}catch{}}return d?p[d]:p}}return l.set=o,l.get=function(d){return c(d,!1)},l.getJSON=function(d){return c(d,!0)},l.remove=function(d,f){o(d,"",r(f,{expires:-1}))},l.defaults={},l.withConverter=a,l}return a(function(){})})})(Ha);var oE=Ha.exports;const uE=I(oE),Ka=()=>uE.get("csrftoken")||null,Ya=e=>{switch(e){case"success":return"green";case"validation failed":case"serializer validation failed":case"import failed":case"imported with failures":case"validated with failures":case"damaged":return"red";case"validated":case"created":return"blue";case"importing":case"validating":return"yellow";default:return"grey"}},cE=e=>new qn(e),dE=(e,t={},r=!0)=>({axios:{url:e,headers:{Accept:"application/vnd.inveniordm.v1+json",...t},withCredentials:r}}),k=Fe.default.create({baseURL:"",timeout:3e4,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}});k.interceptors.request.use(e=>{const t=Ka();return t&&(e.headers["X-CSRFTOKEN"]=t),e},e=>Promise.reject(e));const Wa=async(e,t)=>{try{const r=await k.put(`/api/importer-tasks/${e}/metadata`,t,{headers:{"content-type":"application/octet-stream","X-Filename":`${t.name}`}});if(r.status===200)return r.data;throw new Error(`Failed to create task: ${r.statusText}`)}catch(r){throw new Error(`Error creating task: ${r instanceof Error?r.message:"Unknown error"}`)}},fE=async(e,t)=>{try{const r=await k.post(`/api/importer-tasks/${e}/files/${t}/commit`,{});if(r.status!==200)throw new Error(`Failed to commit file: ${r.statusText}`)}catch(r){throw console.error("Error committing file:",r),new Error(`Failed to commit file: ${r instanceof Error?r.message:"Unknown error"}`)}},pE=async e=>{const t={title:e.title,description:e.description,mode:e.mode,status:e.status,record_type:e.recordType,serializer:e.serializer,start_time:e.startTime,end_time:e.endTime};try{const r=await k.post("/api/importer-tasks",t);if(r.status===201)return r.data;throw new Error(`Failed to create task: ${r.statusText}`)}catch(r){throw new Error(`Error creating task: ${r instanceof Error?r.message:"Unknown error"}`)}},hE=async e=>{try{const t=await k.delete(`/api/importer-tasks/${e}`);return t.status===204?!0:(console.error(`Failed to delete task: ${t.statusText}`),!1)}catch(t){return console.error(`Error deleting task: ${t instanceof Error?t.message:"Unknown error"}`),!1}},Za=async e=>{try{const t=await k.post(`/api/importer-tasks/${e}/load`);if(t.status===200)return t.data;throw new Error(`Unexpected response status: ${t.status}`)}catch(t){throw console.error("Error executing bulk import:",t),new Error("Failed to execute bulk import")}},gE=async()=>{try{const e=await k.get("/api/importer-tasks/config");return e.status===200?e.data:(console.error("Failed to fetch record types:",e.statusText),[])}catch(e){return console.error("Error fetching record types:",e),[]}},mE=async e=>{try{const t=await k.get(`/api/importer-tasks/config/${e}`);if(t.status===200)return t.data;throw new Error(`Unexpected response status: ${t.status}`)}catch(t){throw console.error("Error fetching serializers:",t),new Error("Failed to fetch serializers")}},mt=async e=>{try{const t=await k.put(`/api/importer-tasks/${e}/status`,{});if(t.status===200)return t.data;throw new Error(`Failed to get status of importer task: ${t.statusText}`)}catch(t){throw new Error(`Error getting status of importer task: ${t instanceof Error?t.message:"Unknown error"}`)}},yE=async(e,t)=>{const r=t.map(n=>({key:n}));try{const n=await k.post(`/api/importer-tasks/${e}/files`,r);if(n.status!==201)throw new Error(`Failed to initialize files: ${n.statusText}`)}catch(n){throw console.error("Error initializing files:",n),new Error(`Failed to initialize files: ${n instanceof Error?n.message:"Unknown error"}`)}},vE=async(e,t,r)=>{try{const n=await k.put(`/api/importer-tasks/${e}/files/${t}/content`,r,{headers:{"Content-Type":"application/octet-stream"}});if(n.status!==200)throw new Error(`Failed to upload file content: ${n.statusText}`)}catch(n){throw console.error("Error uploading file content:",n),new Error(`Failed to upload file content: ${n instanceof Error?n.message:"Unknown error"}`)}},Ja=async e=>{try{const t=await k.post(`/api/importer-tasks/${e}/validate`,{});if(t.status===200)return t.data;throw new Error(`Failed to validate task: ${t.statusText}`)}catch(t){throw new Error(`Error validating task: ${t instanceof Error?t.message:"Unknown error"}`)}},Xa=async(e,t={})=>{const{autoExecute:r=!1,onProgress:n,onError:a}=t;try{n==null||n("Validating",0),await Ja(e),n==null||n("Validating",50);let s=await mt(e);return n==null||n("Validating",100),r&&(s.status==="validated"||s.status==="validated with failures")&&(n==null||n("Executing",0),await Za(e),n==null||n("Executing",50),s=await mt(e),n==null||n("Executing",100)),s}catch(s){const l=s instanceof Error?s:new Error("Unknown error during workflow execution");throw a==null||a(l,"Executing"),l}},es=async(e,t,r)=>{if(!t||t.length===0)return;const n=t.map(a=>a.name);await yE(e,n);for(const a of t)try{r==null||r({fileName:a.name,loaded:0,total:a.size,percentage:0}),await vE(e,a.name,a),r==null||r({fileName:a.name,loaded:a.size,total:a.size,percentage:90}),await fE(e,a.name),r==null||r({fileName:a.name,loaded:a.size,total:a.size,percentage:100})}catch(s){throw new Error(`Failed to upload file ${a.name}: ${s instanceof Error?s.message:"Unknown error"}`)}},EE=async(e,t,r,n={})=>{const{autoValidate:a=!1,autoExecute:s=!1,onProgress:l,onError:o}=n;try{l==null||l("Creating Task",0);const c=await pE(e);if(!c)throw new Error("Failed to create import task");return l==null||l("Creating Task",100),t&&(l==null||l("Uploading Metadata",0),await Wa(c.id,t),l==null||l("Uploading Metadata",100)),r&&r.length>0&&await es(c.id,r,d=>{l==null||l("Uploading Files",d.percentage)}),a&&t&&await Xa(c.id,{autoExecute:s,onProgress:l,onError:o}),c}catch(c){const d=c instanceof Error?c:new Error("Unknown error during task creation");throw o==null||o(d,"Creating Task"),d}},bE=async(e,t,r,n={})=>{const{onProgress:a,onError:s}=n;try{a==null||a("Updating",0),t&&(a==null||a("Updating Metadata",0),await Wa(e,t),a==null||a("Updating Metadata",100)),r&&r.length>0&&await es(e,r,l=>{a==null||a("Updating Files",l.percentage)}),a==null||a("Updating",100)}catch(l){const o=l instanceof Error?l:new Error("Unknown error during task update");throw s==null||s(o,"Updating"),o}},SE=async e=>{try{const t=await k.post(`/api/importer-records/${e}/run`,{});if(t.status===200)return t.data;throw new Error(`Failed to fetch import records: ${t.statusText}`)}catch(t){throw console.error("Failed to fetch import records:",t),t}},ts=(e,t={})=>{const[r,n]=m.useState({isDeleting:!1,isValidating:!1,isBulkImporting:!1,isGettingStatus:!1,error:null}),{onDeleteSuccess:a,onDeleteError:s,onValidateSuccess:l,onValidateError:o,onBulkImportSuccess:c,onBulkImportError:d,onStatusChangeSuccess:f,onStatusChangeError:p}=t,h=m.useCallback(()=>{n(v=>({...v,error:null}))},[]),g=m.useCallback(async()=>{n(v=>({...v,isDeleting:!0,error:null}));try{if(!await hE(e))throw new Error(`Failed to delete task ${e}`);a==null||a()}catch(v){const _=v instanceof Error?v:new Error("Unknown error");throw n(F=>({...F,error:_})),s==null||s(_),_}finally{n(v=>({...v,isDeleting:!1}))}},[e,a,s]),y=m.useCallback(async()=>{n(v=>({...v,isValidating:!0,error:null}));try{const v=await Ja(e);if(!v)throw new Error(`Validation failed for task ${e}`);return l==null||l(v),v}catch(v){const _=v instanceof Error?v:new Error("Unknown error");throw n(F=>({...F,error:_})),o==null||o(_),_}finally{n(v=>({...v,isValidating:!1}))}},[e,l,o]),E=m.useCallback(async()=>{n(v=>({...v,isBulkImporting:!0,error:null}));try{const v=await Za(e);if(!v)throw new Error(`Failed to execute bulk import for task ${e}`);return c==null||c(v),v}catch(v){const _=v instanceof Error?v:new Error("Unknown error");throw n(F=>({...F,error:_})),d==null||d(_),_}finally{n(v=>({...v,isBulkImporting:!1}))}},[e,c,d]),S=m.useCallback(async()=>{n(v=>({...v,isGettingStatus:!0,error:null}));try{const v=await mt(e);if(!v)throw new Error(`Failed to retrieve status for task ${e}`);return f==null||f(v),v}catch(v){const _=v instanceof Error?v:new Error("Unknown error");throw n(F=>({...F,error:_})),p==null||p(_),_}finally{n(v=>({...v,isGettingStatus:!1}))}},[e,f,p]);return{isDeleting:r.isDeleting,isValidating:r.isValidating,isBulkImporting:r.isBulkImporting,isGettingStatus:r.isGettingStatus,error:r.error,deleteTask:g,validateTask:y,runBulkImport:E,getStatus:S,clearError:h}},$E=({result:e,index:t})=>{var S;const{refreshSearch:r,config:n}=tt(),{deleteTask:a,validateTask:s,runBulkImport:l,getStatus:o,isDeleting:c,isValidating:d,isBulkImporting:f,isGettingStatus:p,error:h,clearError:g}=ts(e.id,{onDeleteSuccess:()=>{r()},onValidateSuccess:()=>{r()},onBulkImportSuccess:()=>{r()},onStatusChangeSuccess:()=>{r()}});if(!e)return null;const y=(v,_)=>_?`${v}...`:v,E=c||d||f||p;return i.default.createElement(u.TableRow,{key:t},i.default.createElement(u.TableCell,null,i.default.createElement("a",{href:`${n.resultPath}/${e.id}`},e.title||"No title")),i.default.createElement(u.TableCell,null,Le(e.created)),i.default.createElement(u.TableCell,null,i.default.createElement(Ga,{status:e.status},ge(e.status))),i.default.createElement(u.TableCell,null,((S=e.records_status)==null?void 0:S.total_records)??0),i.default.createElement(u.TableCell,null,e.serializer),i.default.createElement(u.TableCell,null,ge(e.mode)),i.default.createElement(u.TableCell,{style:{width:"220px"}},h&&i.default.createElement("div",{style:{color:"red",fontSize:"12px",marginBottom:"5px"}},h.message,i.default.createElement(u.Button,{onClick:g,style:{marginLeft:"5px",fontSize:"10px"}},"Clear")),i.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},i.default.createElement(u.Dropdown,{text:E?"Processing...":"Select Action",floating:!0,labeled:!0,className:"icon",disabled:E,options:[{key:"download",text:"Download",value:"download",disabled:!0},{key:"validate",text:y("Retry Validation",d),value:"validate",disabled:E,onClick:()=>s()},{key:"load",text:y("Load Bulk Import",f),value:"load",disabled:E,onClick:()=>l()},{key:"status",text:y("Get Status",p),value:"status",disabled:E,onClick:()=>o()},{key:"delete",text:y("Delete",c),value:"delete",disabled:E,onClick:()=>a()}]}),i.default.createElement(u.Button,{basic:!0,size:"tiny",disabled:E,as:"a",href:`${n.resultPath}/${e.id}`},i.default.createElement(u.Icon,{name:"eye"}),"View"))))},_E=({children:e})=>i.default.createElement(u.Table,{padded:!0,size:"small",comp:!0},i.default.createElement(u.TableHeader,null,i.default.createElement(u.TableRow,null,i.default.createElement(u.TableHeaderCell,null,"ID"),i.default.createElement(u.TableHeaderCell,null,"Date Created"),i.default.createElement(u.TableHeaderCell,null,"Status"),i.default.createElement(u.TableHeaderCell,null,"Records"),i.default.createElement(u.TableHeaderCell,null,"Serializer"),i.default.createElement(u.TableHeaderCell,null,"Mode"),i.default.createElement(u.TableHeaderCell,null,"Actions"))),i.default.createElement(u.TableBody,null,e)),V={aggs:[],appId:"search",defaultSortingOnEmptyQueryString:[{sortBy:"newest"}],initialQueryState:{filters:[],hiddenParams:null,layout:"list",page:1,size:10,sortBy:"newest"},layoutOptions:{gridView:!1,listView:!0},paginationOptions:{defaultValue:10,maxTotalResults:1e4,resultsPerPage:[{text:"10",value:10},{text:"20",value:20},{text:"50",value:50}]},searchApi:{axios:{headers:{Accept:"application/vnd.inveniordm.v1+json"},url:"/api/importer-tasks",withCredentials:!0},invenio:{requestSerializer:"InvenioRecordsResourcesRequestSerializer"}},sortOptions:[{sortBy:"newest",text:"Newest"},{sortBy:"oldest",text:"Oldest"}],sortOrderDisabled:!0,resultPath:"/administration/importer-tasks"},CE=()=>{const[e,t]=m.useState({}),[r,n]=m.useState(!0),{values:a,submitForm:s,isSubmitting:l,isValid:o,setFieldValue:c}=ei.useFormikContext(),d=m.useCallback(async()=>{try{const h=await gE(),g={};for(const y of h){const E=await mE(y);E&&(g[y]=E)}t(g)}catch(h){console.error("Error fetching record types:",h)}finally{n(!1)}},[]),f=h=>{var y;const g=((y=h.target.files)==null?void 0:y[0])||null;c("metadata",g)},p=h=>{c("files",h)};return m.useEffect(()=>{d()},[d]),{configs:e,isLoading:r,values:a,submitForm:s,setFieldValue:c,handleFileChange:f,handleFilesChange:p,isSubmitting:l,isValid:o}},xE=({progress:e})=>{const{configs:t,isLoading:r,submitForm:n,handleFileChange:a,handleFilesChange:s,values:l,isSubmitting:o,isValid:c}=CE();return r?i.default.createElement("p",null,"Loading record types..."):!t||Object.keys(t).length===0?i.default.createElement("p",null,"No record types available."):i.default.createElement(m.Fragment,null,i.default.createElement(ee.TextField,{fieldPath:"task.title",label:"Title",placeholder:"Enter a title for the import task",required:!0}),i.default.createElement(u.Form.Group,{widths:"equal"},i.default.createElement(ee.SelectField,{fieldPath:"task.recordType",label:"Record Type",options:Object.keys(t).map(d=>({key:d,value:d,text:d})),placeholder:"Select Record Type",required:!0}),i.default.createElement(ee.SelectField,{fieldPath:"task.serializer",label:"Serializer",options:l.task.recordType&&t[l.task.recordType]?t[l.task.recordType].serializers.map(d=>({key:d,value:d,text:d})):[],placeholder:"Select Serializer",disabled:!l.task.recordType,required:!0}),i.default.createElement(ee.SelectField,{fieldPath:"task.mode",label:"Mode",options:[{key:"import",value:"import",text:"Import"},{key:"delete",value:"delete",text:"Delete"}],placeholder:"Select Mode",disabled:!l.task.recordType||!l.task.serializer,required:!0})),i.default.createElement(u.Form.Field,null,i.default.createElement("label",{htmlFor:"file-input"},"Metadata File"),i.default.createElement("input",{id:"file-input",type:"file",accept:".csv",onChange:a,style:{marginTop:"8px"}}),l.metadata&&i.default.createElement("p",{style:{marginTop:"8px",fontSize:"12px",color:"#666"}},"Selected: ",l.metadata.name),i.default.createElement("p",{style:{marginTop:"8px",fontSize:"12px",color:"#666"}},"Upload a CSV file containing the records metadata to be imported or deleted.")),i.default.createElement(u.Form.Field,null,i.default.createElement(nr,{value:l.files||[],onChange:s,accept:"*",maxSize:10*1024*1024*1024,maxFiles:100}),i.default.createElement("p",{style:{marginTop:"8px",fontSize:"12px",color:"#666"}},"Upload files related to the records. You can upload multiple files, and they will be associated with the import task.")),i.default.createElement(ee.TextAreaField,{fieldPath:"task.description",label:"Notes",placeholder:"Enter a description for the import task",rows:3}),i.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:".5rem"}},e&&i.default.createElement(qa,{progress:e}),i.default.createElement(u.Button,{type:"button",primary:!0,onClick:n,disabled:!c||o,loading:o},"Submit")))};var yt;try{yt=Map}catch{}var vt;try{vt=Set}catch{}function rs(e,t,r){if(!e||typeof e!="object"||typeof e=="function")return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(Et);if(yt&&e instanceof yt)return new Map(Array.from(e.entries()));if(vt&&e instanceof vt)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var n=Object.create(e);r.push(n);for(var a in e){var s=t.findIndex(function(l){return l===e[a]});n[a]=s>-1?r[s]:rs(e[a],t,r)}return n}return e}function Et(e){return rs(e,[],[])}const TE=Object.prototype.toString,wE=Error.prototype.toString,FE=RegExp.prototype.toString,IE=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",AE=/^Symbol\((.*)\)(.*)$/;function OE(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function jr(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const r=typeof e;if(r==="number")return OE(e);if(r==="string")return t?`"${e}"`:e;if(r==="function")return"[Function "+(e.name||"anonymous")+"]";if(r==="symbol")return IE.call(e).replace(AE,"Symbol($1)");const n=TE.call(e).slice(8,-1);return n==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):n==="Error"||e instanceof Error?"["+wE.call(e)+"]":n==="RegExp"?FE.call(e):null}function me(e,t){let r=jr(e,t);return r!==null?r:JSON.stringify(e,function(n,a){let s=jr(this[n],t);return s!==null?s:a},2)}let Z={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{let a=n!=null&&n!==r,s=`${e} must be a \`${t}\` type, but the final value was: \`${me(r,!0)}\``+(a?` (cast from the value \`${me(n,!0)}\`).`:".");return r===null&&(s+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),s},defined:"${path} must be defined"},U={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},RE={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},bt={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},PE={isValue:"${path} field must be ${value}"},St={noUnknown:"${path} field has unspecified keys: ${unknown}"},kE={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Z,string:U,number:RE,date:bt,object:St,array:kE,boolean:PE});var DE=Object.prototype,LE=DE.hasOwnProperty;function UE(e,t){return e!=null&&LE.call(e,t)}var NE=UE,BE=NE,ME=xn;function zE(e,t){return e!=null&&ME(e,t,BE)}var QE=zE;const Ue=I(QE),ns=e=>e&&e.__isYupSchema__;class jE{constructor(t,r){if(this.fn=void 0,this.refs=t,this.refs=t,typeof r=="function"){this.fn=r;return}if(!Ue(r,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,l=typeof n=="function"?n:(...o)=>o.every(c=>c===n);this.fn=function(...o){let c=o.pop(),d=o.pop(),f=l(...o)?a:s;if(f)return typeof f=="function"?f(d):d.concat(f.resolve(c))}}resolve(t,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn.apply(t,n.concat(t,r));if(a===void 0||a===t)return t;if(!ns(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}function as(e){return e==null?[]:[].concat(e)}function $t(){return $t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$t.apply(this,arguments)}let qE=/\$\{\s*(\w+)\s*\}/g;class R extends Error{static formatError(t,r){const n=r.label||r.path||"this";return n!==r.path&&(r=$t({},r,{path:n})),typeof t=="string"?t.replace(qE,(a,s)=>me(r[s])):typeof t=="function"?t(r):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,r,n,a){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],as(t).forEach(s=>{R.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,R)}}const GE=e=>{let t=!1;return(...r)=>{t||(t=!0,e(...r))}};function _t(e,t){let{endEarly:r,tests:n,args:a,value:s,errors:l,sort:o,path:c}=e,d=GE(t),f=n.length;const p=[];if(l=l||[],!f)return l.length?d(new R(l,s,c)):d(null,s);for(let h=0;h<n.length;h++){const g=n[h];g(a,function(E){if(E){if(!R.isError(E))return d(E,s);if(r)return E.value=s,d(E,s);p.push(E)}if(--f<=0){if(p.length&&(o&&p.sort(o),l.length&&p.push(...l),l=p),l.length){d(new R(l,s,c),s);return}d(null,s)}})}}function VE(e){return function(t,r,n){for(var a=-1,s=Object(t),l=n(t),o=l.length;o--;){var c=l[e?o:++a];if(r(s[c],c,s)===!1)break}return t}}var HE=VE,KE=HE,YE=KE(),WE=YE,ZE=WE,JE=Se;function XE(e,t){return e&&ZE(e,t,JE)}var ss=XE,eb="__lodash_hash_undefined__";function tb(e){return this.__data__.set(e,eb),this}var rb=tb;function nb(e){return this.__data__.has(e)}var ab=nb,sb=kt,ib=rb,lb=ab;function Ne(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new sb;++t<r;)this.add(e[t])}Ne.prototype.add=Ne.prototype.push=ib;Ne.prototype.has=lb;var ob=Ne;function ub(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var cb=ub;function db(e,t){return e.has(t)}var fb=db,pb=ob,hb=cb,gb=fb,mb=1,yb=2;function vb(e,t,r,n,a,s){var l=r&mb,o=e.length,c=t.length;if(o!=c&&!(l&&c>o))return!1;var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var p=-1,h=!0,g=r&yb?new pb:void 0;for(s.set(e,t),s.set(t,e);++p<o;){var y=e[p],E=t[p];if(n)var S=l?n(E,y,p,t,e,s):n(y,E,p,e,t,s);if(S!==void 0){if(S)continue;h=!1;break}if(g){if(!hb(t,function(v,_){if(!gb(g,_)&&(y===v||a(y,v,r,n,s)))return g.push(_)})){h=!1;break}}else if(!(y===E||a(y,E,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var is=vb;function Eb(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var bb=Eb;function Sb(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var $b=Sb,qr=ie,Gr=Ln,_b=Ve,Cb=is,xb=bb,Tb=$b,wb=1,Fb=2,Ib="[object Boolean]",Ab="[object Date]",Ob="[object Error]",Rb="[object Map]",Pb="[object Number]",kb="[object RegExp]",Db="[object Set]",Lb="[object String]",Ub="[object Symbol]",Nb="[object ArrayBuffer]",Bb="[object DataView]",Vr=qr?qr.prototype:void 0,it=Vr?Vr.valueOf:void 0;function Mb(e,t,r,n,a,s,l){switch(r){case Bb:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Nb:return!(e.byteLength!=t.byteLength||!s(new Gr(e),new Gr(t)));case Ib:case Ab:case Pb:return _b(+e,+t);case Ob:return e.name==t.name&&e.message==t.message;case kb:case Lb:return e==t+"";case Rb:var o=xb;case Db:var c=n&wb;if(o||(o=Tb),e.size!=t.size&&!c)return!1;var d=l.get(e);if(d)return d==t;n|=Fb,l.set(e,t);var f=Cb(o(e),o(t),n,a,s,l);return l.delete(e),f;case Ub:if(it)return it.call(e)==it.call(t)}return!1}var zb=Mb,Hr=Dn,Qb=1,jb=Object.prototype,qb=jb.hasOwnProperty;function Gb(e,t,r,n,a,s){var l=r&Qb,o=Hr(e),c=o.length,d=Hr(t),f=d.length;if(c!=f&&!l)return!1;for(var p=c;p--;){var h=o[p];if(!(l?h in t:qb.call(t,h)))return!1}var g=s.get(e),y=s.get(t);if(g&&y)return g==t&&y==e;var E=!0;s.set(e,t),s.set(t,e);for(var S=l;++p<c;){h=o[p];var v=e[h],_=t[h];if(n)var F=l?n(_,v,h,t,e,s):n(v,_,h,e,t,s);if(!(F===void 0?v===_||a(v,_,r,n,s):F)){E=!1;break}S||(S=h=="constructor")}if(E&&!S){var A=e.constructor,M=t.constructor;A!=M&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof M=="function"&&M instanceof M)&&(E=!1)}return s.delete(e),s.delete(t),E}var Vb=Gb,lt=zt,Hb=is,Kb=zb,Yb=Vb,Kr=ye,Yr=P,Wr=qe,Wb=Ot,Zb=1,Zr="[object Arguments]",Jr="[object Array]",xe="[object Object]",Jb=Object.prototype,Xr=Jb.hasOwnProperty;function Xb(e,t,r,n,a,s){var l=Yr(e),o=Yr(t),c=l?Jr:Kr(e),d=o?Jr:Kr(t);c=c==Zr?xe:c,d=d==Zr?xe:d;var f=c==xe,p=d==xe,h=c==d;if(h&&Wr(e)){if(!Wr(t))return!1;l=!0,f=!1}if(h&&!f)return s||(s=new lt),l||Wb(e)?Hb(e,t,r,n,a,s):Kb(e,t,c,r,n,a,s);if(!(r&Zb)){var g=f&&Xr.call(e,"__wrapped__"),y=p&&Xr.call(t,"__wrapped__");if(g||y){var E=g?e.value():e,S=y?t.value():t;return s||(s=new lt),a(E,S,r,n,s)}}return h?(s||(s=new lt),Yb(e,t,r,n,a,s)):!1}var e0=Xb,t0=e0,en=Q;function ls(e,t,r,n,a){return e===t?!0:e==null||t==null||!en(e)&&!en(t)?e!==e&&t!==t:t0(e,t,r,n,ls,a)}var os=ls,r0=zt,n0=os,a0=1,s0=2;function i0(e,t,r,n){var a=r.length,s=a,l=!n;if(e==null)return!s;for(e=Object(e);a--;){var o=r[a];if(l&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<s;){o=r[a];var c=o[0],d=e[c],f=o[1];if(l&&o[2]){if(d===void 0&&!(c in e))return!1}else{var p=new r0;if(n)var h=n(d,f,c,e,t,p);if(!(h===void 0?n0(f,d,a0|s0,n,p):h))return!1}}return!0}var l0=i0,o0=H;function u0(e){return e===e&&!o0(e)}var us=u0,c0=us,d0=Se;function f0(e){for(var t=d0(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,c0(a)]}return t}var p0=f0;function h0(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var cs=h0,g0=l0,m0=p0,y0=cs;function v0(e){var t=m0(e);return t.length==1&&t[0][2]?y0(t[0][0],t[0][1]):function(r){return r===e||g0(r,e,t)}}var E0=v0,b0=os,S0=Cn,$0=Ut,_0=Pt,C0=us,x0=cs,T0=Ee,w0=1,F0=2;function I0(e,t){return _0(e)&&C0(t)?x0(T0(e),t):function(r){var n=S0(r,e);return n===void 0&&n===t?$0(r,e):b0(t,n,w0|F0)}}var A0=I0;function O0(e){return function(t){return t==null?void 0:t[e]}}var R0=O0,P0=Lt;function k0(e){return function(t){return P0(t,e)}}var D0=k0,L0=R0,U0=D0,N0=Pt,B0=Ee;function M0(e){return N0(e)?L0(B0(e)):U0(e)}var z0=M0,Q0=E0,j0=A0,q0=Bt,G0=P,V0=z0;function H0(e){return typeof e=="function"?e:e==null?q0:typeof e=="object"?G0(e)?j0(e[0],e[1]):Q0(e):V0(e)}var ds=H0,K0=Je,Y0=ss,W0=ds;function Z0(e,t){var r={};return t=W0(t),Y0(e,function(n,a,s){K0(r,a,t(n,a,s))}),r}var J0=Z0;const fs=I(J0);function X(e){this._maxSize=e,this.clear()}X.prototype.clear=function(){this._size=0,this._values=Object.create(null)};X.prototype.get=function(e){return this._values[e]};X.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var X0=/[^.^\]^[]+|(?=\[\]|\.\.)/g,ps=/^\d+$/,eS=/^\d/,tS=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,rS=/^\s*(['"]?)(.*?)(\1)\s*$/,Xt=512,tn=new X(Xt),rn=new X(Xt),nn=new X(Xt),nt={Cache:X,split:Ct,normalizePath:ot,setter:function(e){var t=ot(e);return rn.get(e)||rn.set(e,function(n,a){for(var s=0,l=t.length,o=n;s<l-1;){var c=t[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;o=o[t[s++]]}o[t[s]]=a})},getter:function(e,t){var r=ot(e);return nn.get(e)||nn.set(e,function(a){for(var s=0,l=r.length;s<l;)if(a!=null||!t)a=a[r[s++]];else return;return a})},join:function(e){return e.reduce(function(t,r){return t+(er(r)||ps.test(r)?"["+r+"]":(t?".":"")+r)},"")},forEach:function(e,t,r){nS(Array.isArray(e)?e:Ct(e),t,r)}};function ot(e){return tn.get(e)||tn.set(e,Ct(e).map(function(t){return t.replace(rS,"$2")}))}function Ct(e){return e.match(X0)||[""]}function nS(e,t,r){var n=e.length,a,s,l,o;for(s=0;s<n;s++)a=e[s],a&&(iS(a)&&(a='"'+a+'"'),o=er(a),l=!o&&/^\d+$/.test(a),t.call(r,a,o,l,s,e))}function er(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function aS(e){return e.match(eS)&&!e.match(ps)}function sS(e){return tS.test(e)}function iS(e){return!er(e)&&(aS(e)||sS(e))}const Te={context:"$",value:"."};class K{constructor(t,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Te.context,this.isValue=this.key[0]===Te.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Te.context:this.isValue?Te.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&nt.getter(this.path,!0),this.map=r.map}getValue(t,r,n){let a=this.isContext?n:this.isValue?t:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(t,r){return this.getValue(t,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}K.prototype.__isYupRef=!0;function Be(){return Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Be.apply(this,arguments)}function lS(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function we(e){function t(r,n){let{value:a,path:s="",label:l,options:o,originalValue:c,sync:d}=r,f=lS(r,["value","path","label","options","originalValue","sync"]);const{name:p,test:h,params:g,message:y}=e;let{parent:E,context:S}=o;function v($){return K.isRef($)?$.getValue(a,E,S):$}function _($={}){const q=fs(Be({value:a,originalValue:c,label:l,path:$.path||s},g,$.params),v),G=new R(R.formatError($.message||y,q),a,q.path,$.type||p);return G.params=q,G}let F=Be({path:s,parent:E,type:p,createError:_,resolve:v,options:o,originalValue:c},f);if(!d){try{Promise.resolve(h.call(F,a,F)).then($=>{R.isError($)?n($):$?n(null,$):n(_())}).catch(n)}catch($){n($)}return}let A;try{var M;if(A=h.call(F,a,F),typeof((M=A)==null?void 0:M.then)=="function")throw new Error(`Validation test of type: "${F.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch($){n($);return}R.isError(A)?n(A):A?n(null,A):n(_())}return t.OPTIONS=e,t}let oS=e=>e.substr(0,e.length-1).substr(1);function uS(e,t,r,n=r){let a,s,l;return t?(nt.forEach(t,(o,c,d)=>{let f=c?oS(o):o;if(e=e.resolve({context:n,parent:a,value:r}),e.innerType){let p=d?parseInt(f,10):0;if(r&&p>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);a=r,r=r&&r[p],e=e.innerType}if(!d){if(!e.fields||!e.fields[f])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${l} which is a type: "${e._type}")`);a=r,r=r&&r[f],e=e.fields[f]}s=f,l=c?"["+o+"]":"."+o}),{schema:e,parent:a,parentPath:s}):{parent:a,parentPath:t,schema:e}}class Me{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const t=[];for(const r of this.list)t.push(r);for(const[,r]of this.refs)t.push(r.describe());return t}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(t){return this.toArray().reduce((r,n)=>r.concat(K.isRef(n)?t(n):n),[])}add(t){K.isRef(t)?this.refs.set(t.key,t):this.list.add(t)}delete(t){K.isRef(t)?this.refs.delete(t.key):this.list.delete(t)}clone(){const t=new Me;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}merge(t,r){const n=this.clone();return t.list.forEach(a=>n.add(a)),t.refs.forEach(a=>n.add(a)),r.list.forEach(a=>n.delete(a)),r.refs.forEach(a=>n.delete(a)),n}}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}class O{constructor(t){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new Me,this._blacklist=new Me,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Z.notType)}),this.type=(t==null?void 0:t.type)||"mixed",this.spec=D({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},t==null?void 0:t.spec)}get _type(){return this.type}_typeCheck(t){return!0}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeError=this._typeError,r._whitelistError=this._whitelistError,r._blacklistError=this._blacklistError,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.exclusiveTests=D({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Et(D({},this.spec,t)),r}label(t){let r=this.clone();return r.spec.label=t,r}meta(...t){if(t.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},t[0]),r}withMutation(t){let r=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=r,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let r=this,n=t.clone();const a=D({},r.spec,n.spec);return n.spec=a,n._typeError||(n._typeError=r._typeError),n._whitelistError||(n._whitelistError=r._whitelistError),n._blacklistError||(n._blacklistError=r._blacklistError),n._whitelist=r._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=r._blacklist.merge(t._blacklist,t._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{t.tests.forEach(l=>{s.test(l.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(t){return this.spec.nullable&&t===null?!0:this._typeCheck(t)}resolve(t){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,t),r),r=r.resolve(t)}return r}cast(t,r={}){let n=this.resolve(D({value:t},r)),a=n._cast(t,r);if(t!==void 0&&r.assert!==!1&&n.isType(a)!==!0){let s=me(t),l=me(a);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n._type}". 

attempted value: ${s} 
`+(l!==s?`result of cast: ${l}`:""))}return a}_cast(t,r){let n=t===void 0?t:this.transforms.reduce((a,s)=>s.call(this,a,t,this),t);return n===void 0&&(n=this.getDefault()),n}_validate(t,r={},n){let{sync:a,path:s,from:l=[],originalValue:o=t,strict:c=this.spec.strict,abortEarly:d=this.spec.abortEarly}=r,f=t;c||(f=this._cast(f,D({assert:!1},r)));let p={value:f,path:s,options:r,originalValue:o,schema:this,label:this.spec.label,sync:a,from:l},h=[];this._typeError&&h.push(this._typeError);let g=[];this._whitelistError&&g.push(this._whitelistError),this._blacklistError&&g.push(this._blacklistError),_t({args:p,value:f,path:s,sync:a,tests:h,endEarly:d},y=>{if(y)return void n(y,f);_t({tests:this.tests.concat(g),args:p,path:s,sync:a,value:f,endEarly:d},n)})}validate(t,r,n){let a=this.resolve(D({},r,{value:t}));return typeof n=="function"?a._validate(t,r,n):new Promise((s,l)=>a._validate(t,r,(o,c)=>{o?l(o):s(c)}))}validateSync(t,r){let n=this.resolve(D({},r,{value:t})),a;return n._validate(t,D({},r,{sync:!0}),(s,l)=>{if(s)throw s;a=l}),a}isValid(t,r){return this.validate(t,r).then(()=>!0,n=>{if(R.isError(n))return!1;throw n})}isValidSync(t,r){try{return this.validateSync(t,r),!0}catch(n){if(R.isError(n))return!1;throw n}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):Et(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){let r=this.clone();return r.spec.strict=t,r}_isPresent(t){return t!=null}defined(t=Z.defined){return this.test({message:t,name:"defined",exclusive:!0,test(r){return r!==void 0}})}required(t=Z.required){return this.clone({presence:"required"}).withMutation(r=>r.test({message:t,name:"required",exclusive:!0,test(n){return this.schema._isPresent(n)}}))}notRequired(){let t=this.clone({presence:"optional"});return t.tests=t.tests.filter(r=>r.OPTIONS.name!=="required"),t}nullable(t=!0){return this.clone({nullable:t!==!1})}transform(t){let r=this.clone();return r.transforms.push(t),r}test(...t){let r;if(t.length===1?typeof t[0]=="function"?r={test:t[0]}:r=t[0]:t.length===2?r={name:t[0],test:t[1]}:r={name:t[0],message:t[1],test:t[2]},r.message===void 0&&(r.message=Z.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=we(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(l=>!(l.OPTIONS.name===r.name&&(s||l.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(t,r){!Array.isArray(t)&&typeof t!="string"&&(r=t,t=".");let n=this.clone(),a=as(t).map(s=>new K(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(new jE(a,r)),n}typeError(t){let r=this.clone();return r._typeError=we({message:t,name:"typeError",test(n){return n!==void 0&&!this.schema.isType(n)?this.createError({params:{type:this.schema._type}}):!0}}),r}oneOf(t,r=Z.oneOf){let n=this.clone();return t.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n._whitelistError=we({message:r,name:"oneOf",test(a){if(a===void 0)return!0;let s=this.schema._whitelist,l=s.resolveAll(this.resolve);return l.includes(a)?!0:this.createError({params:{values:s.toArray().join(", "),resolved:l}})}}),n}notOneOf(t,r=Z.notOneOf){let n=this.clone();return t.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n._blacklistError=we({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,l=s.resolveAll(this.resolve);return l.includes(a)?this.createError({params:{values:s.toArray().join(", "),resolved:l}}):!0}}),n}strip(t=!0){let r=this.clone();return r.spec.strip=t,r}describe(){const t=this.clone(),{label:r,meta:n}=t.spec;return{meta:n,label:r,type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(s=>({name:s.OPTIONS.name,params:s.OPTIONS.params})).filter((s,l,o)=>o.findIndex(c=>c.name===s.name)===l)}}}O.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])O.prototype[`${e}At`]=function(t,r,n={}){const{parent:a,parentPath:s,schema:l}=uS(this,t,r,n.context);return l[e](a&&a[s],D({},n,{parent:a,path:t}))};for(const e of["equals","is"])O.prototype[e]=O.prototype.oneOf;for(const e of["not","nope"])O.prototype[e]=O.prototype.notOneOf;O.prototype.optional=O.prototype.notRequired;const cS=O;cS.prototype;const N=e=>e==null;let dS=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,fS=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,pS=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,hS=e=>N(e)||e===e.trim(),gS={}.toString();function he(){return new hs}class hs extends O{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(t){if(this.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===gS?t:r})})}_typeCheck(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}_isPresent(t){return super._isPresent(t)&&!!t.length}length(t,r=U.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:t},test(n){return N(n)||n.length===this.resolve(t)}})}min(t,r=U.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:t},test(n){return N(n)||n.length>=this.resolve(t)}})}max(t,r=U.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:t},test(n){return N(n)||n.length<=this.resolve(t)}})}matches(t,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||U.matches,params:{regex:t},test:l=>N(l)||l===""&&n||l.search(t)!==-1})}email(t=U.email){return this.matches(dS,{name:"email",message:t,excludeEmptyString:!0})}url(t=U.url){return this.matches(fS,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=U.uuid){return this.matches(pS,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=U.trim){return this.transform(r=>r!=null?r.trim():r).test({message:t,name:"trim",test:hS})}lowercase(t=U.lowercase){return this.transform(r=>N(r)?r:r.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,test:r=>N(r)||r===r.toLowerCase()})}uppercase(t=U.uppercase){return this.transform(r=>N(r)?r:r.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,test:r=>N(r)||r===r.toUpperCase()})}}he.prototype=hs.prototype;var mS=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function yS(e){var t=[1,4,5,6,7,10,11],r=0,n,a;if(a=mS.exec(e)){for(var s=0,l;l=t[s];++s)a[l]=+a[l]||0;a[2]=(+a[2]||1)-1,a[3]=+a[3]||1,a[7]=a[7]?String(a[7]).substr(0,3):0,(a[8]===void 0||a[8]==="")&&(a[9]===void 0||a[9]==="")?n=+new Date(a[1],a[2],a[3],a[4],a[5],a[6],a[7]):(a[8]!=="Z"&&a[9]!==void 0&&(r=a[10]*60+a[11],a[9]==="+"&&(r=0-r)),n=Date.UTC(a[1],a[2],a[3],a[4],a[5]+r,a[6],a[7]))}else n=Date.parse?Date.parse(e):NaN;return n}let gs=new Date(""),vS=e=>Object.prototype.toString.call(e)==="[object Date]";class ms extends O{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(t){return this.isType(t)?t:(t=yS(t),isNaN(t)?gs:new Date(t))})})}_typeCheck(t){return vS(t)&&!isNaN(t.getTime())}prepareParam(t,r){let n;if(K.isRef(t))n=t;else{let a=this.cast(t);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(t,r=bt.min){let n=this.prepareParam(t,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:t},test(a){return N(a)||a>=this.resolve(n)}})}max(t,r=bt.max){let n=this.prepareParam(t,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:t},test(a){return N(a)||a<=this.resolve(n)}})}}ms.INVALID_DATE=gs;ms.prototype;function ES(e,t,r,n){var a=-1,s=e==null?0:e.length;for(n&&s&&(r=e[++a]);++a<s;)r=t(r,e[a],a,e);return r}var bS=ES;function SS(e){return function(t){return e==null?void 0:e[t]}}var $S=SS,_S=$S,CS={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},xS=_S(CS),TS=xS,wS=TS,FS=ve,IS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,AS="\\u0300-\\u036f",OS="\\ufe20-\\ufe2f",RS="\\u20d0-\\u20ff",PS=AS+OS+RS,kS="["+PS+"]",DS=RegExp(kS,"g");function LS(e){return e=FS(e),e&&e.replace(IS,wS).replace(DS,"")}var US=LS,NS=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function BS(e){return e.match(NS)||[]}var MS=BS,zS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function QS(e){return zS.test(e)}var jS=QS,ys="\\ud800-\\udfff",qS="\\u0300-\\u036f",GS="\\ufe20-\\ufe2f",VS="\\u20d0-\\u20ff",HS=qS+GS+VS,vs="\\u2700-\\u27bf",Es="a-z\\xdf-\\xf6\\xf8-\\xff",KS="\\xac\\xb1\\xd7\\xf7",YS="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",WS="\\u2000-\\u206f",ZS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bs="A-Z\\xc0-\\xd6\\xd8-\\xde",JS="\\ufe0e\\ufe0f",Ss=KS+YS+WS+ZS,$s="[']",an="["+Ss+"]",XS="["+HS+"]",_s="\\d+",e$="["+vs+"]",Cs="["+Es+"]",xs="[^"+ys+Ss+_s+vs+Es+bs+"]",t$="\\ud83c[\\udffb-\\udfff]",r$="(?:"+XS+"|"+t$+")",n$="[^"+ys+"]",Ts="(?:\\ud83c[\\udde6-\\uddff]){2}",ws="[\\ud800-\\udbff][\\udc00-\\udfff]",te="["+bs+"]",a$="\\u200d",sn="(?:"+Cs+"|"+xs+")",s$="(?:"+te+"|"+xs+")",ln="(?:"+$s+"(?:d|ll|m|re|s|t|ve))?",on="(?:"+$s+"(?:D|LL|M|RE|S|T|VE))?",Fs=r$+"?",Is="["+JS+"]?",i$="(?:"+a$+"(?:"+[n$,Ts,ws].join("|")+")"+Is+Fs+")*",l$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",u$=Is+Fs+i$,c$="(?:"+[e$,Ts,ws].join("|")+")"+u$,d$=RegExp([te+"?"+Cs+"+"+ln+"(?="+[an,te,"$"].join("|")+")",s$+"+"+on+"(?="+[an,te+sn,"$"].join("|")+")",te+"?"+sn+"+"+ln,te+"+"+on,o$,l$,_s,c$].join("|"),"g");function f$(e){return e.match(d$)||[]}var p$=f$,h$=MS,g$=jS,m$=ve,y$=p$;function v$(e,t,r){return e=m$(e),t=r?void 0:t,t===void 0?g$(e)?y$(e):h$(e):e.match(t)||[]}var E$=v$,b$=bS,S$=US,$$=E$,_$="[']",C$=RegExp(_$,"g");function x$(e){return function(t){return b$($$(S$(t).replace(C$,"")),e,"")}}var As=x$,T$=As,w$=T$(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),F$=w$;const un=I(F$);function I$(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var A$=I$,O$=A$;function R$(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:O$(e,t,r)}var P$=R$,k$="\\ud800-\\udfff",D$="\\u0300-\\u036f",L$="\\ufe20-\\ufe2f",U$="\\u20d0-\\u20ff",N$=D$+L$+U$,B$="\\ufe0e\\ufe0f",M$="\\u200d",z$=RegExp("["+M$+k$+N$+B$+"]");function Q$(e){return z$.test(e)}var Os=Q$;function j$(e){return e.split("")}var q$=j$,Rs="\\ud800-\\udfff",G$="\\u0300-\\u036f",V$="\\ufe20-\\ufe2f",H$="\\u20d0-\\u20ff",K$=G$+V$+H$,Y$="\\ufe0e\\ufe0f",W$="["+Rs+"]",xt="["+K$+"]",Tt="\\ud83c[\\udffb-\\udfff]",Z$="(?:"+xt+"|"+Tt+")",Ps="[^"+Rs+"]",ks="(?:\\ud83c[\\udde6-\\uddff]){2}",Ds="[\\ud800-\\udbff][\\udc00-\\udfff]",J$="\\u200d",Ls=Z$+"?",Us="["+Y$+"]?",X$="(?:"+J$+"(?:"+[Ps,ks,Ds].join("|")+")"+Us+Ls+")*",e_=Us+Ls+X$,t_="(?:"+[Ps+xt+"?",xt,ks,Ds,W$].join("|")+")",r_=RegExp(Tt+"(?="+Tt+")|"+t_+e_,"g");function n_(e){return e.match(r_)||[]}var a_=n_,s_=q$,i_=Os,l_=a_;function o_(e){return i_(e)?l_(e):s_(e)}var u_=o_,c_=P$,d_=Os,f_=u_,p_=ve;function h_(e){return function(t){t=p_(t);var r=d_(t)?f_(t):void 0,n=r?r[0]:t.charAt(0),a=r?c_(r,1).join(""):t.slice(1);return n[e]()+a}}var g_=h_,m_=g_,y_=m_("toUpperCase"),v_=y_,E_=ve,b_=v_;function S_(e){return b_(E_(e).toLowerCase())}var $_=S_,__=$_,C_=As,x_=C_(function(e,t,r){return t=t.toLowerCase(),e+(r?__(t):t)}),T_=x_;const w_=I(T_);var F_=Je,I_=ss,A_=ds;function O_(e,t){var r={};return t=A_(t),I_(e,function(n,a,s){F_(r,t(n,a,s),n)}),r}var R_=O_;const P_=I(R_);var tr={exports:{}};tr.exports=function(e){return Ns(k_(e),e)};tr.exports.array=Ns;function Ns(e,t){var r=e.length,n=new Array(r),a={},s=r,l=D_(t),o=L_(e);for(t.forEach(function(d){if(!o.has(d[0])||!o.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(e[s],s,new Set);return n;function c(d,f,p){if(p.has(d)){var h;try{h=", node was:"+JSON.stringify(d)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!o.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!a[f]){a[f]=!0;var g=l.get(d)||new Set;if(g=Array.from(g),f=g.length){p.add(d);do{var y=g[--f];c(y,o.get(y),p)}while(f);p.delete(d)}n[--r]=d}}}function k_(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var a=e[r];t.add(a[0]),t.add(a[1])}return Array.from(t)}function D_(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var a=e[r];t.has(a[0])||t.set(a[0],new Set),t.has(a[1])||t.set(a[1],new Set),t.get(a[0]).add(a[1])}return t}function L_(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}var U_=tr.exports;const N_=I(U_);function B_(e,t=[]){let r=[],n=new Set,a=new Set(t.map(([l,o])=>`${l}-${o}`));function s(l,o){let c=nt.split(l)[0];n.add(c),a.has(`${o}-${c}`)||r.push([o,c])}for(const l in e)if(Ue(e,l)){let o=e[l];n.add(l),K.isRef(o)&&o.isSibling?s(o.path,l):ns(o)&&"deps"in o&&o.deps.forEach(c=>s(c,l))}return N_.array(Array.from(n),r).reverse()}function cn(e,t){let r=1/0;return e.some((n,a)=>{var s;if(((s=t.path)==null?void 0:s.indexOf(n))!==-1)return r=a,!0}),r}function Bs(e){return(t,r)=>cn(e,t)-cn(e,r)}function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(this,arguments)}let dn=e=>Object.prototype.toString.call(e)==="[object Object]";function M_(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(n=>r.indexOf(n)===-1)}const z_=Bs([]);class Ms extends O{constructor(t){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=z_,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(n){if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}return this.isType(n)?n:null}),t&&this.shape(t)})}_typeCheck(t){return dn(t)||typeof t=="function"}_cast(t,r={}){var n;let a=super._cast(t,r);if(a===void 0)return this.getDefault();if(!this._typeCheck(a))return a;let s=this.fields,l=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,o=this._nodes.concat(Object.keys(a).filter(p=>this._nodes.indexOf(p)===-1)),c={},d=re({},r,{parent:c,__validating:r.__validating||!1}),f=!1;for(const p of o){let h=s[p],g=Ue(a,p);if(h){let y,E=a[p];d.path=(r.path?`${r.path}.`:"")+p,h=h.resolve({value:E,context:r.context,parent:c});let S="spec"in h?h.spec:void 0,v=S==null?void 0:S.strict;if(S!=null&&S.strip){f=f||p in a;continue}y=!r.__validating||!v?h.cast(a[p],d):a[p],y!==void 0&&(c[p]=y)}else g&&!l&&(c[p]=a[p]);c[p]!==a[p]&&(f=!0)}return f?c:a}_validate(t,r={},n){let a=[],{sync:s,from:l=[],originalValue:o=t,abortEarly:c=this.spec.abortEarly,recursive:d=this.spec.recursive}=r;l=[{schema:this,value:o},...l],r.__validating=!0,r.originalValue=o,r.from=l,super._validate(t,r,(f,p)=>{if(f){if(!R.isError(f)||c)return void n(f,p);a.push(f)}if(!d||!dn(p)){n(a[0]||null,p);return}o=o||p;let h=this._nodes.map(g=>(y,E)=>{let S=g.indexOf(".")===-1?(r.path?`${r.path}.`:"")+g:`${r.path||""}["${g}"]`,v=this.fields[g];if(v&&"validate"in v){v.validate(p[g],re({},r,{path:S,from:l,strict:!0,parent:p,originalValue:o[g]}),E);return}E(null)});_t({sync:s,tests:h,value:p,errors:a,endEarly:c,sort:this._sortErrors,path:r.path},n)})}clone(t){const r=super.clone(t);return r.fields=re({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(t){let r=super.concat(t),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const l=n[a];l===void 0?n[a]=s:l instanceof O&&s instanceof O&&(n[a]=s.concat(l))}return r.withMutation(()=>r.shape(n,this._excludedEdges))}getDefaultFromShape(){let t={};return this._nodes.forEach(r=>{const n=this.fields[r];t[r]="default"in n?n.getDefault():void 0}),t}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(t,r=[]){let n=this.clone(),a=Object.assign(n.fields,t);return n.fields=a,n._sortErrors=Bs(Object.keys(a)),r.length&&(Array.isArray(r[0])||(r=[r]),n._excludedEdges=[...n._excludedEdges,...r]),n._nodes=B_(a,n._excludedEdges),n}pick(t){const r={};for(const n of t)this.fields[n]&&(r[n]=this.fields[n]);return this.clone().withMutation(n=>(n.fields={},n.shape(r)))}omit(t){const r=this.clone(),n=r.fields;r.fields={};for(const a of t)delete n[a];return r.withMutation(()=>r.shape(n))}from(t,r,n){let a=nt.getter(t,!0);return this.transform(s=>{if(s==null)return s;let l=s;return Ue(s,t)&&(l=re({},s),n||delete l[t],l[r]=a(s)),l})}noUnknown(t=!0,r=St.noUnknown){typeof t=="string"&&(r=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=M_(this.schema,a);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,r=St.noUnknown){return this.noUnknown(!t,r)}transformKeys(t){return this.transform(r=>r&&P_(r,(n,a)=>t(a)))}camelCase(){return this.transformKeys(w_)}snakeCase(){return this.transformKeys(un)}constantCase(){return this.transformKeys(t=>un(t).toUpperCase())}describe(){let t=super.describe();return t.fields=fs(this.fields,r=>r.describe()),t}}function Ae(e){return new Ms(e)}Ae.prototype=Ms.prototype;const Q_={task:{title:"",description:"",mode:"import",status:"created",startTime:null,endTime:null,recordType:"",serializer:""},metadata:null,files:[]},j_=Ae({task:Ae({title:he().required("Title is required"),recordType:he().required("Record type is required"),serializer:he().required("Serializer is required"),mode:he().required("Mode is required")}),metadata:Ae().nullable()}),q_=({onSubmit:e})=>{const[t,r]=m.useState(void 0),n=async a=>{try{await EE(a.task,a.metadata,a.files,{autoValidate:!!a.metadata,onProgress(s,l){r({[s]:l})}}),e==null||e()}catch(s){throw console.error("Error creating import task:",s),s}};return i.default.createElement(ee.BaseForm,{formik:{initialValues:Q_,validationSchema:j_,onSubmit:n}},i.default.createElement(xE,{progress:t}))},zs=()=>{const[e,t]=m.useState(!1),{refreshSearch:r}=tt(),n=m.useCallback(()=>{t(!1),r()},[r]);return i.default.createElement(u.Modal,{closeIcon:!0,onClose:()=>t(!1),onOpen:()=>t(!0),open:e,trigger:i.default.createElement(u.Button,{color:"green",icon:!0,labelPosition:"left"},i.default.createElement(u.Icon,{name:"add"}),"New Import")},i.default.createElement(u.ModalHeader,null,"New Import Task"),i.default.createElement(u.ModalContent,null,i.default.createElement(q_,{onSubmit:n})))},G_=({currentQueryState:e,updateQueryState:t})=>{var s;const r=[{key:"all",label:"All",value:null},{key:"pending",label:"Pending",value:"pending"},{key:"success",label:"Success",value:"success"},{key:"failed",label:"Failed",value:"failed"}],n=(s=e.filters)==null?void 0:s.find(l=>l[0]==="status"),a=l=>{var c;const o=((c=e.filters)==null?void 0:c.filter(d=>d[0]!=="status"))||[];l&&o.push(["status",l]),t({...e,filters:o,page:1})};return i.default.createElement(u.Menu,{activeIndex:0,compact:!0,size:"tiny"},r.map(({key:l,label:o,value:c})=>i.default.createElement(u.Menu.Item,{key:l,name:l,active:(n==null?void 0:n[1])===c||c===null&&!n,onClick:()=>a(c)},o)))},Qs=va(G_),V_=({appId:e="search"})=>{const{showFacets:t,showImportModal:r}=tt().config;return i.default.createElement(b.default,{id:`${e}.SearchBarRow`},i.default.createElement("section",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"1rem",paddingBlock:"0.5rem",minBlockSize:"3rem"},"aria-label":"Records search and filters"},t&&i.default.createElement("div",{style:{flex:"0 0 auto"}},i.default.createElement(Qs,null)),i.default.createElement("div",{style:{flex:"1 1 auto",minInlineSize:"15rem"}},i.default.createElement(Wv,{autofocus:!0,actionProps:{icon:"search",content:"Search",className:"search","aria-label":"Submit search",type:"submit"},placeholder:"Search","aria-describedby":"search-instructions"})),r&&i.default.createElement("div",{style:{flex:"0 0 auto"}},i.default.createElement(zs,null))))},H_=()=>{const{config:e}=tt();return i.default.createElement(u.Grid,null,i.default.createElement(u.Grid.Row,{verticalAlign:"middle"},i.default.createElement(u.Grid.Column,{width:4,textAlign:"left"},i.default.createElement(wv,{label:t=>i.default.createElement("div",null,t," item(s)")})),i.default.createElement(u.Grid.Column,{width:8,textAlign:"center"},i.default.createElement(Lv,{options:{size:"mini"}})),i.default.createElement(u.Grid.Column,{width:4,textAlign:"right"},i.default.createElement(Hv,{values:e.paginationOptions.resultsPerPage,label:t=>i.default.createElement("p",null,t," results per page")}))))},rr=({config:e={},overriddenComponents:t={}})=>{var s,l,o,c,d;const r={...V,...e,initialQueryState:{...V.initialQueryState,...e.initialQueryState},layoutOptions:{...V.layoutOptions,...e.layoutOptions},paginationOptions:{...V.paginationOptions,...e.paginationOptions,resultsPerPage:((s=e.paginationOptions)==null?void 0:s.resultsPerPage)||V.paginationOptions.resultsPerPage},searchApi:{...V.searchApi,...e.searchApi,axios:{...V.searchApi.axios,...(l=e.searchApi)==null?void 0:l.axios,headers:{...V.searchApi.axios.headers,...(c=(o=e.searchApi)==null?void 0:o.axios)==null?void 0:c.headers}},invenio:{...V.searchApi.invenio,...(d=e.searchApi)==null?void 0:d.invenio}},showFacets:e.showFacets??!0,showImportModal:e.showImportModal??!0,showSearchFooter:e.showSearchFooter??!0},n=new qn(r.searchApi),a={[`${r.appId}.ResultsList.item`]:$E,[`${r.appId}.ResultsList.container`]:_E,[`${r.appId}.SearchFacets`]:Qs,...t};return i.default.createElement(fn.OverridableContext.Provider,{value:a},i.default.createElement(fv,{appName:r.appId,searchApi:n,initialQueryState:r.initialQueryState},i.default.createElement(iE,{config:r},i.default.createElement(V_,{appId:r.appId}),i.default.createElement(jv,null,i.default.createElement(Av,null),i.default.createElement(wa,null)),r.showSearchFooter&&i.default.createElement(H_,null))))},K_=({totalRecords:e=0,validatedRecords:t=0,errorRecords:r=0,successRecords:n=0,showWhenEmpty:a=!1,className:s="",style:l={}})=>{const o=e>0?t/e*100:0,c=e>0?r/e*100:0,d=e>0?n/e*100:0;if(e===0&&!a)return null;const f=[{color:"blue",icon:"check circle",title:"Validation",value:t,label:`of ${e} Validated`,progress:o,progressLabel:`${o.toFixed(1)}% Complete`},{color:"red",icon:"exclamation triangle",title:"Errors",value:r,label:"with Errors",progress:c,progressLabel:`${c.toFixed(1)}% of Total`},{color:"green",icon:"upload",title:"Import",value:n,label:"Successfully Imported",progress:d,progressLabel:`${d.toFixed(1)}% Complete`}];return i.default.createElement(u.Segment,{basic:!0,className:s,style:l},i.default.createElement(u.Grid,{columns:3,stackable:!0},f.map(p=>i.default.createElement(u.Grid.Column,{key:p.title},i.default.createElement(u.Card,{fluid:!0},i.default.createElement(u.Card.Content,null,i.default.createElement(u.Card.Header,{textAlign:"center"},p.title),i.default.createElement(u.Card.Description,{textAlign:"center"},i.default.createElement(u.Statistic,{size:"large",color:p.color,style:{margin:"1rem 0"}},i.default.createElement(u.Statistic.Value,null,p.value),i.default.createElement(u.Statistic.Label,null,p.label)),i.default.createElement(u.Segment,{basic:!0,textAlign:"center"},i.default.createElement(u.Segment.Inline,{basic:!0,size:"small",style:{marginBottom:"0.5rem"}},p.progressLabel),i.default.createElement(u.Progress,{percent:p.progress,color:p.color,size:"small",style:{marginBottom:"0.5rem"}})))))))))},js=m.createContext(void 0),Y_=({taskId:e,children:t})=>i.default.createElement(js.Provider,{value:{taskId:e}},i.default.createElement("div",{style:{paddingBlockStart:"1rem",display:"flex",flexDirection:"column",gap:"1rem"}},t)),qs=()=>{const e=m.useContext(js);if(!e)throw new Error("useTaskDetails must be used within a TaskDetailsProvider");return e},W_=({children:e})=>i.default.createElement(u.Table,{padded:!0,size:"small",comp:!0},i.default.createElement(u.TableHeader,null,i.default.createElement(u.TableRow,null,i.default.createElement(u.TableHeaderCell,null,"ID"),i.default.createElement(u.TableHeaderCell,null,"Title"),i.default.createElement(u.TableHeaderCell,null,"Status"),i.default.createElement(u.TableHeaderCell,null))),i.default.createElement(u.TableBody,null,e)),Z_=({record:e})=>i.default.createElement(u.Segment,null,i.default.createElement(u.List,null,i.default.createElement(u.List.Item,null,i.default.createElement(u.List.Icon,{name:"tag"}),i.default.createElement(u.List.Content,null,i.default.createElement(u.List.Header,null,"Record ID"),i.default.createElement(u.List.Description,null,e.id))),i.default.createElement(u.List.Item,null,i.default.createElement(u.List.Icon,{name:"calendar"}),i.default.createElement(u.List.Content,null,i.default.createElement(u.List.Header,null,"Created"),i.default.createElement(u.List.Description,null,Le(e.created)))),i.default.createElement(u.List.Item,null,i.default.createElement(u.List.Icon,{name:"edit"}),i.default.createElement(u.List.Content,null,i.default.createElement(u.List.Header,null,"Updated"),i.default.createElement(u.List.Description,null,Le(e.updated)))),e.generated_record_id&&i.default.createElement(u.List.Item,null,i.default.createElement(u.List.Icon,{name:"file alternate"}),i.default.createElement(u.List.Content,null,i.default.createElement(u.List.Header,null,"Generated Record ID"),i.default.createElement(u.List.Description,null,i.default.createElement("a",{href:`/records/${e.generated_record_id}`,target:"_blank",rel:"noopener noreferrer"},"/",e.generated_record_id)))))),J_=({record:e})=>i.default.createElement(u.Segment,null,e.errors.map((t,r)=>i.default.createElement(u.Message,{key:`error-${r}-${t.type}`,negative:!0},i.default.createElement(u.Message.Header,null,t.type),i.default.createElement("p",null,i.default.createElement("strong",null,"Location:")," ",t.loc),i.default.createElement("p",null,i.default.createElement("strong",null,"Message:")," ",t.msg)))),X_=({record:e})=>{var r,n;return(((r=e.record_files)==null?void 0:r.length)??0)>0||(((n=e.validated_record_files)==null?void 0:n.length)??0)>0?i.default.createElement(u.Segment,null,e.record_files&&e.record_files.length>0&&i.default.createElement(i.default.Fragment,null,i.default.createElement(u.Header,{as:"h4"},i.default.createElement(u.Icon,{name:"file"}),"File List"),i.default.createElement(u.List,{bulleted:!0},e.record_files.map(a=>i.default.createElement(u.List.Item,{key:`file-${a}`},i.default.createElement(u.List.Content,null,a))))),e.validated_record_files&&e.validated_record_files.length>0&&i.default.createElement(i.default.Fragment,null,i.default.createElement(u.Header,{as:"h4"},i.default.createElement(u.Icon,{name:"checkmark"}),"Validated Files"),i.default.createElement(u.Table,{celled:!0},i.default.createElement(u.Table.Header,null,i.default.createElement(u.Table.Row,null,i.default.createElement(u.Table.HeaderCell,null,"File"),i.default.createElement(u.Table.HeaderCell,null,"Size"),i.default.createElement(u.Table.HeaderCell,null,"Origin"),i.default.createElement(u.Table.HeaderCell,null,"Path"))),i.default.createElement(u.Table.Body,null,e.validated_record_files.map((a,s)=>i.default.createElement(u.Table.Row,{key:`validated-${a.key}-${s}`},i.default.createElement(u.Table.Cell,null,i.default.createElement(u.Icon,{name:"file"}),a.key),i.default.createElement(u.Table.Cell,null,(a.size/1024).toFixed(2)," KB"),i.default.createElement(u.Table.Cell,null,a.origin),i.default.createElement(u.Table.Cell,{style:{wordBreak:"break-all"}},a.full_path))))))):i.default.createElement(u.Message,{info:!0},i.default.createElement(u.Message.Header,null,"No Files"),i.default.createElement("p",null,"No files are associated with this record."))},e1=({record:e})=>i.default.createElement(u.Table,{celled:!0,striped:!0},i.default.createElement(u.Table.Header,null,i.default.createElement(u.Table.Row,null,i.default.createElement(u.Table.HeaderCell,null,"Field"),i.default.createElement(u.Table.HeaderCell,null,"Value"))),i.default.createElement(u.Table.Body,null,Object.entries(e.src_data).filter(([t,r])=>r&&r.trim()!=="").map(([t,r])=>i.default.createElement(u.Table.Row,{key:t},i.default.createElement(u.Table.Cell,null,i.default.createElement("strong",null,t)),i.default.createElement(u.Table.Cell,{style:{wordBreak:"break-word"}},r))))),t1=({record:e,open:t,onClose:r,initialTab:n=0})=>{const[a,s]=m.useState(n);m.useEffect(()=>{t&&s(n)},[t,n]);const l=(d,f)=>{const p=typeof f.activeIndex=="number"?f.activeIndex:0;s(p)},o=[{menuItem:{key:"basic",icon:"info circle",content:"Basic Info"},render:()=>i.default.createElement(u.Tab.Pane,null,i.default.createElement(Z_,{record:e}))},{menuItem:{key:"source",icon:"database",content:"Source Data"},render:()=>i.default.createElement(u.Tab.Pane,null,i.default.createElement(e1,{record:e}))},...e.errors&&e.errors.length>0?[{menuItem:{key:"errors",icon:"exclamation triangle",content:`Errors (${e.errors.length})`},render:()=>i.default.createElement(u.Tab.Pane,null,i.default.createElement(J_,{record:e}))}]:[],{menuItem:{key:"files",icon:"file",content:"Files"},render:()=>i.default.createElement(u.Tab.Pane,null,i.default.createElement(X_,{record:e}))}],c=()=>{var d,f,p,h,g;return((f=(d=e.serializer_data)==null?void 0:d.metadata)==null?void 0:f.title)||((h=(p=e.transformed_data)==null?void 0:p.metadata)==null?void 0:h.title)||((g=e.src_data)==null?void 0:g.title)||`Record ${e.id}`};return i.default.createElement(u.Modal,{open:t,onClose:r,size:"large",closeIcon:!0},i.default.createElement(u.Modal.Header,null,i.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},i.default.createElement("div",null,i.default.createElement(u.Icon,{name:"file alternate outline"}),c()),i.default.createElement(lE,{status:e.status}))),i.default.createElement(u.Modal.Content,{scrolling:!0},i.default.createElement(u.Tab,{panes:o,activeIndex:a,onTabChange:l})),i.default.createElement(u.Modal.Actions,null,i.default.createElement(u.Button,{onClick:r},i.default.createElement(u.Icon,{name:"close"}),"Close")))},Gs=({result:e,index:t})=>{var y;const[r,n]=m.useState("idle"),[a,s]=m.useState(!1),[l,o]=m.useState(0);if(!e)return null;const c=async()=>{try{n("copying"),await navigator.clipboard.writeText(e.id),n("copied"),setTimeout(()=>{n("idle")},2e3)}catch{n("idle")}},d=e.errors&&e.errors.length>0,f=Ya(e.status),p=()=>d?2:-1,h=E=>E==="red"?"times":E==="green"||E==="blue"?"check":"question",g=[...d?[{key:"view-errors",text:"View Errors",value:"view-errors",icon:"exclamation triangle",onClick:()=>{o(p()),s(!0)}}]:[],{key:"run",disabled:e.status==="success",text:"Run Record",value:"run",icon:"play",onClick:async()=>{try{await SE(e.id),console.log(`Record ${e.id} is being processed.`)}catch(E){console.error("Error running record:",E)}}},{key:"view-details",text:"View Details",value:"view-details",icon:"info circle",onClick:()=>{o(0),s(!0)}}];return i.default.createElement(u.TableRow,{key:t},i.default.createElement(u.TableCell,null,i.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},i.default.createElement("code",{style:{fontSize:"0.9em",color:"#666"}},e.id.length>20?`${e.id.substring(0,20)}`:e.id),i.default.createElement(u.Popup,{content:r==="copied"?"Copied!":"Copy ID",trigger:i.default.createElement(u.Button,{size:"mini",circular:!0,icon:!0,loading:r==="copying",onClick:c,color:r==="copied"?"green":void 0},i.default.createElement(u.Icon,{name:r==="copied"?"check":"copy"})),position:"top center",size:"mini"}))),i.default.createElement(u.TableCell,null,i.default.createElement("div",{style:{maxWidth:"300px"}},((y=e.src_data)==null?void 0:y.title)||i.default.createElement("em",{style:{color:"#999"}},"No Title Available"))),i.default.createElement(u.TableCell,null,i.default.createElement(u.Label,{color:f,size:"small"},i.default.createElement(u.Icon,{name:h(f)}),ge(e.status)),d&&i.default.createElement(u.Popup,{content:`${e.errors.length} error${e.errors.length>1?"s":""} found`,trigger:i.default.createElement(u.Icon,{name:"exclamation triangle",color:"red",style:{marginLeft:"0.5rem",cursor:"help"}}),position:"top center",size:"mini"})),i.default.createElement(u.TableCell,{textAlign:"right"},i.default.createElement(u.Dropdown,{button:!0,className:"icon",floating:!0,labeled:!0,icon:"ellipsis horizontal",text:"Actions",size:"mini"},i.default.createElement(u.Dropdown.Menu,null,g.map(E=>i.default.createElement(u.Dropdown.Item,{key:E.key,icon:E.icon,text:E.text,disabled:E.disabled,onClick:E.onClick})))),i.default.createElement(t1,{record:e,open:a,onClose:()=>s(!1),initialTab:l})))},r1=()=>{const{taskId:e}=qs(),t={"search.SearchBarRow":()=>null,"search.ResultsList.container":W_,"search.ResultsList.item":Gs};return i.default.createElement("div",null,i.default.createElement(u.Header,{as:"h3"},"Task Records"),i.default.createElement(rr,{config:{searchApi:{axios:{url:"/api/importer-records",withCredentials:!0}},initialQueryState:{hiddenParams:[["q",`task.id:${e}`]]},showFacets:!1,showImportModal:!1},overriddenComponents:t}))},n1=({fileInputRef:e,accept:t,maxSize:r,maxFiles:n,disabled:a=!1,isDragOver:s,uploadFiles:l,onInputChange:o,onDragOver:c,onDragLeave:d,onDrop:f,onFileDialogOpen:p})=>i.default.createElement(m.Fragment,null,i.default.createElement("input",{ref:e,type:"file",multiple:!0,accept:t,onChange:o,style:{display:"none"},disabled:a}),i.default.createElement(u.Segment,{placeholder:!0,className:`file-drop-zone ${s?"drag-over":""}`,onDragOver:c,onDragLeave:d,onDrop:f,style:{minHeight:"120px",border:s?"2px dashed #2185d0":"2px dashed #d4d4d5",backgroundColor:s?"#f8f9fa":"transparent",cursor:a?"not-allowed":"pointer",opacity:a?.6:1},onClick:p},i.default.createElement("div",{style:{textAlign:"center",padding:"20px"}},i.default.createElement(u.Icon,{name:"cloud upload",size:"huge",color:s?"blue":"grey"}),i.default.createElement("div",{style:{marginTop:"10px"}},i.default.createElement("p",null,i.default.createElement("strong",null,"Drop files here or click to select")),i.default.createElement("p",{style:{fontSize:"12px",color:"#666"}},"Max size: ",rt(r)," | Max files: ",n),l.length>0&&i.default.createElement("p",{style:{fontSize:"12px",color:"#2185d0",marginTop:"8px"}},i.default.createElement("strong",null,l.length," files selected "," ",Jt(l)," total")))))),Vs=({onUploadError:e}={})=>{const[t,r]=m.useState([]),[n]=m.useState(!1),a=m.useCallback((c,d,f)=>d&&!d.split(",").map(g=>g.trim()).some(g=>g.startsWith(".")?c.name.toLowerCase().endsWith(g.toLowerCase()):c.type.match(new RegExp(g.replace("*",".*"))))?`File type not accepted. Accepted types: ${d}`:f&&c.size>f?`File size exceeds maximum of ${(f/1024/1024).toFixed(2)}MB`:null,[]),s=m.useCallback((c,d,f,p)=>{const h=[],g=[];for(const y of c){if(p&&t.length+h.length>=p){g.push(`Maximum ${p} files allowed`);break}const E=a(y,d,f);if(E){g.push(`${y.name}: ${E}`);continue}if(t.some(v=>v.file.name===y.name&&v.file.size===y.size)){g.push(`${y.name}: File already selected`);continue}h.push({file:y,id:`${y.name}-${y.size}-${Date.now()}`})}return g.length>0&&(e==null||e(g.join(", "))),r(y=>[...y,...h]),h},[t,a,e]),l=m.useCallback(c=>{r(d=>d.filter(f=>f.id!==c))},[]),o=m.useCallback(()=>{r([])},[]);return{uploadFiles:t,isUploading:n,addFiles:s,removeFile:l,clearFiles:o}},a1=({uploadFiles:e,isUploading:t,handleRemoveFile:r,handleClearFiles:n})=>i.default.createElement(u.Segment,null,i.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}},i.default.createElement("strong",null,"Selected Files (",e.length,") "," ",Jt(e)),i.default.createElement(u.Button,{size:"mini",basic:!0,icon:"trash",content:"Clear All",onClick:n,disabled:t})),i.default.createElement(u.List,{divided:!0},e.map(a=>i.default.createElement(u.List.Item,{key:a.id},i.default.createElement(u.List.Content,null,i.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.default.createElement("div",{style:{flex:1}},i.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},i.default.createElement(u.Icon,{name:"file"}),i.default.createElement("span",null,a.file.name),i.default.createElement(u.Label,{size:"mini",basic:!0},rt(a.file.size))),a.error&&i.default.createElement(u.Message,{negative:!0,size:"mini",style:{marginTop:"5px"}},a.error)),i.default.createElement(u.Button,{size:"mini",basic:!0,icon:"close",onClick:()=>r(a.id),disabled:t}))))))),nr=({onChange:e,accept:t=".csv,.json,.xlsx,.txt",maxSize:r=10*1024*1024,maxFiles:n=5,disabled:a=!1,error:s})=>{const l=m.useRef(null),[o,c]=i.default.useState(!1),{uploadFiles:d,isUploading:f,addFiles:p,removeFile:h,clearFiles:g}=Vs({onUploadComplete:$=>{e($)},onUploadError:$=>{console.error("Upload error:",$)}}),y=m.useCallback($=>{if(!$||$.length===0)return;const q=Array.from($),G=p(q,t,r,n);if(G.length>0){const Ks=[...d,...G].map(Ys=>Ys.file);e(Ks)}},[p,t,r,n,e,d]),E=m.useCallback($=>{y($.target.files),l.current&&(l.current.value="")},[y]),S=m.useCallback($=>{$.preventDefault(),a||c(!0)},[a]),v=m.useCallback($=>{$.preventDefault(),c(!1)},[]),_=m.useCallback($=>{$.preventDefault(),c(!1),!a&&y($.dataTransfer.files)},[a,y]),F=m.useCallback(()=>{var $;a||($=l.current)==null||$.click()},[a]),A=m.useCallback($=>{h($);const q=d.filter(G=>G.id!==$).map(G=>G.file);e(q)},[h,d,e]),M=m.useCallback(()=>{g(),e([])},[g,e]);return i.default.createElement("div",null,i.default.createElement(n1,{fileInputRef:l,accept:t,maxSize:r,maxFiles:n,isDragOver:o,disabled:a,uploadFiles:d,onInputChange:E,onDragOver:S,onDragLeave:v,onDrop:_,onFileDialogOpen:F}),s&&i.default.createElement(u.Message,{negative:!0,size:"small"},i.default.createElement(u.Icon,{name:"exclamation triangle"}),s),d.length>0&&i.default.createElement(a1,{uploadFiles:d,isUploading:f,handleRemoveFile:A,handleClearFiles:M}))},s1=()=>{const{taskId:e}=qs(),[t,r]=m.useState(null),[n,a]=m.useState([]),[s,l]=m.useState(!1),[o,c]=m.useState(null),d=g=>{var E;const y=((E=g.target.files)==null?void 0:E[0])||null;r(y||null)},f=g=>{a(g)},p=()=>{l(!1),r(null),a([]),c(null)},h=async()=>{if(!(!t&&n.length===0))try{await bE(e,t,n.length>0?n:void 0,{onProgress:(g,y)=>c({[g]:y}),onError:(g,y)=>{console.error(`Error during ${y}:`,g)}}),t&&await Xa(e,{autoExecute:!0,onProgress:(g,y)=>c({[g]:y}),onError:(g,y)=>{console.error(`Error during ${y}:`,g)}}),l(!1),r(null),a([])}catch(g){console.error("Error uploading content:",g)}};return i.default.createElement(u.Modal,{open:s,onOpen:()=>l(!0),onClose:p,size:"small",closeIcon:!0,trigger:i.default.createElement(u.Button,{icon:"upload",size:"tiny",content:"Upload Content"})},i.default.createElement(u.Header,{icon:!0},i.default.createElement(u.Icon,{name:"upload"}),"Upload Metadata & Files"),i.default.createElement(u.Modal.Content,null,i.default.createElement(u.Form,{onSubmit:h},i.default.createElement(u.Form.Field,null,i.default.createElement("label",{htmlFor:"fileInput"},"Select Metadata File (Optional)"),i.default.createElement("input",{id:"fileInput",type:"file",onChange:d,accept:".csv"}),t&&i.default.createElement("div",{style:{marginTop:"0.5rem",color:"#666"}},"Selected: ",t.name)),i.default.createElement(u.Form.Field,null,i.default.createElement("div",{style:{marginBottom:"8px",fontSize:"14px",fontWeight:"bold"}},"Additional Files (Optional)"),i.default.createElement(nr,{value:n,onChange:f,accept:"*",maxSize:10*1024*1024*1024,maxFiles:100})))),i.default.createElement(u.Modal.Actions,null,i.default.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:".5rem"}},o&&i.default.createElement(qa,{progress:o}),i.default.createElement(u.Button,{onClick:p,color:"grey"},i.default.createElement(u.Icon,{name:"cancel"}),"Cancel"),i.default.createElement(u.Button,{onClick:h,color:"blue",disabled:!t&&n.length===0},i.default.createElement(u.Icon,{name:"upload"}),"Upload"))))},Hs=({taskId:e})=>{var h,g,y,E,S,v;const[t,r]=m.useState(null),{getStatus:n,isGettingStatus:a,runBulkImport:s,isBulkImporting:l,error:o}=ts(e,{onStatusChangeSuccess:r});if(m.useEffect(()=>{n()},[n]),a||l)return i.default.createElement(u.Segment,null,i.default.createElement(u.Loader,{content:"Loading task details..."}));if(o)return i.default.createElement(u.Message,{negative:!0,icon:!0},i.default.createElement(u.Icon,{name:"exclamation triangle"}),i.default.createElement(u.Message.Content,null,i.default.createElement(u.Message.Header,null,"Error Loading Task"),o));if(!t)return i.default.createElement(u.Message,{warning:!0,icon:!0},i.default.createElement(u.Icon,{name:"search"}),i.default.createElement(u.Message.Content,null,i.default.createElement(u.Message.Header,null,"Task Not Found"),"The requested task could not be found."));const c=((h=t.records_status)==null?void 0:h.total_records)||0,d=((g=t.records_status)==null?void 0:g.validated)||0,f=((y=t.records_status)==null?void 0:y.success)||0,p=(((E=t.records_status)==null?void 0:E["import failed"])||0)+(((S=t.records_status)==null?void 0:S["validation failed"])||0)+(((v=t.records_status)==null?void 0:v["serializer validation failed"])||0);return i.default.createElement(Y_,{taskId:e},i.default.createElement(u.Container,{fluid:!0,verticalAlign:"top"},i.default.createElement(u.Grid,null,i.default.createElement(u.Grid.Row,{verticalAlign:"top"},i.default.createElement(u.Grid.Column,{width:8,verticalAlign:"middle"},i.default.createElement("div",{style:{display:"flex",alignItems:"flex-start",gap:".5rem"}},i.default.createElement(u.Icon,{name:"tasks",circular:!0,size:"big"}),i.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},i.default.createElement(u.Header,{as:"h2"},i.default.createElement(u.Header.Content,null,t.title)),t.status&&i.default.createElement(Ga,{size:"large",status:t.status},ge(t.status))))),i.default.createElement(u.Grid.Column,{width:8,textAlign:"right"},i.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center",gap:"1rem"}},i.default.createElement("div",null,i.default.createElement(u.Button,{size:"tiny",color:"blue",icon:"refresh",content:"Refresh",onClick:()=>n(),loading:a}),i.default.createElement(s1,null),i.default.createElement(u.Button,{size:"tiny",color:"green",icon:"play",onClick:async()=>{await s(),await n()},loading:l,content:"Run Task"}))))),t.description&&i.default.createElement(u.Grid.Row,null,i.default.createElement(u.Grid.Column,{width:16},i.default.createElement(u.Message,{info:!0,icon:!0,size:"small"},i.default.createElement(u.Icon,{name:"info circle"}),i.default.createElement(u.Message.Content,null,i.default.createElement(u.Message.Header,null,"Notes"),t.description))))),c>0&&i.default.createElement(u.Segment,{basic:!0},i.default.createElement(K_,{totalRecords:c,validatedRecords:d,errorRecords:p,successRecords:f}))),i.default.createElement(r1,null))},i1={Search:rr,TaskDetails:Hs},l1={CREATED:"created",VALIDATING:"validating",SERIALIZER_VALIDATION_FAILED:"serializer validation failed",VALIDATION_FAILED:"validation failed",VALIDATED:"validated",IMPORT_FAILED:"import failed",IMPORTED:"success"},o1={CREATED:"created",VALIDATING:"validating",VALIDATION_FAILED:"validated with failures",VALIDATED:"validated",IMPORTING:"importing",IMPORT_FAILED:"imported with failures",SUCCESS:"success",DAMAGED:"damaged"},u1={CREATING_TASK:"Creating Task",UPLOADING_METADATA:"Uploading Metadata",UPLOADING_FILES:"Uploading Files",UPDATING_METADATA:"Updating Metadata",UPDATING_FILES:"Updating Files",VALIDATING:"Validating",EXECUTING:"Executing",UPDATING:"Updating"};exports.BulkImporter=i1;exports.FileUploader=nr;exports.ImportModal=zs;exports.ImporterTaskStates=o1;exports.InvenioImporterRecordStatus=l1;exports.OrchestrationStepsEnum=u1;exports.Search=rr;exports.TaskDetails=Hs;exports.TaskRecordItem=Gs;exports.capitalizeFirstLetter=ge;exports.createSearchApi=cE;exports.createSearchApiConfig=dE;exports.formatDate=Le;exports.formatFileSize=rt;exports.getCsrfToken=Ka;exports.getStatusColor=Ya;exports.getTotalSize=Va;exports.getTotalSizeFormatted=Jt;exports.useFileUploader=Vs;
